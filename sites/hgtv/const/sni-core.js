/* sni-hgtv-cfg.2.0.js - Tue, 26 Jun 2012 12:52:37 -0400 */
if(typeof SNI=="undefined"||!SNI){var SNI={};}
SNI.Config={env:"prod",site:"HGTV",domain:"www.hgtv.com",adServerUrl:"adsremote.scrippsnetworks.com",userPrefUrl:"http://www.athomewith.com/",userLoginUrl:"http://my.hgtv.com/",userMarket:"http://marketplace.hgtv.com/",snapPlayListUrl:"http://www.hgtv.com/hgtv",snapBinary:"http://common.scrippsnetworks.com/common/snap/snap-3.2.10.swf",snapConfigs:"http://hgtv.sndimg.com/webhgtv/hg20/snap-configs/v4",snapEnableHTML5: true,autoSuggestContainer:"#hd-wrap .search",autoSuggestService:"/search/autosuggest.do",omnitureMultiVariable:"prop14,eVar16,prop15,eVar18,prop16,eVar17,prop17,eVar19,prop18,prop19,eVar20,prop20",omnitureSingleVariable:"prop26",rsiKeyWord:"searchTerm",UR3:true,animationSpeed:250,navDropJsonPath:"http://www.hgtv.com/app/fetchElement/text.json?site=HGTV&type=TEXT&id=99096&preview=no",navHoverDelay:350,navHoverDelayIn:100,kudzuSearchPath:"http://api.kudzu.com/GetSearchResults?license=HGTV&page=1&numResults=3&format=json",FB:{ChannelUrl:"http://www.hgtv.com/hgtv/fbchannel/0,,,00.html"},Pinterest:{defaultImgUrl:"http://hgtv.sndimg.com/webhgtv/hg20/imgs/hgtv-logo-new.png",defaultFromMsg:" from HGTV.com"}};



/*
 * sni-core-library
 * Tue, 19 Jun 2012 13:04:44 -0400 
 * version 2.0
 *
 */

/*!	SWFObject v2.2 <http://code.google.com/p/swfobject/>
 *	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

var swfobject=function(){var UNDEF="undefined",OBJECT="object",SHOCKWAVE_FLASH="Shockwave Flash",SHOCKWAVE_FLASH_AX="ShockwaveFlash.ShockwaveFlash",FLASH_MIME_TYPE="application/x-shockwave-flash",EXPRESS_INSTALL_ID="SWFObjectExprInst",ON_READY_STATE_CHANGE="onreadystatechange",win=window,doc=document,nav=navigator,plugin=false,domLoadFnArr=[main],regObjArr=[],objIdArr=[],listenersArr=[],storedAltContent,storedAltContentId,storedCallbackFn,storedCallbackObj,isDomLoaded=false,isExpressInstallActive=false,dynamicStylesheet,dynamicStylesheetMedia,autoHideShow=true,ua=function(){var w3cdom=typeof doc.getElementById!=UNDEF&&typeof doc.getElementsByTagName!=UNDEF&&typeof doc.createElement!=UNDEF,u=nav.userAgent.toLowerCase(),p=nav.platform.toLowerCase(),windows=p?/win/.test(p):/win/.test(u),mac=p?/mac/.test(p):/mac/.test(u),webkit=/webkit/.test(u)?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,ie=!+"\v1",playerVersion=[0,0,0],d=null;if(typeof nav.plugins!=UNDEF&&typeof nav.plugins[SHOCKWAVE_FLASH]==OBJECT){d=nav.plugins[SHOCKWAVE_FLASH].description;if(d&&!(typeof nav.mimeTypes!=UNDEF&&nav.mimeTypes[FLASH_MIME_TYPE]&&!nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin)){plugin=true;ie=false;d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");playerVersion[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);playerVersion[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);playerVersion[2]=/[a-zA-Z]/.test(d)?parseInt(d.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;}}
else if(typeof win.ActiveXObject!=UNDEF){try{var a=new ActiveXObject(SHOCKWAVE_FLASH_AX);if(a){d=a.GetVariable("$version");if(d){ie=true;d=d.split(" ")[1].split(",");playerVersion=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}}
catch(e){}}
return{w3:w3cdom,pv:playerVersion,wk:webkit,ie:ie,win:windows,mac:mac};}(),onDomLoad=function(){if(!ua.w3){return;}
if((typeof doc.readyState!=UNDEF&&doc.readyState=="complete")||(typeof doc.readyState==UNDEF&&(doc.getElementsByTagName("body")[0]||doc.body))){callDomLoadFunctions();}
if(!isDomLoaded){if(typeof doc.addEventListener!=UNDEF){doc.addEventListener("DOMContentLoaded",callDomLoadFunctions,false);}
if(ua.ie&&ua.win){doc.attachEvent(ON_READY_STATE_CHANGE,function(){if(doc.readyState=="complete"){doc.detachEvent(ON_READY_STATE_CHANGE,arguments.callee);callDomLoadFunctions();}});if(win==top){(function(){if(isDomLoaded){return;}
try{doc.documentElement.doScroll("left");}
catch(e){setTimeout(arguments.callee,0);return;}
callDomLoadFunctions();})();}}
if(ua.wk){(function(){if(isDomLoaded){return;}
if(!/loaded|complete/.test(doc.readyState)){setTimeout(arguments.callee,0);return;}
callDomLoadFunctions();})();}
addLoadEvent(callDomLoadFunctions);}}();function callDomLoadFunctions(){if(isDomLoaded){return;}
try{var t=doc.getElementsByTagName("body")[0].appendChild(createElement("span"));t.parentNode.removeChild(t);}
catch(e){return;}
isDomLoaded=true;var dl=domLoadFnArr.length;for(var i=0;i<dl;i++){domLoadFnArr[i]();}}
function addDomLoadEvent(fn){if(isDomLoaded){fn();}
else{domLoadFnArr[domLoadFnArr.length]=fn;}}
function addLoadEvent(fn){if(typeof win.addEventListener!=UNDEF){win.addEventListener("load",fn,false);}
else if(typeof doc.addEventListener!=UNDEF){doc.addEventListener("load",fn,false);}
else if(typeof win.attachEvent!=UNDEF){addListener(win,"onload",fn);}
else if(typeof win.onload=="function"){var fnOld=win.onload;win.onload=function(){fnOld();fn();};}
else{win.onload=fn;}}
function main(){if(plugin){testPlayerVersion();}
else{matchVersions();}}
function testPlayerVersion(){var b=doc.getElementsByTagName("body")[0];var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);var t=b.appendChild(o);if(t){var counter=0;(function(){if(typeof t.GetVariable!=UNDEF){var d=t.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");ua.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}
else if(counter<10){counter++;setTimeout(arguments.callee,10);return;}
b.removeChild(o);t=null;matchVersions();})();}
else{matchVersions();}}
function matchVersions(){var rl=regObjArr.length;if(rl>0){for(var i=0;i<rl;i++){var id=regObjArr[i].id;var cb=regObjArr[i].callbackFn;var cbObj={success:false,id:id};if(ua.pv[0]>0){var obj=getElementById(id);if(obj){if(hasPlayerVersion(regObjArr[i].swfVersion)&&!(ua.wk&&ua.wk<312)){setVisibility(id,true);if(cb){cbObj.success=true;cbObj.ref=getObjectById(id);cb(cbObj);}}
else if(regObjArr[i].expressInstall&&canExpressInstall()){var att={};att.data=regObjArr[i].expressInstall;att.width=obj.getAttribute("width")||"0";att.height=obj.getAttribute("height")||"0";if(obj.getAttribute("class")){att.styleclass=obj.getAttribute("class");}
if(obj.getAttribute("align")){att.align=obj.getAttribute("align");}
var par={};var p=obj.getElementsByTagName("param");var pl=p.length;for(var j=0;j<pl;j++){if(p[j].getAttribute("name").toLowerCase()!="movie"){par[p[j].getAttribute("name")]=p[j].getAttribute("value");}}
showExpressInstall(att,par,id,cb);}
else{displayAltContent(obj);if(cb){cb(cbObj);}}}}
else{setVisibility(id,true);if(cb){var o=getObjectById(id);if(o&&typeof o.SetVariable!=UNDEF){cbObj.success=true;cbObj.ref=o;}
cb(cbObj);}}}}}
function getObjectById(objectIdStr){var r=null;var o=getElementById(objectIdStr);if(o&&o.nodeName=="OBJECT"){if(typeof o.SetVariable!=UNDEF){r=o;}
else{var n=o.getElementsByTagName(OBJECT)[0];if(n){r=n;}}}
return r;}
function canExpressInstall(){return!isExpressInstallActive&&hasPlayerVersion("6.0.65")&&(ua.win||ua.mac)&&!(ua.wk&&ua.wk<312);}
function showExpressInstall(att,par,replaceElemIdStr,callbackFn){isExpressInstallActive=true;storedCallbackFn=callbackFn||null;storedCallbackObj={success:false,id:replaceElemIdStr};var obj=getElementById(replaceElemIdStr);if(obj){if(obj.nodeName=="OBJECT"){storedAltContent=abstractAltContent(obj);storedAltContentId=null;}
else{storedAltContent=obj;storedAltContentId=replaceElemIdStr;}
att.id=EXPRESS_INSTALL_ID;if(typeof att.width==UNDEF||(!/%$/.test(att.width)&&parseInt(att.width,10)<310)){att.width="310";}
if(typeof att.height==UNDEF||(!/%$/.test(att.height)&&parseInt(att.height,10)<137)){att.height="137";}
doc.title=doc.title.slice(0,47)+" - Flash Player Installation";var pt=ua.ie&&ua.win?"ActiveX":"PlugIn",fv="MMredirectURL="+win.location.toString().replace(/&/g,"%26")+"&MMplayerType="+pt+"&MMdoctitle="+doc.title;if(typeof par.flashvars!=UNDEF){par.flashvars+="&"+fv;}
else{par.flashvars=fv;}
if(ua.ie&&ua.win&&obj.readyState!=4){var newObj=createElement("div");replaceElemIdStr+="SWFObjectNew";newObj.setAttribute("id",replaceElemIdStr);obj.parentNode.insertBefore(newObj,obj);obj.style.display="none";(function(){if(obj.readyState==4){obj.parentNode.removeChild(obj);}
else{setTimeout(arguments.callee,10);}})();}
createSWF(att,par,replaceElemIdStr);}}
function displayAltContent(obj){if(ua.ie&&ua.win&&obj.readyState!=4){var el=createElement("div");obj.parentNode.insertBefore(el,obj);el.parentNode.replaceChild(abstractAltContent(obj),el);obj.style.display="none";(function(){if(obj.readyState==4){obj.parentNode.removeChild(obj);}
else{setTimeout(arguments.callee,10);}})();}
else{obj.parentNode.replaceChild(abstractAltContent(obj),obj);}}
function abstractAltContent(obj){var ac=createElement("div");if(ua.win&&ua.ie){ac.innerHTML=obj.innerHTML;}
else{var nestedObj=obj.getElementsByTagName(OBJECT)[0];if(nestedObj){var c=nestedObj.childNodes;if(c){var cl=c.length;for(var i=0;i<cl;i++){if(!(c[i].nodeType==1&&c[i].nodeName=="PARAM")&&!(c[i].nodeType==8)){ac.appendChild(c[i].cloneNode(true));}}}}}
return ac;}
function createSWF(attObj,parObj,id){var r,el=getElementById(id);if(ua.wk&&ua.wk<312){return r;}
if(el){if(typeof attObj.id==UNDEF){attObj.id=id;}
if(ua.ie&&ua.win){var att="";for(var i in attObj){if(attObj[i]!=Object.prototype[i]){if(i.toLowerCase()=="data"){parObj.movie=attObj[i];}
else if(i.toLowerCase()=="styleclass"){att+=' class="'+attObj[i]+'"';}
else if(i.toLowerCase()!="classid"){att+=' '+i+'="'+attObj[i]+'"';}}}
var par="";for(var j in parObj){if(parObj[j]!=Object.prototype[j]){par+='<param name="'+j+'" value="'+parObj[j]+'" />';}}
el.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+att+'>'+par+'</object>';objIdArr[objIdArr.length]=attObj.id;r=getElementById(attObj.id);}
else{var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);for(var m in attObj){if(attObj[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){o.setAttribute("class",attObj[m]);}
else if(m.toLowerCase()!="classid"){o.setAttribute(m,attObj[m]);}}}
for(var n in parObj){if(parObj[n]!=Object.prototype[n]&&n.toLowerCase()!="movie"){createObjParam(o,n,parObj[n]);}}
el.parentNode.replaceChild(o,el);r=o;}}
return r;}
function createObjParam(el,pName,pValue){var p=createElement("param");p.setAttribute("name",pName);p.setAttribute("value",pValue);el.appendChild(p);}
function removeSWF(id){var obj=getElementById(id);if(obj&&obj.nodeName=="OBJECT"){if(ua.ie&&ua.win){obj.style.display="none";(function(){if(obj.readyState==4){removeObjectInIE(id);}
else{setTimeout(arguments.callee,10);}})();}
else{obj.parentNode.removeChild(obj);}}}
function removeObjectInIE(id){var obj=getElementById(id);if(obj){for(var i in obj){if(typeof obj[i]=="function"){obj[i]=null;}}
obj.parentNode.removeChild(obj);}}
function getElementById(id){var el=null;try{el=doc.getElementById(id);}
catch(e){}
return el;}
function createElement(el){return doc.createElement(el);}
function addListener(target,eventType,fn){target.attachEvent(eventType,fn);listenersArr[listenersArr.length]=[target,eventType,fn];}
function hasPlayerVersion(rv){var pv=ua.pv,v=rv.split(".");v[0]=parseInt(v[0],10);v[1]=parseInt(v[1],10)||0;v[2]=parseInt(v[2],10)||0;return(pv[0]>v[0]||(pv[0]==v[0]&&pv[1]>v[1])||(pv[0]==v[0]&&pv[1]==v[1]&&pv[2]>=v[2]))?true:false;}
function createCSS(sel,decl,media,newStyle){if(ua.ie&&ua.mac){return;}
var h=doc.getElementsByTagName("head")[0];if(!h){return;}
var m=(media&&typeof media=="string")?media:"screen";if(newStyle){dynamicStylesheet=null;dynamicStylesheetMedia=null;}
if(!dynamicStylesheet||dynamicStylesheetMedia!=m){var s=createElement("style");s.setAttribute("type","text/css");s.setAttribute("media",m);dynamicStylesheet=h.appendChild(s);if(ua.ie&&ua.win&&typeof doc.styleSheets!=UNDEF&&doc.styleSheets.length>0){dynamicStylesheet=doc.styleSheets[doc.styleSheets.length-1];}
dynamicStylesheetMedia=m;}
if(ua.ie&&ua.win){if(dynamicStylesheet&&typeof dynamicStylesheet.addRule==OBJECT){dynamicStylesheet.addRule(sel,decl);}}
else{if(dynamicStylesheet&&typeof doc.createTextNode!=UNDEF){dynamicStylesheet.appendChild(doc.createTextNode(sel+" {"+decl+"}"));}}}
function setVisibility(id,isVisible){if(!autoHideShow){return;}
var v=isVisible?"visible":"hidden";if(isDomLoaded&&getElementById(id)){getElementById(id).style.visibility=v;}
else{createCSS("#"+id,"visibility:"+v);}}
function urlEncodeIfNecessary(s){var regex=/[\\\"<>\.;]/;var hasBadChars=regex.exec(s)!=null;return hasBadChars&&typeof encodeURIComponent!=UNDEF?encodeURIComponent(s):s;}
var cleanup=function(){if(ua.ie&&ua.win){window.attachEvent("onunload",function(){var ll=listenersArr.length;for(var i=0;i<ll;i++){listenersArr[i][0].detachEvent(listenersArr[i][1],listenersArr[i][2]);}
var il=objIdArr.length;for(var j=0;j<il;j++){removeSWF(objIdArr[j]);}
for(var k in ua){ua[k]=null;}
ua=null;for(var l in swfobject){swfobject[l]=null;}
swfobject=null;});}}();return{registerObject:function(objectIdStr,swfVersionStr,xiSwfUrlStr,callbackFn){if(ua.w3&&objectIdStr&&swfVersionStr){var regObj={};regObj.id=objectIdStr;regObj.swfVersion=swfVersionStr;regObj.expressInstall=xiSwfUrlStr;regObj.callbackFn=callbackFn;regObjArr[regObjArr.length]=regObj;setVisibility(objectIdStr,false);}
else if(callbackFn){callbackFn({success:false,id:objectIdStr});}},getObjectById:function(objectIdStr){if(ua.w3){return getObjectById(objectIdStr);}},embedSWF:function(swfUrlStr,replaceElemIdStr,widthStr,heightStr,swfVersionStr,xiSwfUrlStr,flashvarsObj,parObj,attObj,callbackFn){var callbackObj={success:false,id:replaceElemIdStr};if(ua.w3&&!(ua.wk&&ua.wk<312)&&swfUrlStr&&replaceElemIdStr&&widthStr&&heightStr&&swfVersionStr){setVisibility(replaceElemIdStr,false);addDomLoadEvent(function(){widthStr+="";heightStr+="";var att={};if(attObj&&typeof attObj===OBJECT){for(var i in attObj){att[i]=attObj[i];}}
att.data=swfUrlStr;att.width=widthStr;att.height=heightStr;var par={};if(parObj&&typeof parObj===OBJECT){for(var j in parObj){par[j]=parObj[j];}}
if(flashvarsObj&&typeof flashvarsObj===OBJECT){for(var k in flashvarsObj){if(typeof par.flashvars!=UNDEF){par.flashvars+="&"+k+"="+flashvarsObj[k];}
else{par.flashvars=k+"="+flashvarsObj[k];}}}
if(hasPlayerVersion(swfVersionStr)){var obj=createSWF(att,par,replaceElemIdStr);if(att.id==replaceElemIdStr){setVisibility(replaceElemIdStr,true);}
callbackObj.success=true;callbackObj.ref=obj;}
else if(xiSwfUrlStr&&canExpressInstall()){att.data=xiSwfUrlStr;showExpressInstall(att,par,replaceElemIdStr,callbackFn);return;}
else{setVisibility(replaceElemIdStr,true);}
if(callbackFn){callbackFn(callbackObj);}});}
else if(callbackFn){callbackFn(callbackObj);}},switchOffAutoHideShow:function(){autoHideShow=false;},ua:ua,getFlashPlayerVersion:function(){return{major:ua.pv[0],minor:ua.pv[1],release:ua.pv[2]};},hasFlashPlayerVersion:hasPlayerVersion,createSWF:function(attObj,parObj,replaceElemIdStr){if(ua.w3){return createSWF(attObj,parObj,replaceElemIdStr);}
else{return undefined;}},showExpressInstall:function(att,par,replaceElemIdStr,callbackFn){if(ua.w3&&canExpressInstall()){showExpressInstall(att,par,replaceElemIdStr,callbackFn);}},removeSWF:function(objElemIdStr){if(ua.w3){removeSWF(objElemIdStr);}},createCSS:function(selStr,declStr,mediaStr,newStyleBoolean){if(ua.w3){createCSS(selStr,declStr,mediaStr,newStyleBoolean);}},addDomLoadEvent:addDomLoadEvent,addLoadEvent:addLoadEvent,getQueryParamValue:function(param){var q=doc.location.search||doc.location.hash;if(q){if(/\?/.test(q)){q=q.split("?")[1];}
if(param==null){return urlEncodeIfNecessary(q);}
var pairs=q.split("&");for(var i=0;i<pairs.length;i++){if(pairs[i].substring(0,pairs[i].indexOf("="))==param){return urlEncodeIfNecessary(pairs[i].substring((pairs[i].indexOf("=")+1)));}}}
return"";},expressInstallCallback:function(){if(isExpressInstallActive){var obj=getElementById(EXPRESS_INSTALL_ID);if(obj&&storedAltContent){obj.parentNode.replaceChild(storedAltContent,obj);if(storedAltContentId){setVisibility(storedAltContentId,true);if(ua.ie&&ua.win){storedAltContent.style.display="block";}}
if(storedCallbackFn){storedCallbackFn(storedCallbackObj);}}
isExpressInstallActive=false;}}};}();
/*
 ### jQuery XML to JSON Plugin v1.1 - 2008-07-01 ###
 * http://www.fyneworks.com/ - diego@fyneworks.com
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 ###
 Website: http://www.fyneworks.com/jquery/xml-to-json/
*//*
 # INSPIRED BY: http://www.terracoder.com/
           AND: http://www.thomasfrank.se/xml_to_json.html
											AND: http://www.kawa.net/works/js/xml/objtree-e.html
*//*
 This simple script converts XML (document of code) into a JSON object. It is the combination of 2
 'xml to json' great parsers (see below) which allows for both 'simple' and 'extended' parsing modes.
*/
;if(window.jQuery)(function($){$.extend({xml2json:function(xml,extended){if(!xml)return{};function parseXML(node,simple){if(!node)return null;var txt='',obj=null,att=null;var nt=node.nodeType,nn=jsVar(node.localName||node.nodeName);var nv=node.text||node.nodeValue||'';if(node.childNodes){if(node.childNodes.length>0){$.each(node.childNodes,function(n,cn){var cnt=cn.nodeType,cnn=jsVar(cn.localName||cn.nodeName);var cnv=cn.text||cn.nodeValue||'';if(cnt==8){return;}
else if(cnt==3||cnt==4||!cnn){if(cnv.match(/^\s+$/)){return;};txt+=cnv.replace(/^\s+/,'').replace(/\s+$/,'');}
else{obj=obj||{};if(obj[cnn]){if(!obj[cnn].length)obj[cnn]=myArr(obj[cnn]);obj[cnn]=myArr(obj[cnn]);obj[cnn][obj[cnn].length]=parseXML(cn,true);obj[cnn].length=obj[cnn].length;}
else{obj[cnn]=parseXML(cn);};};});};};if(node.attributes){if(node.attributes.length>0){att={};obj=obj||{};$.each(node.attributes,function(a,at){var atn=jsVar(at.name),atv=at.value;att[atn]=atv;if(obj[atn]){obj[cnn]=myArr(obj[cnn]);obj[atn][obj[atn].length]=atv;obj[atn].length=obj[atn].length;}
else{obj[atn]=atv;};});};};if(obj){obj=$.extend((txt!=''?new String(txt):{}),obj||{});txt=(obj.text)?(typeof(obj.text)=='object'?obj.text:[obj.text||'']).concat([txt]):txt;if(txt)obj.text=txt;txt='';};var out=obj||txt;if(extended){if(txt)out={};txt=out.text||txt||'';if(txt)out.text=txt;if(!simple)out=myArr(out);};return out;};var jsVar=function(s){return String(s||'').replace(/-/g,"_");};function isNum(s){var regexp=/^((-)?([0-9]+)(([\.\,]{0,1})([0-9]+))?$)/;return(typeof s=="number")||regexp.test(String((s&&typeof s=="string")?jQuery.trim(s):''));};var myArr=function(o){if(!$.isArray(o))o=[o];o.length=o.length;return o;};if(typeof xml=='string')xml=$.text2xml(xml);if(!xml.nodeType)return;if(xml.nodeType==3||xml.nodeType==4)return xml.nodeValue;var root=(xml.nodeType==9)?xml.documentElement:xml;var out=parseXML(root,true);xml=null;root=null;return out;},text2xml:function(str){var out;try{var xml=($.browser.msie)?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser();xml.async=false;}catch(e){throw new Error("XML Parser could not be instantiated")};try{if($.browser.msie)out=(xml.loadXML(str))?xml:false;else out=xml.parseFromString(str,"text/xml");}catch(e){throw new Error("Error parsing XML string")};return out;}});})(jQuery);
/*** sni-core ***/

if(typeof(SNI.Util)=="undefined"){SNI.Util={};}
SNI.Util.inputField=function(elem,defaultText,preventDefault,allowDefaultText){var elem=$(elem);var preventDefault=preventDefault==null?'blank':preventDefault;var hintClass='input-hint';if(elem.length>0){var input=elem.get(0);if($(input).is('input[type=text]')){if($.trim(elem.val())===''||$.trim(elem.val())===defaultText){elem.val(defaultText);elem.addClass(hintClass);}
elem.blur(function(){if($.trim(this.value)===''){this.value=defaultText;elem.addClass(hintClass);}});elem.focus(function(){if(this.value==defaultText&&!allowDefaultText){this.value='';}
elem.removeClass(hintClass);});if(preventDefault===true||preventDefault=='blank'){form=$(elem.get(0).form);if(form){form.submit(function(event){if($.trim(elem.val())==defaultText||$.trim(elem.val())==""){if(preventDefault===true){event.preventDefault();elem.focus();}else{elem.val('');}}
return true;});}}}}};SNI.Util.popup=function(url,w,h,menu){x=Math.floor((screen.width-w)/2);y=Math.floor((screen.height-h)/2);now=new Date();features="screenx="+x+",screeny="+y+",left="+x+",top="+y+",width="+w+",height="+h+",location=no,resizable=yes"+",directories=no,status=no,scrollbars=yes";if(menu!=null){features+=",menubar=yes,toolbar=yes";}else{features+=",menubar=no,toolbar=no";}
window.open(url,"newwin",features);};SNI.Util.getUrlParam=function(name){name=name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(window.location.href);if(results==null){return"";}else{return results[1];}};SNI.Util.truncate=function(str,length,truncation){length=length||30;truncation=truncation==undefined?'...':truncation;return str.length>length?str.slice(0,length-truncation.length)+truncation:str;};SNI.Util.ImageEnlarge={init:function(element,config){config=$.extend({clickCtrl:"a.img-enlarge",insertPoint:element,imgFrame:"#blow-up",closeCtrl:"#blow-up a.close",closeCtrlBtn:"#blow-up a.close-btn"},config);$(config.clickCtrl).click(function(){$(config.insertPoint).prepend(SNI.Util.ImageEnlarge.htmlImage(this.href));$(config.closeCtrl).click(SNI.Util.ImageEnlarge.closeImg);$(config.closeCtrlBtn).click(SNI.Util.ImageEnlarge.closeImg);return false;});},htmlImage:function(imgURL){retHTML="<div id='blow-up' class='clrfix'><div class=\"flyout fxlg\"><div class=\"fly-hd\"></div>";retHTML+="<div class=\"fly-bd\"><a class=\"close\" href=\"#\"></a><img width='616' src='"+imgURL+"'>";retHTML+="<p class=\"blow-up-btn clrfix\"><a href=\"#\" class=\"button close-btn\"><span>Close</span></a></p>";if((typeof pgalurl)!="undefined"){retHTML+="<span class='pgal-link'>or <a href='"+pgalurl+"'>Go to Photo Gallery</a></span>";}
retHTML+="</div><div class=\"fly-ft\"></div></div></div>";return retHTML;},closeImg:function(e){$(this).parents().find("#blow-up").remove();return false;}};SNI.Util.cloneObject=function(obj){var newObj=(obj instanceof Array)?[]:{};for(var i in obj){if(obj[i]&&typeof obj[i]=="object"){newObj[i]=SNI.Util.cloneObject(obj[i]);}else
newObj[i]=obj[i];}
return newObj;};SNI.Util.mergeObjects=function(trg,src){var lastArg=arguments[arguments.length-1];var deep=arguments.length>2&&typeof(lastArg)=='boolean'?lastArg:false;var result=SNI.Util.cloneObject(trg);if(typeof(src)!='object'||src==null)return result;for(prop in src){if(typeof(trg[prop])=='undefined'||trg[prop].constructor==Array||typeof(trg[prop])!='object'||!deep){result[prop]=src[prop];continue;}
result[prop]=SNI.Util.mergeObjects(trg[prop],src[prop],deep);}
return result;};SNI.Util.Cookie={SEARCH:'S',UI:'U',get:function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}
return null;},set:function(name,value,days,path){var expires="";if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}
if(!path){path='/';}
document.cookie=name+"="+value+expires+"; path="+path;},remove:function(name){this.set(name,"",-1);},persist:function(cookieName,key,value,days){var cookie=this.get(cookieName);days=days||30;if(typeof value=='undefined'){if(cookie==null){return null;}else{var values=this.getPersistValues(cookie);return values[key];}}else{if(cookie==null){var values={};values[key]=value;}else{var values=this.getPersistValues(cookie);values[key]=value;}
this.set(cookieName,this.buildPersistString(values),days);}},getPersistValues:function(cookie){var values={};var temp='';$.each(cookie.split('&'),function(k,v){temp=v.split('=');if(temp[0]){values[temp[0]]=unescape(temp[1]);}});return values;},buildPersistString:function(values){var result=[];$.each(values,function(k,v){if(v!=null){result.push(k+'='+escape(v));}});return result.join('&');}};SNI.Util.LazyLoad=function(img_element,src){if(img_element.attr('src')){return;}
var image_src=src||img_element.attr('data-src');img_element.attr('src',image_src);return img_element;}
SNI.Util.Url={setParameter:function(url,param,val){var curPairs;var paramPair;var hashString="";if(url.indexOf("#")>-1){hashString=url.substr(url.indexOf("#")+1);url=url.substring(0,url.indexOf("#"));}
var allPairs=[];var urlParts=url.split('?');if(urlParts.length>1){curPairs=urlParts[1].split('&');jQuery(curPairs).each(function(index){var paramPair=this;var paramParts=paramPair.split('=');if(paramParts[0]!=param){allPairs.push(paramParts[0]+'='+(typeof paramParts[1]!="undefined"?paramParts[1]:''));}});}
if(val!==null&&typeof val!=='undefined'){allPairs.push(param+'='+val);}
return urlParts[0]+'?'+allPairs.join('&')+(hashString?"#"+hashString:"");},getParameter:function(url,param){var i,urlParts,curPairs,paramParts;if(url.indexOf("#")>-1){url=url.substring(0,url.indexOf("#"));}
urlParts=url.split('?');if(urlParts.length>1){curPairs=urlParts[1].split('&');for(i=0;i<curPairs.length;i++){var paramPair=curPairs[i];paramParts=paramPair.split('=');if(paramParts[0]===param){return paramParts[1];}}}
return null;},getHash:function(url){if(url.indexOf("#")>-1){return url.substring(url.indexOf("#")+1);}
return"";}};SNI.Util.truncateHtml=function(html,max_chars){html=html||'';max_chars=max_chars||400;var start_html_regex=/<(\/?)(\w+)[^<>]*>/g,text_count=0,current_pos=0,match=null,tags=[],i,block_elements=/\s*(<\/?(?:address|blockquote|div|dl|fieldset|form|h1|h2|h3|h4|h5|h6|hr|noscript|ol|p|pre|table|ul|dd|dt|li|tbody|tfoot|th|thead|tr|object)(?:\s+[^>]*)?>)\s*/gi,truncated,$text,this_count;html=html.replace(/<!--[^(-->)]+-->/g,'').replace(/\s*\n\s*/g," ").replace(block_elements,'$1').trim();while((match=start_html_regex.exec(html))!==null){$text=$('<div>'+html.substr(current_pos,match.index-current_pos)+'</div>');text_count+=this_count=$text.text().length;if(text_count>=max_chars){break;}
if(match[1]===''){tags.push(match[2]);}
else{while(tags.length!==0&&$.inArray(match[2],tags)!==-1&&tags.pop()===match[2]){}}
current_pos=match.index+match[0].length;}
text_count+=match?0:html.length-1-current_pos;current_pos=(match&&match.index||html.length-1)-(text_count-max_chars);truncated=html.substr(0,current_pos).trim();for(i in tags.reverse()){truncated+='</'+tags[i]+'>';}
return{success:truncated!==html,output:truncated};};
SNI.MetaData={};SNI.MetaData.Parameter=function(){var parameters={};this.addParameter=function(key,value){key=key.toUpperCase();if(!parameters[key]){parameters[key]=[];}
parameters[key].push(value);};this.getParameter=function(key,separator){key=key.toUpperCase();if(!parameters[key]){return;}
return parameters[key].join(separator);};this.getKeys=function(){return parameters;};this.setParameter=function(key,value){key=key.toUpperCase();parameters[key]=[];parameters[key].push(value);};};SNI.MetaData.Manager=function(){var m=new SNI.MetaData.Parameter();this.addParameter=m.addParameter;this.getParameter=m.getParameter;this.getKeys=m.getKeys;this.setParameter=m.setParameter;this.getParameterString=function(key){var s=this.getParameter(key," ");if(s==null){s="";}
return s;};this.getPageType=function(){return this.getParameterString("Type");};this.getPageTitle=function(){return this.getParameterString("Title");};this.getSite=function(){return this.getParameterString("Site");};this.getSctnId=function(){return this.getParameterString("SctnId");};this.getSctnName=function(){return this.getParameterString("SctnName");};this.getSponsorship=function(){return this.getParameterString("Sponsorship");};this.getAbstract=function(){return this.getParameterString("Abstract");};this.getKeywords=function(){return this.getParameterString("Keywords");};this.getClassification=function(){return this.getParameterString("Classification");};this.getSctnDspName=function(){return this.getParameterString("SctnDspName");};this.getCategoryDspName=function(){return this.getParameterString("CategoryDspName");};this.getShowAbbr=function(){return this.getParameterString("Show_Abbr");};this.getRole=function(){return this.getParameterString("Role");};this.getDetailId=function(){return this.getParameterString("DetailId");};this.getPageNumber=function(){return this.getParameterString("PageNumber");};this.getUniqueId=function(){return this.getParameterString("UniqueId");};this.getUserId=function(){return this.getParameterString("UserId");};this.getUserIdEmail=function(){return this.getParameterString("UserIdEmail");};this.getUserIdCreateDt=function(){return this.getParameterString("UserIdCreateDt");};this.getUserIdVersion=function(){return this.getParameterString("UserIdVersion");};this.getFilters=function(){return this.getParameterString("Filters");};this.getMultimediaFlag=function(){return this.getParameterString("MultimediaFlag");};this.getChefName=function(){return this.getParameterString("ChefName");};this.getMealPart=function(){return this.getParameterString("MealPart");};this.getCuisine=function(){return this.getParameterString("Cuisine");};this.getOccasion=function(){return this.getParameterString("Occasion"," ");};this.getMainIngredient=function(){return this.getParameterString("MainIngredient");};this.getTechnique=function(){return this.getParameterString("Technique"," ");};this.getDish=function(){return this.getParameterString("Dish"," ");};this.getMealType=function(){return this.getParameterString("MealType"," ");};this.getNutrition=function(){return this.getParameterString("Nutrition"," ");};this.getDifficulty=function(){return this.getParameterString("Difficulty"," ");};this.getSearchTerm=function(){var args=parseQueryString();for(var arg in args){var s=arg.toUpperCase();if(s=='SEARCHSTRING'){return args[arg];}}
return"";};this.setMultimediaFlag=function(flag){if(flag!=null){this.addParameter("MultimediaFlag",flag);}else{this.addParameter("MultimediaFlag","");}};this.parseQueryString=function(str){str=str?str:document.location.search;var query=str.charAt(0)=='?'?str.substring(1):str;var args={};if(query){var fields=query.split('&');for(var f=0;f<fields.length;f++){var field=fields[f].split('=');args[unescape(field[0].replace(/\+/g,' '))]=unescape(field[1].replace(/\+/g,' '));}}
return args;};};var MetaDataManager=SNI.MetaData.Manager;
if(typeof(SNI.Ads)=='undefined'){SNI.Ads={_adServerHostname:SNI.Config.adServerUrl};}
SNI.Ads.Url=function(){var p=new SNI.MetaData.Parameter();this.addParameter=p.addParameter;this.getParameter=p.getParameter;this.getKeys=p.getKeys;this.url='';this.buildUrl=buildUrl;this.buildExpandedUrl=buildExpandedUrl;this.setUrl=setUrl;this.getUrl=getUrl;this.buildQueryStringValuePairs=buildQueryStringValuePairs;this.buildExpandedQueryStringValuePairs=buildExpandedQueryStringValuePairs;function setUrl(u){this.url=u;}
function getUrl(){return this.url;}
function buildQueryStringValuePairs(){var queryString="";for(key in this.getKeys()){if(queryString!==""){queryString+='&';}
queryString+=key+'='+this.getParameter(key,',');}
return queryString;}
function buildUrl(){return this.getUrl()+this.buildQueryStringValuePairs();}
function buildExpandedQueryStringValuePairs(){var queryString="";for(key in this.getKeys()){var item=this.getParameter(key,",");var iArray=item.split(",");for(i=0;i<iArray.length;i++){if(queryString!==""&&iArray[i]!==""&&iArray[i]!==undefined){queryString+='&';}
if(iArray[i]!==""&&iArray[i]!==undefined){queryString+=key+'='+iArray[i];}}}
return queryString;}
function buildExpandedUrl(){var sJitterbug="";if(window.location.hostname.indexOf("jitterbug")!=(-1)){sJitterbug="&domain=jitterbug";}
var sRSI="";if((SNI.Ads.UseRSI)&&(segQS.length>0)){sRSI=segQS;}
var sCS="";if((SNI.Ads.UseCS)&&(segCS.length>0)){sCS=segCS;}
return this.getUrl()+this.buildExpandedQueryStringValuePairs()+sJitterbug+sRSI+sCS;}};Ad.prototype=new SNI.Ads.Url();function Ad()
{var url=new SNI.Ads.Url();this.addParameter=url.addParameter;this.getParameter=url.getParameter;this.getKeys=url.getKeys;this.buildUrl=url.buildUrl;this.buildExpandedUrl=url.buildExpandedUrl;var feature=new SNI.MetaData.Parameter();this.useFeature=useFeature;this.getFeature=getFeature;this.debug=debug;this.write=write;this.deferrable=1;function useFeature(key){feature.addParameter(key,"T");}
function getFeature(key){return feature.getParameter(key,",");}
function debug(){document.write('<div style="background:red;color:white;">'+this.buildExpandedUrl()+'</div>');}
function write(){}}
DartAd.prototype=new Ad();function DartAd()
{DartAd.prototype=new Ad();this.write=write;this.useFeature("site");this.useFeature("category");this.useFeature("vgncontent");this.useFeature("ord");this.useFeature("topic");this.useFeature("tile");this.useFeature("pagetype");this.useFeature("SECTION_ID");this.useFeature("SUBSECTION");this.useFeature("page");this.useFeature("uniqueid");this.useFeature("adkey1");this.useFeature("adkey2");this.useFeature("chef");this.useFeature("show");this.useFeature("delvfrmt");this.useFeature("source");this.useFeature("filter");this.useFeature("difficulty");this.useFeature("cuisine");this.useFeature("ingredient");this.useFeature("occasion");this.useFeature("mealpart");this.useFeature("technique");this.useFeature("hubhierarchy");this.adClass="AD_CLASS";function write(){if(navigator.userAgent.indexOf("#sni-loadtest#")!==-1){return;}
document.write('<script type="text/javascript" src="'+this.buildExpandedUrl()+'"></script>');}}
AdUrl.prototype=new Ad();function AdUrl()
{AdUrl.prototype=new Ad();this.write=write;this.useFeature("site");this.useFeature("category");this.useFeature("vgncontent");this.useFeature("ord");this.useFeature("topic");this.useFeature("tile");this.useFeature("pagetype");this.useFeature("SECTION_ID");this.useFeature("SUBSECTION");this.useFeature("page");this.useFeature("uniqueid");this.useFeature("SearchKeywords");this.useFeature("SearchFilters");this.useFeature("adkey1");this.useFeature("adkey2");this.useFeature("chef");this.useFeature("show");this.useFeature("delvfrmt");this.useFeature("source");this.useFeature("filter");this.useFeature("difficulty");this.useFeature("cuisine");this.useFeature("ingredient");this.useFeature("occasion");this.useFeature("mealpart");this.useFeature("technique");this.useFeature("hubhierarchy");function write(){}}
DartAdvanceAd.prototype=new DartAd();function DartAdvanceAd()
{DartAdvanceAd.prototype=new DartAd();this.write=write;this.align='';this.frameborder=0;this.height='';this.longdesc='';this.marginheight=0;this.marginwidth=0;this.name='';this.scrolling='no';this.width='100%';this.useIframe=false;function write(){if(navigator.userAgent.indexOf("#sni-loadtest#")!==-1){return;}
if(this.useIframe==false){this.setUrl("http://"+SNI.Ads._adServerHostname+"/js.ng/");document.write('<script type="text/javascript" src="'+this.buildExpandedUrl()+'"></script>');}else{this.setUrl("http://"+SNI.Ads._adServerHostname+"/html.ng/");document.write('<iframe src ="'+this.buildExpandedUrl()+'" align ="'+this.align+'" frameborder ="'+this.frameborder+'" height ="'+this.height+'" longdesc ="'+this.longdesc+'" marginheight ="'+this.marginheight+'" marginwidth ="'+this.marginwidth+'" name ="'+this.name+'" scrolling ="'+this.scrolling+'" width ="'+this.width+'"></iframe>');}}}
function AdManager()
{var p=new SNI.MetaData.Parameter();this.addParameter=p.addParameter;this.getParameter=p.getParameter;this.setParameter=p.setParameter;this.getKeys=p.getKeys;this.createAd=createAd;this.createDeferredAd=createDeferredAd;this.moveAds=moveAds;this.ads=[];this.defer=false;if(document.deferAds!==null&&document.deferAds==1&&document.deferEnabled!==null&&document.deferEnabled==1){this.defer=true;}
function createAd(ad){for(key in this.getKeys()){if(ad.getFeature(key)!==undefined){ad.addParameter(key,this.getParameter(key,','));}}
if(document.debug==1){ad.debug();}
ad.write();}
function createDeferredAd(i){}
function moveAds(){}}
function AdRestriction()
{var p=new SNI.MetaData.Parameter();this.addParameter=p.addParameter;this.getParameter=p.getParameter;this.getKeys=p.getKeys;this.isActive=true;this.isIframe=false;}
function AdDefault()
{var p=new SNI.MetaData.Parameter();this.addParameter=p.addParameter;this.getParameter=p.getParameter;this.getKeys=p.getKeys;this.display=false;}
function AdRestrictionManager(){this.restriction=[];this.adDefaults=[];this.isActive=isActive;this.isIframe=isIframe;this.isMatch=isMatch;this.startMatch=startMatch;function isActive(ad,mdm){var value=false;var adDefaultMatch=false;var defaultReturnValue=true;for(var i=0;i<this.adDefaults.length;i++){adDefaultMatch=this.startMatch(ad,mdm,this.adDefaults[i]);if(adDefaultMatch==true){defaultReturnValue=this.adDefaults[i].display;break;}}
for(var i=0;i<this.restriction.length;i++){adRestriction=this.restriction[i];if(!adRestriction.isActive){value=this.startMatch(ad,mdm,adRestriction);}
if(value==true){return!defaultReturnValue;}}
return defaultReturnValue;}
function isIframe(ad,mdm){var value=false;for(var i=0;i<this.restriction.length;i++){adRestriction=this.restriction[i];if(adRestriction.isIframe){value=this.startMatch(ad,mdm,adRestriction);}}
return value;}
function startMatch(ad,mdm,adRestriction){var match=true;for(var key in adRestriction.getKeys()){var restrictions=adRestriction.getParameter(key,',');var value=mdm.getParameter(key,'----');match=this.isMatch(value,restrictions);if(!match){value=ad.getParameter(key,'----');match=this.isMatch(value,restrictions);}
if(!match){return false;}}
return match;}
function isMatch(value,restrictions){var match=false;if(value){splitValue=value.split('----');for(var x=0;x<splitValue.length;x++){if(restrictions==splitValue[x]){match=true;}
for(var a;a<restrictions.length;a++){if(splitValue[x]==restrictions[a]){return true;}}}}
return match;}}
function initAdManager(adm,mdm){function admAppendParam(key,val){if(val!=""){val=val.replace(/-/g,"_");val=val.replace(/ /g,"_");s=val.split(',',1);adm.addParameter(key,s);}}
var ranNum=String(Math.round(Math.random()*10000000000));var now=new Date();var ad_ord=now.getTime()%10000000000;var amPageType=mdm.getPageType();var amSponsorship=mdm.getSponsorship();var amKeywords=mdm.getKeywords();amPageType=amPageType.replace(/-/g,"_");var amUniqueId=mdm.getUniqueId();amUniqueId=amUniqueId.replace(/-/g,"_");if(amSponsorship!==""&&amSponsorship!==undefined){amSponsorship=amSponsorship.replace(/-/g,"_");amSponsorship=amSponsorship.replace(/ /g,"_");}
if(amKeywords!==""&&amKeywords!==undefined){amKeywords=amKeywords.replace(/,/g,"_");}
amSctns=mdm.getClassification();amSctns=amSctns.split(",");if(amSctns.length>1){for(var i=0;i<amSctns.length;i++){if(i==(amSctns.length-1)){adm.addParameter("sitesection",amSctns[i]);}else if(i==(amSctns.length-2)){adm.addParameter("category",amSctns[i]);}else if(i==(amSctns.length-3)){adm.addParameter("vgncontent",amSctns[i]);}else{adm.addParameter("SUBSECTION",amSctns[i]);}}}else{var c=mdm.getClassification();adm.addParameter("category",c);}
if(amPageType=='SECTION'){if(!adm.getParameter("vgncontent"," ")){adm.addParameter("page","MAIN");}}
var s=mdm.getSite();adm.addParameter("site",s);var gsId=mdm.getSctnId();adm.addParameter("tile",ranNum+gsId);adm.addParameter("ord",ad_ord);adm.addParameter("topic",amSponsorship);adm.addParameter("keywords",amKeywords);adm.addParameter("pagetype",amPageType);adm.addParameter("uniqueid",amUniqueId);var sId=mdm.getSctnId();adm.addParameter("SECTION_ID",sId);admAppendParam("adkey1",mdm.getParameterString("AdKey1").toUpperCase());admAppendParam("adkey2",mdm.getParameterString("AdKey2").toUpperCase());admAppendParam("delvfrmt",mdm.getParameterString("DelvFrmt"));admAppendParam("source",mdm.getParameterString("Source"));admAppendParam("filter",mdm.getParameterString("filter"));admAppendParam("chef",mdm.getParameterString("ChefName"));admAppendParam("show",mdm.getParameterString("Show_Abbr"));admAppendParam("difficulty",mdm.getParameterString("Difficulty"));admAppendParam("cuisine",mdm.getParameterString("Cuisine"));admAppendParam("ingredient",mdm.getParameterString("MainIngredient"));admAppendParam("occasion",mdm.getParameterString("Occasion"));admAppendParam("mealpart",mdm.getParameterString("MealPart"));admAppendParam("technique",mdm.getParameterString("Technique"));admAppendParam("hubhierarchy",mdm.getParameterString("HubHierarchy"));}
if(typeof(SNI)=="undefined"){SNI={};}
if(typeof(SNI.RSI)=="undefined"){SNI.RSI={};}
var segQS="";SNI.RSI.rdcookie=function(){var rsi_segs=[];var segs_beg=document.cookie.indexOf('rsi_segs=');if(segs_beg>=0){segs_beg=document.cookie.indexOf('=',segs_beg)+1;if(segs_beg>0){var segs_end=document.cookie.indexOf(';',segs_beg);if(segs_end==-1)segs_end=document.cookie.length;rsi_segs=document.cookie.substring(segs_beg,segs_end).split('|');}}
var segLen=20;if(rsi_segs.length<segLen){segLen=rsi_segs.length}
for(var i=0;i<segLen;i++){segQS+=("&rsi"+"="+rsi_segs[i])}
SNI.Ads.UseRSI=true;return;}
SNI.RSI.rdcookie();SNI.RSI.setvars=function(){A09802.DM_cat(mdManager.getParameter("Classification").split(',').reverse().join(' > '));A09802.DM_addEncToLoc("keyword",mdManager.getParameter(SNI.Config.rsiKeyWord));A09802.DM_tag();}
if(typeof(SNI)=="undefined"){SNI={};}
if(typeof(SNI.CS)=="undefined"){SNI.CS={};}
var segCS="";SNI.CS.rdcookie=function(){var cs_segs=[];var segs_beg=document.cookie.indexOf('cs_segs=');if(segs_beg>=0){segs_beg=document.cookie.indexOf('=',segs_beg)+1;if(segs_beg>0){var segs_end=document.cookie.indexOf(';',segs_beg);if(segs_end==-1)segs_end=document.cookie.length;cs_segs=document.cookie.substring(segs_beg,segs_end).split('|');}}
var segLen=20;if(cs_segs.length<segLen){segLen=cs_segs.length}
for(var i=0;i<segLen;i++){segCS+=("&cs"+"="+cs_segs[i])}
SNI.Ads.UseCS=true;return;}
SNI.CS.rdcookie();SNI.CS=function(){$(window).load(function(){var url="http://static.crowdscience.com/max-58d7b41978.js?callback=CS_data_callback";SNI.Pixel.asyncLoad(url);});}
/** sni-widgets **/

if(typeof(SNI.Widgets)=="undefined"){SNI.Widgets={};}
(function($){var DEFAULT_CONFIG={triggerSelector:"a img",triggerTipOnClass:"tool-tip-on",tipSelector:".tip",showClass:"show-tip",showDelay:250,animateIn:"fadeIn",animateInSpeed:"fast",animateOut:"fadeOut",animateOutSpeed:"fast",showTimeout:null};function showTip(e){var $trigger,$tip,$titleEl;$trigger=$(this);$trigger.removeAttr("title");$trigger.find("[title]").each(function(){$titleEl=$(this);$titleEl.removeAttr("title");});$trigger.addClass(e.data.triggerTipOnClass);e.data.showTimeout=setTimeout(function(){$tip=$trigger.find(e.data.tipSelector);$tip.addClass(e.data.showClass);$tip[e.data.animateIn](e.data.animateInSpeed);},e.data.showDelay);}
function hideTip(e){var $trigger,$tip,$titleEl;$trigger=$(this);clearTimeout(e.data.showTimeout);$tip=$trigger.find(e.data.tipSelector);$tip.removeClass(e.data.showClass);$tip[e.data.animateOut](e.data.animateOutSpeed);$trigger.removeClass(e.data.triggerTipOnClass);}
var toolTips={hoverTip:function(parent,config){var $parent,$triggers,$closeButtons,prop;for(prop in DEFAULT_CONFIG){if(DEFAULT_CONFIG.hasOwnProperty(prop)&&!config.hasOwnProperty(prop)){config[prop]=DEFAULT_CONFIG[prop];}}
$parent=$(parent);$triggers=$parent.find(config.triggerSelector);$triggers.bind("mouseenter",config,showTip);$triggers.bind("mouseleave",config,hideTip);if(config.closeButtonClass){$closeButtons=$triggers.find(config.closeButtonClass);$closeButtons.bind("click",config,hideTip);}},clickTip:function(parent,config){var $parent,$triggers,$closeButtons,prop;for(prop in DEFAULT_CONFIG){if(DEFAULT_CONFIG.hasOwnProperty(prop)&&!config.hasOwnProperty(prop)){config[prop]=DEFAULT_CONFIG[prop];}}
$parent=$(parent);$triggers=$parent.find(config.triggerSelector);$triggers.bind("click",config,showTip);$closeButtons=$triggers.find(config.closeButtonClass);$closeButtons.bind("click",config,hideTip);$(document.body).bind("click",config,hideTip);}};SNI.Widgets.ToolTip=toolTips;}(jQuery));
/** integrated services **/


/*** sni-UR ***/

String.prototype.trim=function(){return this.replace(/^\s+|\s+$/,'');};if(typeof(SNI.UR)=='undefined'){SNI.UR={};}
var userIdCookieUserId;var userIdEmail;var userIdCookieCreateDt;var userIdCookieVersion;SNI.UR.IdCookie=function(){this.id="";this.email="";this.createDate=new Date();this.version="2.0";this.domain=getPrimaryDomain();this.secure="";this.path="/";this.cookieName='userIdCookie';this.expirationDate=new Date(new Date().getTime()+(10000*1000*60*60*24));function getCookieKeyValue(cookie_value,key,delimeter){if(cookie_value!=null){var keystring=key+delimeter;var thiscookie_start=cookie_value.indexOf(keystring)+keystring.length;var thiscookie_end=cookie_value.indexOf(delimeter,thiscookie_start);var keyvalue=cookie_value.substring(thiscookie_start,thiscookie_end);return keyvalue;}
return null;}
function getPrimaryDomain(){var theUrl=document.domain;var urlLength=theUrl.length;var firstDot=theUrl.lastIndexOf(".");var secondDot=theUrl.lastIndexOf(".",firstDot-1);var primaryDomain=theUrl.substr(secondDot);return primaryDomain;}
function getRandNumber(numDigits){var randNum="";var thisDigit="";for(var i=0;i<numDigits;i++){thisDigit=Math.floor(Math.random()*10);randNum=randNum+thisDigit;}
return randNum;}
function setGlobalValues(){userIdCookieUserId=this.id;userIdEmail=this.email;userIdCookieCreateDt=this.createDate;userIdCookieVersion=this.version;}
this.createCookie=function(cookies,user){var updtCookie=false;if(cookies['userIdCookie']!=undefined){this.id=getCookieKeyValue(cookies['userIdCookie'],'userId','ZZ');this.email=getCookieKeyValue(cookies['userIdCookie'],'email','ZZ');this.createDate=getCookieKeyValue(cookies['userIdCookie'],'createDate','ZZ');this.version=getCookieKeyValue(cookies['userIdCookie'],'cookieVersion','ZZ');}
if(user.isLoggedIn){if(this.id!=user.getUserId()){this.id=user.getUserId();updtCookie=true;}
if(this.email!=user.getEmail()){this.email=user.getEmail();updtCookie=true;}}
if(this.id==""){this.id=getRandNumber(10);updtCookie=true;}
setGlobalValues();if(updtCookie){this.writeCookie();}};this.writeCookie=function(){var cookieValue='userIdZZ'+this.id+'ZZemailZZ'+this.email+'ZZcreateDateZZ'+this.createDate+'ZZcookieVersionZZ'+this.version+'ZZ';document.cookie=this.cookieName+"="+escape(cookieValue)+
((this.expirationDate)?";expires="+this.expirationDate.toGMTString():"")+
((this.path)?";path="+this.path:"")+
((this.domain)?";domain="+this.domain:"")+
((this.secure)?";secure=":"");};};SNI.UR.ApplicationConfig=function(){this.applicationName="";this.applicationCode="";this.applicationEntryPage="";this.applicationPath="";this.loginServer={"DEV":"","STAGE":"","PROD":""};this.requiredRoles=[];this.requiresLogin=false;this.getLoginServer=function(env){if(this.loginServer[env]){return this.loginServer[env];}
return null;};this.addRole=function(role){this.requiredRoles.push(role);};this.urVersion=function(){return 1;};};SNI.UR.ApplicationRole=function(name,date){this.name=name;this.date=date;};UrCookie=SNI.UR.UrCookie=function(){this.info=[];this.clear=this.clearInfo=function(){for(var i=0;i<this.info.length;i++){delete this.info[i];}
this.info=[];};this.parse=this.parseCookie=function(cookie){var cookieArray=cookie.split("|");for(var i=0;i<cookieArray.length;i++){var chips=cookieArray[i].split(":");this.info[chips[0]]=chips[1];}};};SNI.UR.ValueCookie=function(){this.info=new SNI.UR.UrCookie();this.clear=this.clearInfo=this.info.clear;this.parse=this.parseCookie=this.info.parse;this.getEmail=function(){return this.info['email'];};this.getBirthYear=function(){return this.info['birth_year'];};this.getCity=function(){return this.info['city'];};this.getConfirm=function(){return this.info['confirm'];};this.getFirstName=function(){return this.info['first_name'];};this.getGender=function(){return this.info['gender'];};this.getLastName=function(){return this.info['last_name'];};this.getParentEmail=function(){return this.info['parent_email'];};this.getPersist=function(){return this.info['persist'];};this.getPhone=function(){return this.info['phone'];};this.getPostalCode=function(){return this.info['postal_code'];};this.getStatus=function(){return this.info['status'];};this.getTransComplete=function(){return this.info['transcomplete'];};this.getUserId=function(){return this.info['user_id'];};this.getUserName=function(){return this.info['user_name'];};this.getUserType=function(){return this.info['usertype'];};};SNI.UR.RoleCookie=function(){this.info=new SNI.UR.UrCookie();this.clear=this.clearInfo=this.info.clear;this.parse=this.parseCookie=this.info.parse;this.getRoleByName=function(name){return this.info[name];};};SNI.UR.UrLite=function(){function getPrimaryDomain(){var theUrl=document.domain;var urlLength=theUrl.length;var firstDot=theUrl.lastIndexOf(".");var secondDot=theUrl.lastIndexOf(".",firstDot-1);var primaryDomain=theUrl.substr(secondDot);return primaryDomain;}
this.login=function(urUser,applicationConfig){var cookies=this.loadCookies();if(cookies['value']){urUser.vignetteValueCookie.parse(cookies['value']);}
if(cookies['UserLoginCookie']){urUser.valueCookie.parse(cookies['UserLoginCookie']);}
if(urUser.getUserId()==null||urUser.getUserId()<0){if(applicationConfig.requiresLogin==true){writeIdCookie(cookies,urUser);this.redirectToUr(urUser,applicationConfig);}}else{urUser.isLoggedIn=true;}
this.writeIdCookie(cookies,urUser);if(cookies['UserRoleCookie']){urUser.roleCookie.parse(cookies['UserRoleCookie']);}
if(cookies['role']){urUser.vignetteRoleCookie.parse(cookies['role']);}
if(applicationConfig.requiredRoles!=null&&applicationConfig.requiredRoles.length>0&&applicationConfig.requiresLogin==true){for(var i=0;i<applicationConfig.requiredRoles.length;i++){if(urUser.hasRoleByName(applicationConfig.requiredRoles[i])==false){this.redirectToUr(urUser,applicationConfig);}}}};this.logout=function(urUser,applicationConfig){var domain=getPrimaryDomain();this.deleteLoginCookie("value","/",domain);this.deleteLoginCookie("role","/",domain);this.deleteLoginCookie("userLoginCookie","/",domain);this.deleteLoginCookie("userRoleCookie","/",domain);urUser.valueCookie.clear();urUser.roleCookie.clear();urUser.vignetteValueCookie.clear();urUser.vignetteRoleCookie.clear();urUser.isLoggedIn=false;};this.deleteLoginCookie=function(name,path,domain){document.cookie=name+"="+"; path="+path+"; domain="+domain+"; expires=Thu, 01-Jan-70 00:00:01 GMT";};this.getEnvironment=function(){switch(document.location.hostname){case"localhost":case"127.0.0.1":case"vdev2.scrippsnetworks.com":return"DEV";case"staging.scrippsweb.com":return"STAGE";default:return"PROD";}};this.redirectToUr=function(urUser,applicationConfig){window.location=this.getLoginPath(applicationConfig);};this.getLoginPath=function(applicationConfig){var loginPath;if(applicationConfig.urVersion()=="1"){loginPath=applicationConfig.loginServer[this.getEnvironment()]+applicationConfig.applicationPath+'?a=fflogin&url='+escape(applicationConfig.applicationEntryPage)+'&an='+escape(applicationConfig.applicationName)+'&ac='+escape(applicationConfig.applicationCode);}else{loginPath=applicationConfig.loginServer[this.getEnvironment()]+applicationConfig.applicationPath+'urValidation.html?applicationId='+applicationConfig.applicationCode;}
return loginPath;};this.loadCookies=function(){var cookies=[];if(document.cookie!=''){var cookieArray=document.cookie.split(';');for(var i=0;i<cookieArray.length;i++){var cookiesValues=cookieArray[i].split('=');cookies[cookiesValues[0].trim()]=cookiesValues[1];}}
return cookies;};this.writeIdCookie=function(cookies,user){var id=new SNI.UR.IdCookie();id.createCookie(cookies,user);};};SNI.UR.UrUser=function(appConfig){this.valueCookie=new SNI.UR.ValueCookie();this.roleCookie=new SNI.UR.RoleCookie();this.vignetteValueCookie=new VignetteValueCookie();this.vignetteRoleCookie=new VignetteRoleCookie();this.applicationConfig=appConfig;this.urLite=new SNI.UR.UrLite();this.isLoggedIn=false;this.getAvatar=function(){if(this.vignetteValueCookie.getAvatar()!=null){return this.vignetteValueCookie.getAvatar();}};this.getBirthYear=function(){if(this.valueCookie.getBirthYear()!=null){return this.valueCookie.getBirthYear();}
if(this.vignetteValueCookie.getBirthYear()!=null){return this.vignetteValueCookie.getBirthYear();}};this.getCity=function(){if(this.valueCookie.getCity()!=null){return this.valueCookie.getCity();}
if(this.vignetteValueCookie.getCity()!=null){return this.vignetteValueCookie.getCity();}};this.getConfirm=function(){if(this.valueCookie.getConfirm()!=null){return this.valueCookie.getConfirm();}
if(this.vignetteValueCookie.getConfirm()!=null){return this.vignetteValueCookie.getConfirm();}};this.getEmail=function(){if(this.valueCookie.getEmail()!=null){return this.valueCookie.getEmail();}
if(this.vignetteValueCookie.getEmail()!=null){return this.vignetteValueCookie.getEmail();}};this.getFirstName=function(){if(this.valueCookie.getFirstName()!=null){return this.valueCookie.getFirstName();}
if(this.vignetteValueCookie.getFirstName()!=null){return this.vignetteValueCookie.getFirstName();}};this.getFullName=function(){return this.getFirstName()+' '+this.getLastName();};this.getGender=function(){if(this.valueCookie.getGender()!=null){return this.valueCookie.getGender();}
if(this.vignetteValueCookie.getGender()!=null){return this.vignetteValueCookie.getGender();}};this.getLastName=function(){if(this.valueCookie.getLastName()!=null){return this.valueCookie.getLastName();}
if(this.vignetteValueCookie.getLastName()!=null){return this.vignetteValueCookie.getLastName();}};this.getParentEmail=function(){if(this.valueCookie.getParentEmail()!=null){return this.valueCookie.getParentEmail();}
if(this.vignetteValueCookie.getParentEmail()!=null){return this.vignetteValueCookie.getParentEmail();}};this.getPersist=function(){if(this.valueCookie.getPersist()!=null){return this.valueCookie.getPersist();}
if(this.vignetteValueCookie.getPersist()!=null){return this.vignetteValueCookie.getPersist();}};this.getPhone=function(){if(this.valueCookie.getPhone()!=null){return this.valueCookie.getPhone();}
if(this.vignetteValueCookie.getPhone()!=null){return this.vignetteValueCookie.getPhone();}};this.getPostalCode=function(){if(this.valueCookie.getPostalCode()!=null){return this.valueCookie.getPostalCode();}
if(this.vignetteValueCookie.getPostalCode()!=null){return this.vignetteValueCookie.getPostalCode();}};this.getStatus=function(){if(this.valueCookie.getStatus()!=null){return this.valueCookie.getStatus();}
if(this.vignetteValueCookie.getStatus()!=null){return this.vignetteValueCookie.getStatus();}};this.getTransComplete=function(){if(this.valueCookie.getTransComplete()!=null){return this.valueCookie.getTransComplete();}
if(this.vignetteValueCookie.getTransComplete()!=null){return this.vignetteValueCookie.getTransComplete();}};this.getUserId=function(){if(this.valueCookie.getUserId()!=null){return this.valueCookie.getUserId();}
if(this.vignetteValueCookie.getUserId()!=null){return this.vignetteValueCookie.getUserId();}};this.getUserName=function(){if(this.valueCookie.getUserName()!=null){return this.valueCookie.getUserName();}
if(this.vignetteValueCookie.getUserName()!=null){return this.vignetteValueCookie.getUserName();}};this.getUserType=function(){if(this.valueCookie.getUserId()!=null){return this.valueCookie.getUserId();}
if(this.vignetteValueCookie.getUserType()!=null){return this.vignetteValueCookie.getUserType();}};this.hasRole=function(role){if(this.roleCookie.getRoleByName(role.name)!=null){if(this.roleCookie.getRoleByName(role.name)>=role.date){return true;}
return false;}
if(this.vignetteRoleCookie.getRoleByName(role.name)!=null){return true;}
return false;};this.hasRoleById=function(roleId){if(this.vignetteRoleCookie.getRoleById(roleId)!=null){return true;}
return false;};this.logout=function(){if(this.isLoggedIn){this.urLite.logout(this,this.applicationConfig);}};this.urLite.login(this,appConfig);};SNI.UR.VignetteCookie=function(){this.info=[];this.parse=parseCookie;this.parseCookie=parseCookie;this.parseSingleValueChip=parseSingleValueChip;this.parseMultiValueChip=parseMultiValueChip;this.cookieName="";this.cookiePath="/";this.cookieDomain="";this.clear=clearInfo;function clearInfo(){for(var i=0;i<this.info.length;i++){delete this.info[i];}
this.info=[];}
function stripHeader(string){return string.substring(23);}
function stripTrailer(string){return string.substring(0,string.length-3);}
function parseCookie(cookie){cookie=stripHeader(cookie);cookie=stripTrailer(cookie);var cookieArray=cookie.split("ZZ%");for(var i=0;i<cookieArray.length;++i){chip=cookieArray[i];chip=chip.substring(6);if(chip.substring(0,1)=="s"){chip=chip.substring(1);}else{chip=chip.substring(3);}
if(chip.match("\\+")=='+'){this.parseMultiValueChip(chip);}else{this.parseSingleValueChip(chip);}}}
function parseSingleValueChip(chip){chip=URLDecode(chip);var values=chip.split("ZZ");if(values.length<2){this.info[values[0]]="";}else{this.info[values[0]]=values[1];}}
function parseMultiValueChip(chip){var multivalue=[];chip=URLDecode(chip);var key=chip.split("ZZ")[0];chip=chip.substring(key.length);chip=chip.replace(/ZZZZ/g,"ZZ");var chips=chip.split("+");for(var i=0;i<chips.length;++i){part=chips[i];var parts=part.split("ZZ");multivalue[parts[1]]=parts[2];}
this.info[key]=multivalue;}
function URLDecode(encodedString){var output=encodedString;var binVal,thisString;var myregexp=/(%.{2})/;while((match=myregexp.exec(output))!=null&&match.length>1&&match[1]!=''){binVal=parseInt(match[1].substr(1),16);thisString=String.fromCharCode(binVal);output=output.replace(match[1],thisString);}
return output;}};VignetteValueCookie.prototype=new SNI.UR.VignetteCookie();function VignetteValueCookie(){VignetteValueCookie.prototype=new SNI.UR.VignetteCookie();this.getEmail=function(){return this.info['email'];};this.getBirthYear=function(){return this.info['birth_year'];};this.getCity=function(){return this.info['city'];};this.getConfirm=function(){return this.info['confirm'];};this.getFirstName=function(){return this.info['first_name'];};this.getGender=function(){return this.info['gender'];};this.getLastName=function(){return this.info['last_name'];};this.getParentEmail=function(){return this.info['parent_email'];};this.getPersist=function(){return this.info['persist'];};this.getPhone=function(){return this.info['phone'];};this.getPostalCode=function(){return this.info['postal_code'];};this.getStatus=function(){return this.info['status'];};this.getTransComplete=function(){return this.info['transcomplete'];};this.getUserId=function(){return this.info['user_id'];};this.getUserName=function(){return this.info['user_name'];};this.getUserType=function(){return this.info['usertype'];};this.getAvatar=function(){return this.info['my_photo'];};}
VignetteRoleCookie.prototype=new SNI.UR.VignetteCookie();function VignetteRoleCookie(){VignetteRoleCookie.prototype=new SNI.UR.VignetteCookie();this.getPersist=function(){return this.info['persist'];};this.getUserId=function(){return this.info['user_id'];};this.getRoleByName=function(name){if(this.info['roles']!=undefined){for(var i=0;i<this.info['roles'].length;i++){if(this.info['roles'][i]!=undefined&&this.info['roles'][i]==name){return this.info['roles'][i];}}}};this.getRoleById=function(id){if(this.info['roles']!=undefined)return this.info['roles'][id];};}
if(typeof SNI==='undefined'){SNI={};}
if(SNI.Community===undefined){SNI.Community={};}
if(SNI.Community.UR===undefined){SNI.Community.UR={};}
SNI.Community.UR.getCookie=function(name){var cookies=document.cookie;if(cookies.indexOf(name)!=-1){var startpos=cookies.indexOf(name)+name.length+1;var endpos=cookies.indexOf(';',startpos)-1;if(endpos==-2){endpos=cookies.length;}
return unescape(cookies.substring(startpos,endpos));}
else{return false;}};SNI.Community.UR.init=function(){SNI.Community.xUrlPre='';if(location.hostname.toLowerCase().indexOf("dev")>-1){SNI.Community.xUrlPre="test1-";}
else if(location.hostname.toLowerCase().indexOf("staging")>-1){SNI.Community.xUrlPre="test2-";}
if((SNI.Community.UR.getCookie('SMSESSION')==null)||(SNI.Community.UR.getCookie('SMSESSION')=='')){var orig_domain=document.location.href.substring(0,document.location.href.indexOf(location.hostname)+location.hostname.length);var x=document.createElement('script');x.src='http://'+SNI.Community.xUrlPre+'www.scrippscontroller.com/sso/checkcontrollercookie.html?DEST_URL='+escape(document.location.href)+'&orig_domain='+escape(orig_domain);document.getElementsByTagName('head')[0].appendChild(x);}};if(SNI.Config.UR3){SNI.Community.UR.init();}
SNI.Community.UR.Core={};SNI.Community.UR.Core.extendedInit=function(){SNI.Community.mainSiteDomain='';SNI.Community.ur3Domain='';if(typeof(SNI.Config.Community)!='undefined'){SNI.Community.mainSiteDomain=SNI.Config.domain;SNI.Community.ur3Domain=SNI.Config.Community.ur3Domain;}};SNI.Community.UR.Core.logout=function(){return SNI.Community.ur3Domain+"/redirectors/logout_redirector.jsp?DEST_URL="+escape(window.location.href);};SNI.Community.UR.Core.getLoginLink=function(){return SNI.Community.ur3Domain+"/registration/login.esi";};SNI.Community.UR.Core.getRegisterLink=function(){return SNI.Community.ur3Domain+"/registration/register.esi";};SNI.Community.UR.Core.getRegisterLiteLink=function(){return SNI.Community.ur3Domain+"/registration/register_lite.esi?DEST_URL="+escape(window.location.href);};SNI.Community.UR.Core.displayName=function(){var name=this.ViewingUserDisplayName;if(typeof name!='string'||name==''){var email=this.ViewingUserName;if(typeof email=="string"&&email.indexOf('@')!=-1){return email.substring(0,email.indexOf('@'));}
return email;}
return name;};
/*** sni-core-integrated services ***/

if(typeof(SNI.IS)=='undefined'){SNI.IS={};}
(function($){var shareThis={init:function(config,type){if(typeof shareThis.obj=='object'){shareThis.load(config,type);}else{$.getScript(TWITTER_CONFIG.shareThisSrc,function(){SHARETHIS.onReady();shareThis.obj=SHARETHIS;shareThis.load(config,type);});}},load:function(config,type){var share_config={title:config.tweet_msg,url:config.share_url};var shared_object=shareThis.obj.addEntry(share_config,{button:false,onmouseover:false});if(type=='twitter'){shared_object.attachChicklet("twitter",$(config.element+" .chicklet")[0]);}else if(type=='sharethis'){shared_object.attachButton($(config.element)[0]);}else if(type=='facebook'){shared_object.attachChicklet("facebook",$(config.element+" .chicklet")[0]);}}};SNI.IS.ShareThis=shareThis;var TWITTER_CONFIG={messages:{prefix:{DEFAULT:"",RECIPE:"Get the recipe:",COMPANY:"Get local info:",MENU:"Get the menu:",GALLERY:"Browse the photos:",CHANNEL:"Watch the video:",ARTICLE:"Read the article:"},via:"@FoodNetwork"},shareThisSrc:"http://w.sharethis.com/button/sharethis.js#publisher=87e14ce7-dc4d-40d2-ada1-38b20bfad22c&amp;type=website&amp;post_services=email%2Cfacebook%2Ctwitter%2Cgbuzz%2Cmyspace%2Cdigg%2Csms%2Cwindows_live%2Cdelicious%2Cstumbleupon%2Creddit%2Cgoogle_bmarks%2Clinkedin%2Cbebo%2Cybuzz%2Cblogger%2Cyahoo_bmarks%2Cmixx%2Ctechnorati%2Cfriendfeed%2Cpropeller%2Cwordpress%2Cnewsvine&amp;button=false"}
var twitter={share:function(config){$.extend(TWITTER_CONFIG,config);var $twitterContainer=$(config.element),page_title=mdManager.getPageTitle(),page_type=mdManager.getPageType(),prefix_msg;if(!TWITTER_CONFIG.messages.tweet_msg){page_type=(mdManager.getParameterString('DelvFrmt').indexOf('GALLERY')>1)?"GALLERY":page_type;prefix_msg=TWITTER_CONFIG.messages.prefix[page_type]||TWITTER_CONFIG.messages.prefix["DEFAULT"];}
TWITTER_CONFIG.share_url=config.share_url||SNI.Util.Url.setParameter(document.location.href,"soc","share")||"";TWITTER_CONFIG.tweet_msg=TWITTER_CONFIG.messages.tweet_msg||prefix_msg+" "+page_title+" "+TWITTER_CONFIG.messages.via+((TWITTER_CONFIG.messages.suffix)?" "+TWITTER_CONFIG.messages.suffix:"");$twitterContainer.append($('<a>').attr({'class':'chicklet','href':'#','st_dest':'twitter.com'}).text('Tweet'));$twitterContainer.click(function(event){event.preventDefault();});SNI.IS.ShareThis.init(TWITTER_CONFIG,'twitter');},tweet:function(options){SNI.IS.Twitter.load();var config=$.extend({element:options.element,url:options.url||window.location.href,text:options.text||'',layout:options.layout||'horizontal'},options);var $el=$(config.element);var link=$('<a />',{'class':'twitter-share-button','data-lang':'en','data-url':config.url,'data-count':config.layout,'data-text':config.text});$el.append(link);},updateButton:function(options){if(typeof(twttr)==='undefined'){return;}
var config=$.extend({element:options.element,url:options.url||window.location.href,text:options.text||''},options);var $el=$(config.element);var $iframe=$el.find('iframe').eq(0);if($iframe.is('iframe')){var baseUrl=$iframe.attr('src').split('&original_referer=')[0];$iframe.attr('src',baseUrl+'&text='+config.text+'&url='+config.url);$el.empty().append($iframe);}},load:function(){if(typeof(twttr)==='undefined'){!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");}}};SNI.IS.Twitter=twitter;})(jQuery);
if(typeof SNI==='undefined'){SNI={};}
if(typeof SNI.IS==='undefined'){SNI.IS={};}
SNI.IS.Pinterest={init:function(){window.PinIt=window.PinIt||{loaded:false};if(window.PinIt.loaded){return;}
window.PinIt.loaded=true;if(window.attachEvent){window.attachEvent("onload",this.asyncLoad);}else{window.addEventListener("load",this.asyncLoad,false);}},asyncLoad:function(){var s=document.createElement("script");s.type="text/javascript";s.async=true;if(window.location.protocol==="https:"){s.src="https://assets.pinterest.com/js/pinit.js";}else{s.src="http://assets.pinterest.com/js/pinit.js";}
var x=document.getElementsByTagName("script")[0];x.parentNode.insertBefore(s,x);},createButton:function(options){SNI.IS.Pinterest.init();var config=$.extend({element:options.element,buttonText:options.text||'',url:options.url||SNI.IS.Pinterest.getUrl(),imgUrl:options.imgUrl||SNI.IS.Pinterest.getImgUrl()||SNI.Config.Pinterest.defaultImgUrl,fromMsg:options.fromMsg||'',desc:options.desc||'',layout:options.layout||'horizontal'},options);config.desc=SNI.IS.Pinterest.getDesc(config);var $el=$(config.element);if($el.is('a')){$el.attr('href',SNI.IS.Pinterest.getPinUrl(config)).attr('count-layout',config.layout).addClass('pin-it-button').text(config.buttonText);}
else if($el.is('li')){var $link=$('<a></a>').attr('href',SNI.IS.Pinterest.getPinUrl(config)).attr('count-layout',config.layout).addClass('pin-it-button').text(config.buttonText);$el.append($link);}},updateButton:function(options){if(typeof(window.PinIt)==='undefined'){return;}
var config=$.extend({element:options.element,buttonText:options.text||'Pinterest',url:options.url||SNI.IS.Pinterest.getUrl(),imgUrl:options.imgUrl||SNI.IS.Pinterest.getImgUrl()||SNI.Config.Pinterest.defaultImgUrl,fromMsg:options.fromMsg||'',desc:options.desc||'',layout:options.layout||'horizontal'},options);config.desc=SNI.IS.Pinterest.getDesc(config);var $el=$(config.element);if($el.is('iframe')){$el.attr('src',SNI.IS.Pinterest.getIframeUrl(config,$el));}},getUrl:function(){return window.location.protocol+"//"+window.location.hostname+window.location.pathname;},getImgUrl:function(){if(typeof(mdManager)!=='undefined'){return mdManager.getParameterString('ImgUrl');}else{return false;}},getDesc:function(config){var title=mdManager.getParameterString('Title');if(config.desc&&config.fromMsg){return config.desc+config.fromMsg;}
else if(config.desc&&!config.fromMsg){return config.desc+SNI.Config.Pinterest.defaultFromMsg;}
else if(!config.desc&&config.fromMsg){return title+config.fromMsg;}
else if(typeof(mdManager)!=='undefined'){return title+SNI.Config.Pinterest.defaultFromMsg;}
else{return'';}},getPinUrl:function(config){return'http://pinterest.com/pin/create/button/'+'?url='+config.url+'&media='+config.imgUrl+'&description='+config.desc;},getIframeUrl:function(config,$el){var src=$el.attr('src');var baseUrl=src.split("?")[0];return baseUrl+'?url='+config.url+'&media='+config.imgUrl+'&description='+config.desc;}};
if(typeof SNI==='undefined'){SNI={}}
if(SNI.IS===undefined){SNI.IS={}}
SNI.IS.FB=(function($){var methods=function(){var m=this;m.parmsDone=false;function setAsyncParms(){if(!m.parmsDone){window.fbAsyncInit=function(){FB.init({appId:SNI.Config.FB.AppID||'#',status:true,cookie:true,xfbml:true,channelUrl:SNI.Config.FB.ChannelUrl,oauth:true});};m.parmsDone=true;}}
m.allJSDone=false;function insertAllJS(){if(!m.allJSDone){$("body").prepend('<div id="fb-root"></div>');var e=document.createElement('script');e.async=true;e.src=document.location.protocol+'//connect.facebook.net/en_US/all.js';document.getElementById("fb-root").appendChild(e)
m.allJSDone=true;}}
m.share=function(){};m.init=function(){setAsyncParms();insertAllJS();}
m.send=function(){};m.recommend=function(){};m.like=function(options){var settings={'layout':'button_count','show_faces':'true','width':'50','action':'like','font':'trebuchet ms','colorscheme':'light'};var $likeButton;if(options){$.extend(settings,options);}
$likeButton=$(settings.element);var like='<fb:like layout="'+settings.layout+'"show_faces="'+settings.show_faces+'"width="'+settings.width+'"action="'+settings.action+'"font="'+settings.font+'"colorscheme="'+settings.colorscheme+'"class="fb_edge_widget_with_comment fb_iframe_widget"></fb:like><span id="fb-root"></span>';var targetElement=$likeButton.attr("id");var fbid=document.getElementById(targetElement);$likeButton.buttonId=fbid;fbid.innerHTML=like;m.init();};m.login=function(options){m.init();this.FBLoginHandler=function(response){if(response.authResponse){var fb_accesstoken=response.authResponse.accessToken;var url='http://'+SNI.Config.Community.ur3Domain+'/sync.jsp?';var params='operation=checkifalreadysynced&epallowed=true&cb=SNI.IS.FB.afterFBLogin&access_token='+fb_accesstoken;$.getScript(url+params,function(){});}else{}}
var settings={selector:"#fb-login",perms:{scope:'read_stream,publish_stream'},FBLoginHandler:this.FBLoginHandler};if(options){$.extend(settings,options);}
$(settings.selector).click(function(){FB.login(settings.FBLoginHandler,settings.perms);return false;});};m.afterFBLogin=function(obj){var fbSynced=obj.fbSynced;var isepallowed=obj.isepallowed;var access_token;FB.getLoginStatus(function(response){if(response.authResponse){access_token=response.authResponse.accessToken;}else{}});if(fbSynced=="false"){document.location="http://"+SNI.Config.Community.ur3Domain+"/registration/register_lite.esi?mode=fb&access_token="+access_token+"&epallowed="+isepallowed;return;}else{window.location="http://"+SNI.Config.Community.ur3Domain+"/sync.jsp?operation=login&epallowed="+isepallowed+"&access_token="+access_token;return;}};m.updateButton=function(options){if(typeof(fbAsyncInit)==='undefined'){return;}
var $iframe=$(options.element).eq(0);if($iframe.is('iframe')){var preUrl=$iframe.attr('src').split('&href=')[0],likeUrl=$iframe.attr('src').split('&href=')[1].split('&layout=')[0],postUrl=$iframe.attr('src').split('&href=')[1].split('&layout=')[1];likeUrl="&href="+options.url;$iframe.attr('src',preUrl+likeUrl+'&layout='+postUrl);}}};return new methods();})(jQuery);
if(typeof SNI==='undefined'){SNI={}};if(typeof SNI.IS==='undefined'){SNI.IS={}};(function(){SNI.IS.GP={};SNI.IS.GP.plusone=function(config){var $button=$("<div />",{"class":"g-plusone","data-size":(config.size||"small"),"data-annotation":(config.annotation||"none")});return(function(){var $container=$(config.element);if($container.length){$container.append($button);return setTimeout(function(){$.getScript("https://apis.google.com/js/plusone.js");},1000);};})();};SNI.IS.GP.updateButton=function(config){if(typeof(googleapis)==='undefined'){return;}
var $iframe=$(config.element).eq(0);if($iframe.is('iframe')){var baseUrl=$iframe.attr('src').split('url=')[0],targetUrl=$iframe.attr('src').split('url=')[1].split('&size=')[0],miscUrl=$iframe.attr('src').split('url=')[1].split('&size=')[1];var newUrl="url="+config.url;$iframe.attr('src',baseUrl+newUrl+'&size='+miscUrl);}}})();

/*** sni-core-plugins ***/
/* jQuery UI Date Picker v3.3 - previously jQuery Calendar
 * Written by Marc Grabanski (m@marcgrabanski.com) and Keith Wood (kbwood@virginbroadband.com.au).
 *
 * Copyright (c) 2007 Marc Grabanski (http://marcgrabanski.com/code/ui-datepicker)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *  Date: 09-03-2007
 */

function Datepicker(){this.debug=false;this._nextId=0;this._inst=[];this._curInst=null;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this.regional=[];this.regional['']={clearText:'Clear',clearStatus:'Erase the current date',closeText:'Close',closeStatus:'Close without change',prevText:'&#x3c;Prev',prevStatus:'Show the previous month',nextText:'Next&#x3e;',nextStatus:'Show the next month',currentText:'Today',currentStatus:'Show the current month',monthNames:['January','February','March','April','May','June','July','August','September','October','November','December'],monthNamesShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],monthStatus:'Show a different month',yearStatus:'Show a different year',weekHeader:'Wk',weekStatus:'Week of the year',dayNames:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],dayNamesShort:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],dayNamesMin:['Su','M','Tu','W','Th','F','Sa'],dayStatus:'Set DD as first week day',dateStatus:'Select DD, M d',dateFormat:'mm/dd/y',firstDay:0,initStatus:'Select a date',isRTL:false};this._defaults={showOn:'focus',showAnim:'',hideAnim:'',defaultDate:null,appendText:'',buttonText:'...',buttonImage:'',buttonImageOnly:false,closeAtTop:true,mandatory:true,hideIfNoPrevNext:false,changeMonth:true,changeYear:true,yearRange:'-10:+10',changeFirstDay:false,showOtherMonths:false,showWeeks:false,calculateWeek:this.iso8601Week,shortYearCutoff:'+10',showStatus:false,statusForDate:this.dateStatus,minDate:null,maxDate:null,speed:'medium',beforeShowDay:null,beforeShow:null,onSelect:null,numberOfMonths:1,stepMonths:1,stepYears:1,rangeSelect:false,rangeSeparator:' - ',title:'Select a Day',selectionType:'day',highlightWeek:false,otherMonthsActive:false,printRange:false};$.extend(this._defaults,this.regional['']);this._datepickerDiv=$('<div id="datepicker"><div class="hd"></div><div class="bd"></div><div class="ft"></div></div>');}
$.extend(Datepicker.prototype,{markerClassName:'hasDatepicker',log:function(){if(this.debug){console.log.apply('',arguments);}},_register:function(inst){var id=this._nextId++;this._inst[id]=inst;return id;},_getInst:function(id){return this._inst[id]||id;},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this;},_doKeyDown:function(e){var inst=$.datepicker._getInst(this._calId);if($.datepicker._datepickerShowing){switch(e.keyCode){case 9:$.datepicker.hideDatepicker('');break;case 13:$.datepicker._selectDay(inst,inst._selectedMonth,inst._selectedYear,$('td.datepicker_daysCellOver',inst._datepickerDiv)[0]);return false;case 27:$.datepicker.hideDatepicker(inst._get('speed'));break;case 33:$.datepicker._adjustDate(inst,(e.ctrlKey?-1:-inst._get('stepMonths')),(e.ctrlKey?'Y':'M'));break;case 34:$.datepicker._adjustDate(inst,(e.ctrlKey?+1:+inst._get('stepMonths')),(e.ctrlKey?'Y':'M'));break;case 35:if(e.ctrlKey){$.datepicker._clearDate(inst);}
break;case 36:if(e.ctrlKey){$.datepicker._gotoToday(inst);}
break;case 37:if(e.ctrlKey){$.datepicker._adjustDate(inst,-1,'D');}
break;case 38:if(e.ctrlKey){$.datepicker._adjustDate(inst,-7,'D');}
break;case 39:if(e.ctrlKey){$.datepicker._adjustDate(inst,+1,'D');}
break;case 40:if(e.ctrlKey){$.datepicker._adjustDate(inst,+7,'D');}
break;}}
else if(e.keyCode==36&&e.ctrlKey){$.datepicker.showFor(this);}},_doKeyPress:function(e){var inst=$.datepicker._getInst(this._calId);var chars=$.datepicker._possibleChars(inst._get('dateFormat'));var chr=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return(chr<' '||!chars||chars.indexOf(chr)>-1);},_connectDatepicker:function(target,inst){var input=$(target);if(this._hasClass(input,this.markerClassName)){return;}
var appendText=inst._get('appendText');var isRTL=inst._get('isRTL');if(appendText){if(isRTL){input.before('<span class="datepicker_append">'+appendText+'</span>');}
else{input.after('<span class="datepicker_append">'+appendText+'</span>');}}
var showOn=inst._get('showOn');if(showOn=='focus'||showOn=='both'){input.focus(this.showFor);}
if(showOn=='button'||showOn=='both'){var buttonText=inst._get('buttonText');var buttonImage=inst._get('buttonImage');var buttonImageOnly=inst._get('buttonImageOnly');var trigger=$(buttonImageOnly?'<img class="datepicker_trigger" src="'+
buttonImage+'" alt="'+buttonText+'" title="'+buttonText+'"/>':'<button type="button" class="datepicker_trigger">'+(buttonImage!=''?'<img src="'+buttonImage+'" alt="'+buttonText+'" title="'+buttonText+'"/>':buttonText)+'</button>');input.wrap('<span class="datepicker_wrap"></span>');if(isRTL){input.before(trigger);}
else{input.after(trigger);}
trigger.click(this.showFor);}
input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress);input[0]._calId=inst._id;},_inlineDatepicker:function(target,inst){var input=$(target);if(this._hasClass(input,this.markerClassName)){return;}
input.addClass(this.markerClassName).append(inst._datepickerDiv);input[0]._calId=inst._id;this._updateDatepicker(inst);},_inlineShow:function(inst){var numMonths=inst._getNumberOfMonths();inst._datepickerDiv.width(numMonths[1]*$('.datepicker',inst._datepickerDiv[0]).width());},_hasClass:function(element,className){var classes=element.attr('class');return(classes&&classes.indexOf(className)>-1);},dialogDatepicker:function(dateText,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){inst=this._dialogInst=new DatepickerInstance({},false);this._dialogInput=$('<input type="text" size="1" style="position: absolute; top: -100px;"/>');this._dialogInput.keydown(this._doKeyDown);$('body').append(this._dialogInput);this._dialogInput[0]._calId=inst._id;}
extendRemove(inst._settings,settings||{});this._dialogInput.val(dateText);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){var browserWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var browserHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY];}
this._dialogInput.css('left',this._pos[0]+'px').css('top',this._pos[1]+'px');inst._settings.onSelect=onSelect;this._inDialog=true;this._datepickerDiv.addClass('datepicker_dialog');this.showFor(this._dialogInput[0]);if($.blockUI){$.blockUI(this._datepickerDiv);}
return this;},showFor:function(control){control=(control.jquery?control[0]:(typeof control=='string'?$(control)[0]:control));var input=(control.nodeName&&control.nodeName.toLowerCase()=='input'?control:this);if(input.nodeName.toLowerCase()!='input'){input=$('input',input.parentNode)[0];}
if($.datepicker._lastInput==input){return;}
if($(input).isDisabledDatepicker()){return;}
var inst=$.datepicker._getInst(input._calId);var beforeShow=inst._get('beforeShow');extendRemove(inst._settings,(beforeShow?beforeShow.apply(input,[input,inst]):{}));$.datepicker.hideDatepicker('');$.datepicker._lastInput=input;inst._setDateFromField(input);if($.datepicker._inDialog){input.value='';}
if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}
var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css('position')=='fixed';});if(isFixed&&$.browser.opera){$.datepicker._pos[0]-=document.documentElement.scrollLeft;$.datepicker._pos[1]-=document.documentElement.scrollTop;}
if(!$.datepicker._inDialog){var iconOffset=7;var horizontalOffset=$(inst._input).outerWidth()-$.datepicker._datepickerDiv.outerWidth()-iconOffset;$.datepicker._pos[0]=$.datepicker._pos[0]+horizontalOffset;}
inst._datepickerDiv.css('position',($.datepicker._inDialog&&$.blockUI?'static':(isFixed?'fixed':'absolute'))).css('left',$.datepicker._pos[0]+'px').css('top',$.datepicker._pos[1]+'px');$.datepicker._pos=null;$.datepicker._showDatepicker(inst);return this;},_showDatepicker:function(id){var inst=this._getInst(id);inst._rangeStart=null;this._updateDatepicker(inst);if(!inst._inline){var speed=inst._get('speed');var postProcess=function(){$.datepicker._datepickerShowing=true;$.datepicker._afterShow(inst);};inst._input.addClass('datepicker_open');var showAnim=inst._get('showAnim');if(showAnim){inst._datepickerDiv[showAnim](speed,postProcess);}else{inst._datepickerDiv.show();speed='';}
if(speed==''){postProcess();}
if(inst._input[0].type!='hidden'){inst._input[0].focus();}
this._curInst=inst;}},_updateDatepicker:function(inst){inst._datepickerBody.empty().append(inst._generateDatepicker());var numMonths=inst._getNumberOfMonths();if(numMonths[0]!=1||numMonths[1]!=1){inst._datepickerBody.addClass('datepicker_multi');}
else{inst._datepickerBody.removeClass('datepicker_multi');}
if(inst._get('isRTL')){inst._datepickerBody.addClass('datepicker_rtl');}
else{inst._datepickerBody.removeClass('datepicker_rtl');}
if(inst._input&&inst._input[0].type!='hidden'){inst._input[0].focus();}},_afterShow:function(inst){var numMonths=inst._getNumberOfMonths();var isFixed=inst._datepickerDiv.css('position')=='fixed';var pos=inst._input?$.datepicker._findPos(inst._input[0]):null;var browserWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var browserHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var scrollX=(isFixed?0:document.documentElement.scrollLeft||document.body.scrollLeft);var scrollY=(isFixed?0:document.documentElement.scrollTop||document.body.scrollTop);if(inst._datepickerDiv.offset().left<0){inst._datepickerDiv.css('left','5px');}
if((inst._datepickerDiv.offset().top+inst._datepickerDiv.height()-
(isFixed&&$.browser.msie?document.documentElement.scrollTop:0))>(browserHeight+scrollY)){inst._datepickerDiv.css('top',Math.max(scrollY,pos[1]-(this._inDialog?0:inst._datepickerDiv.height())-
(isFixed&&$.browser.opera?document.documentElement.scrollTop:0))+'px');}},_findPos:function(obj){while(obj&&(obj.type=='hidden'||obj.nodeType!=1)){obj=obj.nextSibling;}
var curleft=0;var curtop=0;if(obj&&obj.offsetParent){curleft=obj.offsetLeft;curtop=obj.offsetTop;while(obj=obj.offsetParent){var origcurleft=curleft;curleft+=obj.offsetLeft;if(curleft<0){curleft=origcurleft;}
curtop+=obj.offsetTop;}}
return[curleft,curtop];},hideDatepicker:function(speed){var inst=this._curInst;if(!inst){return;}
var rangeSelect=inst._get('rangeSelect');if(rangeSelect&&this._stayOpen){this._selectDate(inst,inst._formatDate(inst._currentDay,inst._currentMonth,inst._currentYear));}
this._stayOpen=false;if(this._datepickerShowing){speed=(speed!=null?speed:inst._get('speed'));inst._input.removeClass('datepicker_open');hideAnim=inst._get('hideAnim');if(hideAnim){inst._datepickerDiv[hideAnim](speed,function(){$.datepicker._tidyDialog(inst);});}else{inst._datepickerDiv.hide();speed='';}
if(speed===''){this._tidyDialog(inst);}
this._datepickerShowing=false;this._lastInput=null;inst._settings.prompt=null;if(this._inDialog){this._dialogInput.css('position','absolute').css('left','0px').css('top','-100px');if($.blockUI){$.unblockUI();$('body').append(this._datepickerDiv);}}
this._inDialog=false;}
this._curInst=null;},_tidyDialog:function(inst){inst._datepickerDiv.removeClass('datepicker_dialog');$('.datepicker_prompt',inst._datepickerDiv).remove();},_checkExternalClick:function(event){if(!$.datepicker._curInst){return;}
var target=$(event.target);if((target.parents("#datepicker").length==0)&&(target.attr('class')!='datepicker_trigger')&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)){$.datepicker.hideDatepicker('');}},_adjustDate:function(id,offset,period){var inst=this._getInst(id);inst._adjustDate(offset,period);this._updateDatepicker(inst);},_gotoToday:function(id){var date=new Date();var inst=this._getInst(id);inst._selectedDay=date.getDate();inst._selectedMonth=date.getMonth();inst._selectedYear=date.getFullYear();this._adjustDate(inst);},_selectMonthYear:function(id,select,period){var inst=this._getInst(id);inst._selectingMonthYear=false;inst[period=='M'?'_selectedMonth':'_selectedYear']=select.options[select.selectedIndex].value-0;this._adjustDate(inst);},_clickMonthYear:function(id){var inst=this._getInst(id);if(inst._input&&inst._selectingMonthYear&&!$.browser.msie){inst._input[0].focus();}
inst._selectingMonthYear=!inst._selectingMonthYear;},_changeFirstDay:function(id,day){var inst=this._getInst(id);inst._settings.firstDay=day;this._updateDatepicker(inst);},_selectDay:function(id,month,year,td){if(this._hasClass($(td),'datepicker_unselectable')){return;}
var inst=this._getInst(id);var weekSelect=inst._get('selectionType')=='week';var rangeSelect=inst._get('rangeSelect');var printRange=inst._get('printRange');if(rangeSelect){if(!this._stayOpen){$('.datepicker_table td').removeClass('datepicker_currentDay');$(td).addClass('datepicker_currentDay');}
this._stayOpen=!this._stayOpen;}
inst._currentDay=$('a',td).html();inst._currentMonth=month;inst._currentYear=year;this._selectDate(id,inst._formatDate(inst._currentDay,inst._currentMonth,inst._currentYear));if(printRange){selectedDate=$.datepicker.parseDate(inst._get('dateFormat'),inst._formatDate(inst._currentDay,inst._currentMonth,inst._currentYear));selectedDate.setDate(selectedDate.getDate()-selectedDate.getDay());inst._currentDay=selectedDate.getDate();inst._currentMonth=selectedDate.getMonth();inst._currentYear=selectedDate.getFullYear();inst._rangeStart=new Date(inst._currentYear,inst._currentMonth,inst._currentDay);endDate=new Date(inst._currentYear,inst._currentMonth,inst._currentDay);endDate.setDate(endDate.getDate()+6);this._selectDate(id,inst._formatDate(endDate.getDate(),endDate.getMonth(),endDate.getFullYear()));inst._rangeStart=null;}
else if(this._stayOpen){inst._endDay=inst._endMonth=inst._endYear=null;inst._rangeStart=new Date(inst._currentYear,inst._currentMonth,inst._currentDay);this._updateDatepicker(inst);}
else if(rangeSelect){inst._endDay=inst._currentDay;inst._endMonth=inst._currentMonth;inst._endYear=inst._currentYear;inst._selectedDay=inst._currentDay=inst._rangeStart.getDate();inst._selectedMonth=inst._currentMonth=inst._rangeStart.getMonth();inst._selectedYear=inst._currentYear=inst._rangeStart.getFullYear();inst._rangeStart=null;if(inst._inline){this._updateDatepicker(inst);}}},_clearDate:function(id){var inst=this._getInst(id);this._stayOpen=false;inst._endDay=inst._endMonth=inst._endYear=inst._rangeStart=null;this._selectDate(inst,'');},_selectDate:function(id,dateStr){var inst=this._getInst(id);dateStr=(dateStr!=null?dateStr:inst._formatDate());if(inst._rangeStart){dateStr=inst._formatDate(inst._rangeStart)+inst._get('rangeSeparator')+dateStr;}
if(inst._input){inst._input.val(dateStr);}
var onSelect=inst._get('onSelect');if(onSelect){onSelect.apply((inst._input?inst._input[0]:null),[dateStr,inst]);}
else{if(inst._input){inst._input.trigger('change');}}
if(inst._inline){this._updateDatepicker(inst);}
else{if(!this._stayOpen){this.hideDatepicker(inst._get('speed'));this._lastInput=inst._input[0];if(typeof(inst._input[0])!='object'){inst._input[0].focus();}
this._lastInput=null;}}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),''];},iso8601Week:function(date){var checkDate=new Date(date.getFullYear(),date.getMonth(),date.getDate());var firstMon=new Date(checkDate.getFullYear(),1-1,4);var firstDay=firstMon.getDay()||7;firstMon.setDate(firstMon.getDate()+1-firstDay);if(firstDay<4&&checkDate<firstMon){checkDate.setDate(checkDate.getDate()-3);return $.datepicker.iso8601Week(checkDate);}
else if(checkDate>new Date(checkDate.getFullYear(),12-1,28)){firstDay=new Date(checkDate.getFullYear()+1,1-1,4).getDay()||7;if(firstDay>4&&(checkDate.getDay()||7)<firstDay-3){checkDate.setDate(checkDate.getDate()+3);return $.datepicker.iso8601Week(checkDate);}}
return Math.floor(((checkDate-firstMon)/86400000)/7)+1;},dateStatus:function(date,inst){return $.datepicker.formatDate(inst._get('dateStatus'),date,inst._getFormatConfig());},parseDate:function(format,value,settings){if(format==null||value==null){throw'Invalid arguments';}
value=(typeof value=='object'?value.toString():value+'');if(value==''){return null;}
var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++;}
return matches;};var getNumber=function(match){lookAhead(match);var size=(match=='y'?4:2);var num=0;while(size>0&&iValue<value.length&&value.charAt(iValue)>='0'&&value.charAt(iValue)<='9'){num=num*10+(value.charAt(iValue++)-0);size--;}
if(size==(match=='y'?4:2)){throw'Missing number at position '+iValue;}
return num;};var getName=function(match,shortNames,longNames){var names=(lookAhead(match)?longNames:shortNames);var size=0;for(var j=0;j<names.length;j++){size=Math.max(size,names[j].length);}
var name='';var iInit=iValue;while(size>0&&iValue<value.length){name+=value.charAt(iValue++);for(var i=0;i<names.length;i++){if(name==names[i]){return i+1;}}
size--;}
throw'Unknown name at position '+iInit;};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat)){throw'Unexpected literal at position '+iValue;}
iValue++;};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=='\''&&!lookAhead('\'')){literal=false;}
else{checkLiteral();}}
else{switch(format.charAt(iFormat)){case'd':day=getNumber('d');break;case'D':getName('D',dayNamesShort,dayNames);break;case'm':month=getNumber('m');break;case'M':month=getName('M',monthNamesShort,monthNames);break;case'y':year=getNumber('y');break;case'\'':if(lookAhead('\'')){checkLiteral();}
else{literal=true;}
break;default:checkLiteral();}}}
if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+
(year<=shortYearCutoff?0:-100);}
var date=new Date(year,month-1,day);if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day){throw'Invalid date';}
return date;},formatDate:function(format,date,settings){if(!date){return'';}
var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++;}
return matches;};var formatNumber=function(match,value){return(lookAhead(match)&&value<10?'0':'')+value;};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);};var output='';var literal=false;if(date){for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=='\''&&!lookAhead('\'')){literal=false;}
else{output+=format.charAt(iFormat);}}
else{switch(format.charAt(iFormat)){case'd':output+=formatNumber('d',date.getDate());break;case'D':output+=formatName('D',date.getDay(),dayNamesShort,dayNames);break;case'm':output+=formatNumber('m',date.getMonth()+1);break;case'M':output+=formatName('M',date.getMonth(),monthNamesShort,monthNames);break;case'y':output+=(lookAhead('y')?date.getFullYear():(date.getYear()%100<10?'0':'')+date.getYear()%100);break;case'\'':if(lookAhead('\'')){output+='\'';}
else{literal=true;}
break;default:output+=format.charAt(iFormat);}}}}
return output;},_possibleChars:function(format){var chars='';var literal=false;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=='\''&&!lookAhead('\'')){literal=false;}
else{chars+=format.charAt(iFormat);}}
else{switch(format.charAt(iFormat)){case'd':case'm':case'y':chars+='0123456789';break;case'D':case'M':return null;case'\'':if(lookAhead('\'')){chars+='\'';}
else{literal=true;}
break;default:chars+=format.charAt(iFormat);}}}
return chars;}});function DatepickerInstance(settings,inline){this._id=$.datepicker._register(this);this._selectedDay=0;this._selectedMonth=0;this._selectedYear=0;this._input=null;this._inline=inline;this._datepickerDiv=(!inline?$.datepicker._datepickerDiv:$('<div id="datepicker_'+this._id+'" class="datepicker_inline"></div>'));this._datepickerBody=this._datepickerDiv.find('.bd:first');this._settings=extendRemove({},settings||{});if(inline){this._setDate(this._getDefaultDate());}}
$.extend(DatepickerInstance.prototype,{_get:function(name){return(this._settings[name]!=null?this._settings[name]:$.datepicker._defaults[name]);},_setDateFromField:function(input){this._input=$(input);var dateFormat=this._get('dateFormat');var dates=this._input?this._input.val().split(this._get('rangeSeparator')):null;this._endDay=this._endMonth=this._endYear=null;var date=defaultDate=this._getDefaultDate();if(dates.length>0){var settings=this._getFormatConfig();if(dates.length>1){date=$.datepicker.parseDate(dateFormat,dates[1],settings)||defaultDate;this._endDay=date.getDate();this._endMonth=date.getMonth();this._endYear=date.getFullYear();}
try{date=$.datepicker.parseDate(dateFormat,dates[0],settings)||defaultDate;}
catch(e){$.datepicker.log(e);date=defaultDate;}}
this._selectedDay=this._currentDay=date.getDate();this._selectedMonth=this._currentMonth=date.getMonth();this._selectedYear=this._currentYear=date.getFullYear();this._adjustDate();},_getDefaultDate:function(){return this._determineDate('defaultDate',new Date());},_determineDate:function(name,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;};var offsetString=function(offset,getDaysInMonth){var date=new Date();var matches=/^([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?$/.exec(offset);if(matches){var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();switch(matches[2]||'d'){case'd':case'D':day+=(matches[1]-0);break;case'w':case'W':day+=(matches[1]*7);break;case'm':case'M':month+=(matches[1]-0);day=Math.min(day,getDaysInMonth(year,month));break;case'y':case'Y':year+=(matches[1]-0);day=Math.min(day,getDaysInMonth(year,month));break;}
date=new Date(year,month,day);}
return date;};var date=this._get(name);return(date==null?defaultDate:(typeof date=='string'?offsetString(date,this._getDaysInMonth):(typeof date=='number'?offsetNumeric(date):date)));},_setDate:function(date,endDate){this._selectedDay=this._currentDay=date.getDate();this._selectedMonth=this._currentMonth=date.getMonth();this._selectedYear=this._currentYear=date.getFullYear();if(this._get('rangeSelect')||this._get('selectionType')=='week'){if(endDate){this._endDay=endDate.getDate();this._endMonth=endDate.getMonth();this._endYear=endDate.getFullYear();}
else{this._endDay=this._currentDay;this._endMonth=this._currentMonth;this._endYear=this._currentYear;}}
this._adjustDate();},_getDate:function(){var startDate=(!this._currentYear||(this._input&&this._input.val()=='')?null:new Date(this._currentYear,this._currentMonth,this._currentDay));if(this._get('rangeSelect')||this._get('selectionType')=='week'){return[startDate,(!this._endYear?null:new Date(this._endYear,this._endMonth,this._endDay))];}
else{return startDate;}},_generateDatepicker:function(){var today=new Date();today=new Date(today.getFullYear(),today.getMonth(),today.getDate());var showStatus=this._get('showStatus');var isRTL=this._get('isRTL');var clear=(this._get('mandatory')?'':'<div class="datepicker_clear"><a href="javascript:void(0);" onclick="jQuery.datepicker._clearDate('+this._id+');"'+
(showStatus?this._addStatus(this._get('clearStatus')||'&#xa0;'):'')+'>'+
this._get('clearText')+'</a></div>');var title=this._get('title');var controls='<div class="datepicker_control">'+(isRTL?'':clear)+
(title?'<div class="datepicker_title">'+title+'</div>':'')+'<div class="datepicker_close"><a href="javascript:void(0);" onclick="jQuery.datepicker.hideDatepicker();"'+
(showStatus?this._addStatus(this._get('closeStatus')||'&#xa0;'):'')+'>'+
this._get('closeText')+'</a></div>'+(isRTL?clear:'')+'</div>';var prompt=this._get('prompt');var closeAtTop=this._get('closeAtTop');var hideIfNoPrevNext=this._get('hideIfNoPrevNext');var numMonths=this._getNumberOfMonths();var stepMonths=this._get('stepMonths');var stepYears=this._get('stepYears');var isMultiMonth=(numMonths[0]!=1||numMonths[1]!=1);var minDate=this._getMinMaxDate('min',true);var maxDate=this._getMinMaxDate('max');var drawMonth=this._selectedMonth;var drawYear=this._selectedYear;if(maxDate){var maxDraw=new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[1]+1,maxDate.getDate());maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(new Date(drawYear,drawMonth,1)>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}
var html=(closeAtTop&&!this._inline?controls:'');var showWeeks=this._get('showWeeks');var highlightWeek=this._get('highlightWeek');for(var row=0;row<numMonths[0];row++){for(var col=0;col<numMonths[1];col++){var selectedDate=new Date(drawYear,drawMonth,this._selectedDay);html+='<div class="datepicker_oneMonth'+(col==0?' datepicker_newRow':'')+'">'+
this._generateMonthYearHeader(drawMonth,drawYear,minDate,maxDate,selectedDate,row>0||col>0)+'<table class="datepicker_table" cellpadding="0" cellspacing="0"><thead>'+'<tr class="datepicker_titleRow">'+
(showWeeks?'<td>'+this._get('weekHeader')+'</td>':'');var firstDay=this._get('firstDay');var changeFirstDay=this._get('changeFirstDay');var dayNames=this._get('dayNames');var dayNamesShort=this._get('dayNamesShort');var dayNamesMin=this._get('dayNamesMin');for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;var status=this._get('dayStatus')||'&#xa0;';status=(status.indexOf('DD')>-1?status.replace(/DD/,dayNames[day]):status.replace(/D/,dayNamesShort[day]));html+='<td'+((dow+firstDay+6)%7>=5?' class="datepicker_weekEndCell"':'')+'>'+
(!changeFirstDay?'<span':'<a onclick="jQuery.datepicker._changeFirstDay('+this._id+', '+day+');"')+
(showStatus?this._addStatus(status):'')+' title="'+dayNames[day]+'">'+
dayNamesMin[day]+(changeFirstDay?'</a>':'</span>')+'</td>';}
html+='</tr></thead><tbody>';var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear==this._selectedYear&&drawMonth==this._selectedMonth){this._selectedDay=Math.min(this._selectedDay,daysInMonth);}
var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var currentDate=new Date(this._currentYear,this._currentMonth,this._currentDay);var endDate=this._endDay?new Date(this._endYear,this._endMonth,this._endDay):currentDate;var defaultDate=this._get('defaultDate');if(currentDate!=endDate&&defaultDate){currentDate=defaultDate;}
if(!highlightWeek){endDate=currentDate;}
var printDate=new Date(drawYear,drawMonth,1-leadDays);var numRows=(isMultiMonth?6:Math.ceil((leadDays+daysInMonth)/7));var beforeShowDay=this._get('beforeShowDay');var showOtherMonths=this._get('showOtherMonths');var calculateWeek=this._get('calculateWeek')||$.datepicker.iso8601Week;var dateStatus=this._get('statusForDate')||$.datepicker.dateStatus;var weekSelect=this._get('selectionType')=='week';var otherMonthsActive=this._get('otherMonthsActive');for(var dRow=0;dRow<numRows;dRow++){html+='<tr class="datepicker_daysRow"';if(weekSelect){html+=' onmouseover="jQuery(this).addClass(\'datepicker_daysRowOver\');" '+'onmouseout="jQuery(this).removeClass(\'datepicker_daysRowOver\');" ';}
html+='>'+
(showWeeks?'<td class="datepicker_weekCol">'+calculateWeek(printDate)+'</td>':'');for(var dow=0;dow<7;dow++){var daySettings=(beforeShowDay?beforeShowDay.apply((this._input?this._input[0]:null),[printDate]):[true,'']);var otherMonth=(printDate.getMonth()!=drawMonth);var unselectable=otherMonthsActive?false:(otherMonth||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate));html+='<td class="datepicker_daysCell'+
((dow+firstDay+6)%7>=5?' datepicker_weekEndCell':'')+
(otherMonth?' datepicker_otherMonth':'')+
(unselectable?' datepicker_unselectable':'')+
(otherMonth&&!showOtherMonths?'':' '+daySettings[1]+
(printDate.getTime()>=currentDate.getTime()&&printDate.getTime()<=endDate.getTime()?' datepicker_currentDay':'')+
(printDate.getTime()==today.getTime()?' datepicker_today':''))+'"'+
(unselectable?'':' onmouseover="jQuery(this).addClass(\'datepicker_daysCellOver\');'+
(!showStatus||(otherMonth&&!showOtherMonths)?'':'jQuery(\'#datepicker_status_'+
this._id+'\').html(\''+(dateStatus.apply((this._input?this._input[0]:null),[printDate,this])||'&#xa0;')+'\');')+'"'+' onmouseout="jQuery(this).removeClass(\'datepicker_daysCellOver\');'+
(!showStatus||(otherMonth&&!showOtherMonths)?'':'jQuery(\'#datepicker_status_'+
this._id+'\').html(\'&#xa0;\');')+'" onclick="jQuery.datepicker._selectDay('+
this._id+','+printDate.getMonth()+','+printDate.getFullYear()+', this);"')+'>'+
(otherMonth&&!otherMonthsActive?(showOtherMonths?printDate.getDate():'&#xa0;'):(unselectable?printDate.getDate():'<a href="javascript:void(0);">'+printDate.getDate()+'</a>'))+'</td>';printDate.setDate(printDate.getDate()+1);}
html+='</tr>';}
drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}
html+='</tbody></table></div>';}}
html+=(showStatus?'<div id="datepicker_status_'+this._id+'" class="datepicker_status">'+(this._get('initStatus')||'&#xa0;')+'</div>':'')+
(!closeAtTop&&!this._inline?controls:'')
return html;},_generateMonthYearHeader:function(drawMonth,drawYear,minDate,maxDate,selectedDate,secondary){minDate=(this._rangeStart&&minDate&&selectedDate<minDate?selectedDate:minDate);var showStatus=this._get('showStatus');var hideIfNoPrevNext=this._get('hideIfNoPrevNext');var html='<div class="datepicker_header">';var monthNames=this._get('monthNames');if(secondary||!this._get('changeMonth')){html+=monthNames[drawMonth]+'&#xa0;';}
else{var monthName=monthNames[drawMonth];var stepMonths=this._get('stepMonths');var prevMonth='<div class="datepicker_newMonth_prev">'+
(this._canAdjustMonth(-1,drawYear,drawMonth)?'<a href="javascript:void(0);" onclick="jQuery.datepicker._adjustDate('+this._id+', -'+stepMonths+', \'M\');"'+
(showStatus?this._addStatus(this._get('prevStatus')||'&#xa0;'):'')+'>'+
this._get('prevText')+'</a>':(hideIfNoPrevNext?'':'<a href="javascript:void(0);" onclick="void(0);" class="disabled">'+this._get('prevText')+'</a>'))+'</div>';var nextMonth='<div class="datepicker_newMonth_next">'+(this._canAdjustMonth(+1,drawYear,drawMonth)?'<a href="javascript:void(0);" onclick="jQuery.datepicker._adjustDate('+this._id+', +'+stepMonths+', \'M\');"'+
(showStatus?this._addStatus(this._get('nextStatus')||'&#xa0;'):'')+'>'+
this._get('nextText')+'</a>':(hideIfNoPrevNext?'>':'<a href="javascript:void(0);" onclick="void(0);" class="disabled">'+this._get('nextText')+'</a>'))+'</div>';html+='<div class="datepicker_newMonth">'+
prevMonth+'<span class="datepicker_month_title">'+monthName+'</span>'+
nextMonth+'</div>';}
if(secondary||!this._get('changeYear')){html+=drawYear;}
else{var stepYears=this._get('stepYears');var prevYear='<div class="datepicker_newYear_prev">'+(this._canAdjustMonth(-1,drawYear,drawMonth)?'<a href="javascript:void(0);" onclick="jQuery.datepicker._adjustDate('+this._id+', -'+stepYears+', \'Y\');"'+
(showStatus?this._addStatus(this._get('prevStatus')||'&#xa0;'):'')+'>'+
this._get('prevText')+'</a>':(hideIfNoPrevNext?'':'<a href="javascript:void(0);" onclick="void(0);" class="disabled">'+this._get('prevText')+'</a>'))+'</div>';var nextYear='<div class="datepicker_newYear_next">'+(this._canAdjustMonth(+1,drawYear,drawMonth)?'<a href="javascript:void(0);" onclick="jQuery.datepicker._adjustDate('+this._id+', +'+stepYears+', \'Y\');"'+
(showStatus?this._addStatus(this._get('nextStatus')||'&#xa0;'):'')+'>'+
this._get('nextText')+'</a>':(hideIfNoPrevNext?'>':'<a href="javascript:void(0);" onclick="void(0);" class="disabled">'+this._get('nextText')+'</a>'))+'</div>';html+='<div class="datepicker_newYear">'+
prevYear+'<span class="datepicker_year_title">'+drawYear+'</span>'+
nextYear+'</div>';}
html+='</div>';return html;},_addStatus:function(text){return' onmouseover="jQuery(\'#datepicker_status_'+this._id+'\').html(\''+text+'\');" '+'onmouseout="jQuery(\'#datepicker_status_'+this._id+'\').html(\'&#xa0;\');"';},_adjustDate:function(offset,period){var year=this._selectedYear+(period=='Y'?offset:0);var month=this._selectedMonth+(period=='M'?offset:0);var day=Math.min(this._selectedDay,this._getDaysInMonth(year,month))+
(period=='D'?offset:0);var date=new Date(year,month,day);var minDate=this._getMinMaxDate('min',true);var maxDate=this._getMinMaxDate('max');date=(minDate&&date<minDate?minDate:date);date=(maxDate&&date>maxDate?maxDate:date);this._selectedDay=date.getDate();this._selectedMonth=date.getMonth();this._selectedYear=date.getFullYear();},_getNumberOfMonths:function(){var numMonths=this._get('numberOfMonths');return(numMonths==null?[1,1]:(typeof numMonths=='number'?[1,numMonths]:numMonths));},_getMinMaxDate:function(minMax,checkRange){var date=this._determineDate(minMax+'Date',null);if(date){date.setHours(0);date.setMinutes(0);date.setSeconds(0);date.setMilliseconds(0);}
return date||(checkRange?this._rangeStart:null);},_getDaysInMonth:function(year,month){return 32-new Date(year,month,32).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(offset,curYear,curMonth){var numMonths=this._getNumberOfMonths();var date=new Date(curYear,curMonth+(offset<0?offset:numMonths[1]),1);if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}
return this._isInRange(date);},_isInRange:function(date){var newMinDate=(!this._rangeStart?null:new Date(this._selectedYear,this._selectedMonth,this._selectedDay));newMinDate=(newMinDate&&this._rangeStart<newMinDate?this._rangeStart:newMinDate);var minDate=newMinDate||this._getMinMaxDate('min');var maxDate=this._getMinMaxDate('max');return((!minDate||date>=minDate)&&(!maxDate||date<=maxDate));},_getFormatConfig:function(){var shortYearCutoff=this._get('shortYearCutoff');shortYearCutoff=(typeof shortYearCutoff!='string'?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get('dayNamesShort'),dayNames:this._get('dayNames'),monthNamesShort:this._get('monthNamesShort'),monthNames:this._get('monthNames')};},_formatDate:function(day,month,year){if(!day){this._currentDay=this._selectedDay;this._currentMonth=this._selectedMonth;this._currentYear=this._selectedYear;}
var date=(day?(typeof day=='object'?day:new Date(year,month,day)):new Date(this._currentYear,this._currentMonth,this._currentDay));return $.datepicker.formatDate(this._get('dateFormat'),date,this._getFormatConfig());}});function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=null;}}
return target;};$.fn.attachDatepicker=function(settings){return this.each(function(){var inlineSettings=null;for(attrName in $.datepicker._defaults){var attrValue=this.getAttribute('date:'+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue);}
catch(err){inlineSettings[attrName]=attrValue;}}}
var nodeName=this.nodeName.toLowerCase();if(nodeName=='input'){var instSettings=(inlineSettings?$.extend($.extend({},settings||{}),inlineSettings||{}):settings);var inst=(inst&&!inlineSettings?inst:new DatepickerInstance(instSettings,false));$.datepicker._connectDatepicker(this,inst);}
else if(nodeName=='div'||nodeName=='span'){var instSettings=$.extend($.extend({},settings||{}),inlineSettings||{});var inst=new DatepickerInstance(instSettings,true);$.datepicker._inlineDatepicker(this,inst);}});};$.fn.removeDatepicker=function(){var jq=this.each(function(){var $this=$(this);var nodeName=this.nodeName.toLowerCase();var calId=this._calId;this._calId=null;if(nodeName=='input'){$this.siblings('.datepicker_append').replaceWith('');$this.siblings('.datepicker_trigger').replaceWith('');$this.removeClass($.datepicker.markerClassName).unbind('focus',$.datepicker.showFor).unbind('keydown',$.datepicker._doKeyDown).unbind('keypress',$.datepicker._doKeyPress);var wrapper=$this.parents('.datepicker_wrap');if(wrapper){wrapper.replaceWith(wrapper.html());}}
else if(nodeName=='div'||nodeName=='span'){$this.removeClass($.datepicker.markerClassName).empty();}
if($('input[_calId='+calId+']').length==0){$.datepicker._inst[calId]=null;}});if($('input.hasDatepicker').length==0){$.datepicker._datepickerDiv.replaceWith('');}
return jq;};$.fn.enableDatepicker=function(){return this.each(function(){this.disabled=false;$(this).siblings('button.datepicker_trigger').each(function(){this.disabled=false;});$(this).siblings('img.datepicker_trigger').css({opacity:'1.0',cursor:''});var $this=this;$.datepicker._disabledInputs=$.map($.datepicker._disabledInputs,function(value){return(value==$this?null:value);});});};$.fn.disableDatepicker=function(){return this.each(function(){this.disabled=true;$(this).siblings('button.datepicker_trigger').each(function(){this.disabled=true;});$(this).siblings('img.datepicker_trigger').css({opacity:'0.5',cursor:'default'});var $this=this;$.datepicker._disabledInputs=$.map($.datepicker._disabledInputs,function(value){return(value==$this?null:value);});$.datepicker._disabledInputs[$.datepicker._disabledInputs.length]=this;});};$.fn.isDisabledDatepicker=function(){if(this.length==0){return false;}
for(var i=0;i<$.datepicker._disabledInputs.length;i++){if($.datepicker._disabledInputs[i]==this[0]){return true;}}
return false;};$.fn.changeDatepicker=function(name,value){var settings=name||{};if(typeof name=='string'){settings={};settings[name]=value;}
return this.each(function(){var inst=$.datepicker._getInst(this._calId);if(inst){extendRemove(inst._settings,settings);$.datepicker._updateDatepicker(inst);}});};$.fn.showDatepicker=function(){$.datepicker.showFor(this);return this;};$.fn.setDatepickerDate=function(date,endDate){return this.each(function(){var inst=$.datepicker._getInst(this._calId);if(inst){inst._setDate(date,endDate);$.datepicker._updateDatepicker(inst);}});};$.fn.getDatepickerDate=function(){var inst=(this.length>0?$.datepicker._getInst(this[0]._calId):null);return(inst?inst._getDate():null);};$(document).ready(function(){$.datepicker=new Datepicker();$(document.body).append($.datepicker._datepickerDiv).mousedown($.datepicker._checkExternalClick);});

/*
 * Autocomplete - jQuery plugin 1.0.2
 *
 * Copyright (c) 2007 Dylan Verheul, Dan G. Switzer, Anjesh Tuladhar, Jrn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Revision: $Id: jquery.autocomplete.js 5747 2008-06-25 18:30:55Z joern.zaefferer $
 *
 */

jQuery.autocomplete=function(input,options){var me=this;var $input=$(input).attr("autocomplete","off");if(options.inputClass)$input.addClass(options.inputClass);var results=document.createElement("div");var $results=$(results);$results.hide().addClass(options.resultsClass).css("position","absolute");$results.attr({id:"asug"});if(options.width>0)$results.css("width",options.width);$(SNI.Config.autoSuggestContainer).after(results);input.autocompleter=me;var timeout=null;var prev="";var active=-1;var cache={};var keyb=false;var hasFocus=false;var lastKeyPressCode=null;var cycleValue="";var cycleValueSet=false;var $stylizedOverlay;var leftKeyPressed=false;if(options.stylizedOverlay){$stylizedOverlay=$('<input type="text" id="ac-overlay-input" class="ac-overlay-input" disabled="disabled" />').appendTo($(SNI.Config.autoSuggestContainer).find("div.input"))}
function flushCache(){cache={};cache.data={};cache.length=0;};flushCache();if(options.data!=null){var sFirstChar="",stMatchSets={},row=[];if(typeof options.url!="string")options.cacheLength=1;for(var i=0;i<options.data.length;i++){row=((typeof options.data[i]=="string")?[options.data[i]]:options.data[i]);if(row[0].length>0){sFirstChar=row[0].substring(0,1).toLowerCase();if(!stMatchSets[sFirstChar])stMatchSets[sFirstChar]=[];stMatchSets[sFirstChar].push(row);}}
for(var k in stMatchSets){options.cacheLength++;addToCache(k,stMatchSets[k]);}}
function getCaretPosition(oField){var iCaretPos=0;if(document.selection){oField.focus();var oSel=document.selection.createRange();oSel.moveStart('character',-oField.value.length);iCaretPos=oSel.text.length;}
else if(oField.selectionStart||oField.selectionStart=='0')
iCaretPos=oField.selectionStart;return(iCaretPos);}
$input.keydown(function(e){lastKeyPressCode=e.keyCode;var caretPosition;switch(e.keyCode){case 38:e.preventDefault();moveSelect(-1);break;case 9:e.preventDefault();moveSelect(1);break;case 40:e.preventDefault();moveSelect(1);break;case 13:if(selectCurrent()){$input.get(0).blur();e.preventDefault();}
break;case 37:leftKeyPressed=true;case 39:caretPosition=getCaretPosition($input[0]);if(options.stylizedOverlay&&((caretPosition)>=$input.val().length)&&leftKeyPressed==false){if($stylizedOverlay.val().length>0){$input.val($stylizedOverlay.val());$stylizedOverlay.attr("value","");}}
if(caretPosition+1==$input.val().length){leftKeyPressed=false;}
default:active=-1;if(timeout)clearTimeout(timeout);timeout=setTimeout(function(){onChange();},options.delay);break;}}).focus(function(){hasFocus=true;if(options.stylizedOverlay){$stylizedOverlay.addClass("show");}}).blur(function(){hasFocus=false;hideResults();});hideResultsNow();function onChange(){if(lastKeyPressCode>8&&lastKeyPressCode<32){return $results[options.resultsHide.method](options.resultsHide.duration,options.resultsHide.easing,options.resultsHide.callback);}
var v=$input.val();if(v==prev){return;}
prev=v;if(v.length>=options.minChars){$input.addClass(options.loadingClass);requestData(v);}else{$input.removeClass(options.loadingClass);if(options.stylizedOverlay){$stylizedOverlay.val(v);}
$results[options.resultsHide.method]({"duration":options.resultsHide.duration,"easing":options.resultsHide.easing,"complete":options.resultsHide.callback});}};function moveSelect(step){var lis=$("li",results);if(!lis)return;active+=step;lis.removeClass("ac_over");if(active<0){active=lis.size();$input.val(prev)
autoFill($(lis[0]).text());return;}else if(active>=lis.size()){active=-1;$input.val(prev)
autoFill($(lis[0]).text());return;}
$(lis[active]).addClass("ac_over");$input.val(prev+$(lis[active]).text().substring(prev.length));autoFill($(lis[active]).text());};function selectCurrent(){var li=$("li.ac_over",results)[0];if(!li){var $li=$("li",results);if(options.selectOnly){if($li.length==1)li=$li[0];}else if(options.selectFirst){li=$li[0];}}
if(li){selectItem(li);if(options.formElement){options.formElement.submit();}
return true;}else{return false;}};function selectItem(li){if(!li){li=document.createElement("li");li.extra=[];li.selectValue="";}
var v=$.trim(li.selectValue?li.selectValue:li.innerHTML);input.lastSelected=v;prev=v;$results.html("");$input.val(v);if(options.stylizedOverlay){$stylizedOverlay.val(v);}
hideResultsNow();if(options.onItemSelect)setTimeout(function(){options.onItemSelect(li)},1);};function createSelection(start,end){var field=$input.get(0);if(field.createTextRange){var selRange=field.createTextRange();selRange.collapse(true);selRange.moveStart("character",start);selRange.moveEnd("character",end);selRange.select();}else if(field.setSelectionRange){field.setSelectionRange(start,end);}else{if(field.selectionStart){field.selectionStart=start;field.selectionEnd=end;}}
field.focus();};function autoFill(sValue){if(lastKeyPressCode!=8||options.backspaceAutofill){if(!options.stylizedOverlay){$input.val($input.val().substring(0,prev.length)+sValue.substring(prev.length));createSelection(prev.length,sValue.length);}else{if(sValue!=prev&&sValue.indexOf($input.val().toLowerCase())>=0){$stylizedOverlay.val(prev+sValue.substring(prev.length));}else{$stylizedOverlay.val($input.val());}}}else if(options.stylizedOverlay){$stylizedOverlay.val(prev);}};function fillInput(sValue){$input.val(sValue);};function showResults(){var pos=findPos(input);var iWidth=(options.width>0)?options.width:$input.width();if(SNI.Config.site!="DIY"){$results.css({width:parseInt(iWidth)+"px",top:(pos.y+input.offsetHeight)+"px",left:pos.x+"px"})[options.resultsShow.method](options.resultsShow.duration,options.resultsShow.easing,options.resultsShow.callback);}else{$results.css({width:parseInt(iWidth)+"px",top:"41px",left:"240px"})[options.resultsShow.method](options.resultsShow.duration,options.resultsShow.easing,options.resultsShow.callback);}
$results.append("<div class='fly-ft'> </div>");$results.prepend("<div class='fly-hd'> </div>");};function hideResults(){if(timeout)clearTimeout(timeout);timeout=setTimeout(hideResultsNow,200);};function hideResultsNow(){if(timeout)clearTimeout(timeout);$input.removeClass(options.loadingClass);if($results.is(":visible")){$results[options.resultsHide.method](options.resultsHide.duration,options.resultsHide.easing,options.resultsHide.callback);}
if(options.mustMatch){var v=$input.val();if(v!=input.lastSelected){selectItem(null);}}};function receiveData(q,data){if(data){$input.removeClass(options.loadingClass);results.innerHTML="";if(!hasFocus||data.length==0){if(options.stylizedOverlay){$stylizedOverlay.val("");}
return hideResultsNow();}
if($.browser.msie){$results.append(document.createElement('iframe'));}
results.appendChild(dataToDom(data));if(options.autoFill&&($input.val().toLowerCase()==q.toLowerCase())){autoFill(data[0][0]);}
showResults();}else{if(options.stylizedOverlay){$stylizedOverlay.val($input.val());}
hideResultsNow();}};function parseData(data){if(!data)return null;var parsed=[];var rows=data.split(options.lineSeparator);for(var i=0;i<rows.length;i++){var row=$.trim(rows[i]);if(row){parsed[parsed.length]=row.split(options.cellSeparator);}}
return parsed;};function dataToDom(data){var div=document.createElement("div");$(div).addClass("fly-bd");var ul=document.createElement("ul");var num=data.length;if((options.maxItemsToShow>0)&&(options.maxItemsToShow<num))num=options.maxItemsToShow;for(var i=0;i<num;i++){var row=data[i];if(!row)continue;var li=document.createElement("li");if(options.formatItem){li.innerHTML=options.formatItem(row,i,num,prev);li.selectValue=row[0];}else{li.innerHTML=row[0];li.selectValue=row[0];}
var extra=null;if(row.length>1){extra=[];for(var j=1;j<row.length;j++){extra[extra.length]=row[j];}}
li.extra=extra;ul.appendChild(li);$(li).hover(function(){$("li",ul).removeClass("ac_over");$(this).addClass("ac_over");active=$("li",ul).indexOf($(this).get(0));},function(){$(this).removeClass("ac_over");}).click(function(e){e.preventDefault();e.stopPropagation();selectItem(this);if(options.formElement){options.formElement.submit();}});}
$(div).append("<h3>Suggestions<span class='close'>x</span></h3>");div.appendChild(ul);return div;};function requestData(q){if(!options.matchCase)q=q.toLowerCase();var data=options.cacheLength?loadFromCache(q):null;if(data){receiveData(q,data);}else if((typeof options.url=="string")&&(options.url.length>0)){$.get(makeUrl(q),function(data){data=parseData(data);addToCache(q,data);receiveData(q,data);});}else{$input.removeClass(options.loadingClass);}};function makeUrl(q){var url='';if(options.svcTermInPath){url=options.url+encodeURI(q);}else{url=options.url+"?key="+encodeURI(q);for(var i in options.extraParams){url+="&"+i+"="+encodeURI(options.extraParams[i]);}}
return url;};function loadFromCache(q){if(!q)return null;if(cache.data[q])return cache.data[q];if(options.matchSubset){for(var i=q.length-1;i>=options.minChars;i--){var qs=q.substr(0,i);var c=cache.data[qs];if(c){var csub=[];for(var j=0;j<c.length;j++){var x=c[j];var x0=x[0];if(matchSubset(x0,q)){csub[csub.length]=x;}}
return csub;}}}
return null;};function matchSubset(s,sub){if(!options.matchCase){s=s.toLowerCase();sub=sub.toLowerCase();}
var i=s.indexOf(sub);if(i==-1){return false;}
return i==0||options.matchContains;};this.flushCache=function(){flushCache();};this.setExtraParams=function(p){options.extraParams=p;};this.findValue=function(){var q=$input.val();if(!options.matchCase)q=q.toLowerCase();var data=options.cacheLength?loadFromCache(q):null;if(data){findValueCallback(q,data);}else if((typeof options.url=="string")&&(options.url.length>0)){$.get(makeUrl(q),function(data){data=parseData(data)
addToCache(q,data);findValueCallback(q,data);});}else{findValueCallback(q,null);}}
function findValueCallback(q,data){if(data)$input.removeClass(options.loadingClass);var num=(data)?data.length:0;var li=null;for(var i=0;i<num;i++){var row=data[i];if(row[0].toLowerCase()==q.toLowerCase()){li=document.createElement("li");if(options.formatItem){li.innerHTML=options.formatItem(row,i,num);li.selectValue=row[0];}else{li.innerHTML=row[0];li.selectValue=row[0];}
var extra=null;if(row.length>1){extra=[];for(var j=1;j<row.length;j++){extra[extra.length]=row[j];}}
li.extra=extra;}}
if(options.onFindValue)setTimeout(function(){options.onFindValue(li)},1);}
function addToCache(q,data){if(!data||!q||!options.cacheLength)return;if(!cache.length||cache.length>options.cacheLength){flushCache();cache.length++;}else if(!cache[q]){cache.length++;}
cache.data[q]=data;};function findPos(obj){var curleft=obj.offsetLeft||0;var curtop=obj.offsetTop||0;while(obj=obj.offsetParent){curleft+=obj.offsetLeft
curtop+=obj.offsetTop}
return{x:curleft,y:curtop};}}
jQuery.fn.autocomplete=function(url,options,data){options=options||{};options.url=url;options.data=((typeof data=="object")&&(data.constructor==Array))?data:null;options.inputClass=options.inputClass||"ac_input";options.resultsClass=options.resultsClass||"flyout fmed";options.lineSeparator=options.lineSeparator||",";options.cellSeparator=options.cellSeparator||"|";options.minChars=options.minChars||1;options.delay=options.delay||400;options.matchCase=options.matchCase||0;options.matchSubset=options.matchSubset||1;options.matchContains=options.matchContains||0;options.cacheLength=options.cacheLength||1;options.mustMatch=options.mustMatch||0;options.extraParams=options.extraParams||{};options.loadingClass=options.loadingClass||"ac_loading";options.selectFirst=options.selectFirst||false;options.selectOnly=options.selectOnly||false;options.maxItemsToShow=options.maxItemsToShow||10;options.autoFill=options.autoFill||false;options.backspaceAutofill=options.backspaceAutofill||false;options.width=parseInt(options.width,10)||0;options.resultsShow=options.resultsShow||{method:"show"};options.resultsHide=options.resultsHide||{method:"hide"};options.stylizedOverlay=options.stylizedOverlay||false;this.each(function(){var input=this;new jQuery.autocomplete(input,options);});return this;}
jQuery.fn.autocompleteArray=function(data,options){return this.autocomplete(null,options,data);}
jQuery.fn.indexOf=function(e){for(var i=0;i<this.length;i++){if(this[i]==e)return i;}
return-1;};

/*
 * jCarouselLite - jQuery plugin to navigate images/any content in a carousel style widget.
 * @requires jQuery v1.2 or above
 *
 * http://gmarwaha.com/jquery/jcarousellite/
 *
 * Copyright (c) 2007 Ganeshji Marwaha (gmarwaha.com)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Version: 1.0.1 (modified by Paolo Vaca)
 * Note: Requires jquery 1.2 or above from version 1.0.1
 */

(function($){$.fn.jCarouselLite=function(o){o=$.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:false,auto:null,displayPage:false,btnNavigation:false,miniNav:false,container:null,speed:200,easing:null,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},o||{});return this.each(function(){var running=false,animCss=o.vertical?"top":"left",sizeCss=o.vertical?"height":"width";var div=$(this),ul=$("ul:first",div),tLi=$("li",ul),tl=tLi.size(),v=o.visible,container=$(o.container);if(o.circular){ul.prepend(tLi.slice(tl-v-1+1).clone()).append(tLi.slice(0,v).clone());o.start+=v;}
var oli=$(">li",ul);var olength=oli.size();var grps=Math.ceil(olength/o.scroll);var fullSet=o.scroll*grps;if(olength<fullSet){var html="";for(var i=1;i<=(fullSet-olength);i++){html+='<li class="filler"></li>';}
ul.append(html);}
var li=$(">li",ul),itemLength=li.size(),curr=o.start;li.addClass('crsl-item');div.css("visibility","visible");li.css({"overflow":"hidden","float":o.vertical?"none":"left"});ul.css({"margin":"0","padding":"0","position":"relative","list-style-type":"none","z-index":"1"}).addClass('clrfix');div.css({"overflow":"hidden","position":"relative","z-index":"2",left:"0px"});var liSize=o.vertical?height(li):width(li);var ulSize=liSize*itemLength;var divSize=liSize*v;var singlePage=(itemLength<=o.visible);li.css({width:li.outerWidth(),height:li.outerHeight()});ul.css(sizeCss,ulSize+"px").css(animCss,-(curr*liSize));div.css(sizeCss,divSize+"px");if(o.miniNav){container.addClass('mini-nav');var miniNavHtml='<div class="nav clrfix">';miniNavHtml+='    <div class="prev-btn">previous</div>';miniNavHtml+='    <div class="controls"></div>';miniNavHtml+='    <div class="next-btn">next</div>';miniNavHtml+='</div>';container.find('.hd').append(miniNavHtml);$(o.btnPrev).addClass("disabled");}else{container.addClass('default-nav');container.find('.hd').after('<div class="nav clrfix"><div class="controls"></div></div>');container.find('.hd').before('<div class="prev-btn">previous</div>');container.append('<div class="next-btn">next</div>');$(o.btnPrev).addClass("disabled");container.find('.nav').css('width',divSize+"px");}
if(singlePage){$(o.btnNext).addClass("disabled");}
var ctrl=container.find('.controls');if(!singlePage){if(o.displayPage){container.find('.controls').html('1 of '+grps);}else{var btns,imgPos;for(var i=1;i<=grps;i++){if(i==1){btns+='<span data-load-img="0" class="active">'+i+'</span>';}else{imgPos=((i-1)*o.scroll);btns+='<span data-load-img='+imgPos+'>'+i+'</span>';}}
btns=$(btns);$.each(btns,function(){var loadImg=parseInt($(this).attr('data-load-img'));$(this).click(function(){ctrl.find('span').removeClass('active');$(this).addClass('active');return go(loadImg);});});ctrl.addClass('btn-nav clrfix');ctrl.html(btns);}}
if(!o.miniNav){var offset=parseInt(divSize/2)-parseInt(width(ctrl)/2);ctrl.css('left',offset+'px');}
ul.find(">li:lt("+o.scroll+")").each(function(){var img=$(this).find('img');SNI.Util.LazyLoad(img);});if(o.btnPrev)
$(o.btnPrev).click(function(){return go(curr-o.scroll);});if(o.btnNext)
$(o.btnNext).click(function(){return go(curr+o.scroll);});if(o.btnGo)
$.each(o.btnGo,function(i,val){$(val).click(function(){return go(o.circular?o.visible+i:i);});});if(o.mouseWheel&&div.mousewheel)
div.mousewheel(function(e,d){return d>0?go(curr-o.scroll):go(curr+o.scroll);});if(o.auto)
setInterval(function(){go(curr+o.scroll);},o.auto+o.speed);function vis(){return li.slice(curr).slice(0,v);};function visImgs(){var list=li.slice(curr).slice(0,v);list.each(function(){var img=$(this).find('img');SNI.Util.LazyLoad(img);});};function pageIndex(){var cp=Math.ceil(curr/o.scroll)+1;container.find('.controls').html(cp+' of '+grps);}
function go(to){if(!running){if(o.beforeStart)
o.beforeStart.call(this,vis());if(o.circular){if(to<=o.start-v-1){ul.css(animCss,-((itemLength-(v*2))*liSize)+"px");curr=to==o.start-v-1?itemLength-(v*2)-1:itemLength-(v*2)-o.scroll;}else if(to>=itemLength-v+1){ul.css(animCss,-((v)*liSize)+"px");curr=to==itemLength-v+1?v+1:v+o.scroll;}else curr=to;}else{if(to<0||to>itemLength-v)return;else curr=to;}
running=true;if(o.displayPage){pageIndex();}
if(o.btnNavigation){container.find('.controls span').removeClass('active');container.find('.controls span[data-load-img='+curr+']').addClass('active');}
visImgs();ul.animate(animCss=="left"?{left:-(curr*liSize)}:{top:-(curr*liSize)},o.speed,o.easing,function(){if(o.afterEnd)
o.afterEnd.call(this,vis());running=false;});if(!o.circular){$(o.btnPrev+","+o.btnNext).removeClass("disabled");$((curr-o.scroll<0&&o.btnPrev)||(curr+o.scroll>itemLength-v&&o.btnNext)||[]).addClass("disabled");}}
return false;};});};function css(el,prop){return parseInt($.css(el[0],prop))||0;};function width(el){return el[0].offsetWidth+css(el,'marginLeft')+css(el,'marginRight')+css(el,'borderLeftWidth')+css(el,'borderRightWidth');};function height(el){return el[0].offsetHeight+css(el,'marginTop')+css(el,'marginBottom');};})(jQuery);
/*
 * MouseWheel
 * Copyright (c) 2009 Brandon Aaron (http://brandonaaron.net)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 *
 * Version: 3.0.2
 *
 * Requires: 1.2.2+
 */

(function(c){var a=["DOMMouseScroll","mousewheel"];c.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var d=a.length;d;){this.addEventListener(a[--d],b,false)}}else{this.onmousewheel=b}},teardown:function(){if(this.removeEventListener){for(var d=a.length;d;){this.removeEventListener(a[--d],b,false)}}else{this.onmousewheel=null}}};c.fn.extend({mousewheel:function(d){return d?this.bind("mousewheel",d):this.trigger("mousewheel")},unmousewheel:function(d){return this.unbind("mousewheel",d)}});function b(f){var d=[].slice.call(arguments,1),g=0,e=true;f=c.event.fix(f||window.event);f.type="mousewheel";if(f.wheelDelta){g=f.wheelDelta/120}if(f.detail){g=-f.detail/3}d.unshift(f,g);return c.event.handle.apply(this,d)}})(jQuery);

/*
 * jQuery validation plug-in 1.5.2
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2008 Jrn Zaefferer
 *
 * $Id: jquery.validate.js 6243 2009-02-19 11:40:49Z joern.zaefferer $
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */

(function($){$.extend($.fn,{validate:function(options){if(!this.length){options&&options.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return;}var validator=$.data(this[0],'validator');if(validator){return validator;}validator=new $.validator(options,this[0]);$.data(this[0],'validator',validator);if(validator.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){validator.cancelSubmit=true;});if(validator.settings.submitHandler){this.find("input, button").filter(":submit").click(function(){validator.submitButton=this;});}this.submit(function(event){if(validator.settings.debug)event.preventDefault();function handle(){if(validator.settings.submitHandler){if(validator.submitButton){var hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val(validator.submitButton.value).appendTo(validator.currentForm);}validator.settings.submitHandler.call(validator,validator.currentForm);if(validator.submitButton){hidden.remove();}return false;}return true;}if(validator.cancelSubmit){validator.cancelSubmit=false;return handle();}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false;}return handle();}else{validator.focusInvalid();return false;}});}return validator;},valid:function(){if($(this[0]).is('form')){return this.validate().form();}else{var valid=true;var validator=$(this[0].form).validate();this.each(function(){valid&=validator.element(this);});return valid;}},removeAttrs:function(attributes){var result={},$element=this;$.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value);$element.removeAttr(value);});return result;},rules:function(command,argument){var element=this[0];if(command){var settings=$.data(element.form,'validator').settings;var staticRules=settings.rules;var existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));staticRules[element.name]=existingRules;if(argument.messages)settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages);break;case"remove":if(!argument){delete staticRules[element.name];return existingRules;}var filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method];});return filtered;}}var data=$.validator.normalizeRules($.extend({},$.validator.metadataRules(element),$.validator.classRules(element),$.validator.attributeRules(element),$.validator.staticRules(element)),element);if(data.required){var param=data.required;delete data.required;data=$.extend({required:param},data);}return data;}});$.extend($.expr[":"],{blank:function(a){return!$.trim(""+a.value);},filled:function(a){return!!$.trim(""+a.value);},unchecked:function(a){return!a.checked;}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init();};$.validator.format=function(source,params){if(arguments.length==1)return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args);};if(arguments.length>2&&params.constructor!=Array){params=$.makeArray(arguments).slice(1);}if(params.constructor!=Array){params=[params];}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),n);});return source;};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(element){this.lastActive=element;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);this.errorsFor(element).hide();}},onfocusout:function(element){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element);}},onkeyup:function(element){if(element.name in this.submitted||element==this.lastElement){this.element(element);}},onclick:function(element){if(element.name in this.submitted)this.element(element);else if(element.parentNode.name in this.submitted)this.element(element.parentNode);},highlight:function(element,errorClass,validClass){$(element).addClass(errorClass).removeClass(validClass);},unhighlight:function(element,errorClass,validClass){$(element).removeClass(errorClass).addClass(validClass);}},setDefaults:function(settings){$.extend($.validator.defaults,settings);},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=(this.groups={});$.each(this.settings.groups,function(key,value){$.each(value.split(/\s/),function(index,name){groups[name]=key;});});var rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value);});function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,"");validator.settings[eventType]&&validator.settings[eventType].call(validator,this[0]);}$(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",delegate).validateDelegate(":radio, :checkbox, select, option","click",delegate);if(this.settings.invalidHandler)$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid())$(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid();},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i]);}return this.valid();},element:function(element){element=this.clean(element);this.lastElement=element;this.prepareElement(element);this.currentElements=$(element);var result=this.check(element);if(result){delete this.invalid[element.name];}else{this.invalid[element.name]=true;}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}this.showErrors();return result;},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);this.errorList=[];for(var name in errors){this.errorList.push({message:errors[name],element:this.findByName(name)[0]});}this.successList=$.grep(this.successList,function(element){return!(element.name in errors);});}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors();},resetForm:function(){if($.fn.resetForm)$(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass);},numberOfInvalids:function(){return this.objectLength(this.invalid);},objectLength:function(obj){var count=0;for(var i in obj)count++;return count;},hideErrors:function(){this.addWrapper(this.toHide).hide();},valid:function(){return this.size()==0;},size:function(){return this.errorList.length;},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin");}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name==lastActive.name;}).length==1&&lastActive;},elements:function(){var validator=this,rulesCache={};return $([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&validator.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in rulesCache||!validator.objectLength($(this).rules()))return false;rulesCache[this.name]=true;return true;});},clean:function(selector){return $(selector)[0];},errors:function(){return $(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext);},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([]);},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers);},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element);},check:function(element){element=this.clean(element);if(this.checkable(element)){element=this.findByName(element.name)[0];}var rules=$(element).rules();var dependencyMismatch=false;for(method in rules){var rule={method:method,parameters:rules[method]};try{var result=$.validator.methods[method].call(this,element.value.replace(/\r/g,""),element,rule.parameters);if(result=="dependency-mismatch"){dependencyMismatch=true;continue;}dependencyMismatch=false;if(result=="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return;}if(!result){this.formatAndAdd(element,rule);return false;}}catch(e){this.settings.debug&&window.console&&console.log("exception occured when checking element "+element.id
+", check the '"+rule.method+"' method",e);throw e;}}if(dependencyMismatch)return;if(this.objectLength(rules))this.successList.push(element);return true;},customMetaMessage:function(element,method){if(!$.metadata)return;var meta=this.settings.meta?$(element).metadata()[this.settings.meta]:$(element).metadata();return meta&&meta.messages&&meta.messages[method];},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor==String?m:m[method]);},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined)return arguments[i];}return undefined;},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customMetaMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"</strong>");},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;if(typeof message=="function"){message=message.call(this,rule.parameters,element);}else if(theregex.test(message)){message=jQuery.format(message.replace(theregex,'{$1}'),rule.parameters);}this.errorList.push({message:message,element:element});this.errorMap[element.name]=message;this.submitted[element.name]=message;},addWrapper:function(toToggle){if(this.settings.wrapper)toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));return toToggle;},defaultShowErrors:function(){for(var i=0;this.errorList[i];i++){var error=this.errorList[i];this.settings.highlight&&this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);this.showLabel(error.element,error.message);}if(this.errorList.length){this.toShow=this.toShow.add(this.containers);}if(this.settings.success){for(var i=0;this.successList[i];i++){this.showLabel(this.successList[i]);}}if(this.settings.unhighlight){for(var i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show();},validElements:function(){return this.currentElements.not(this.invalidElements());},invalidElements:function(){return $(this.errorList).map(function(){return this.element;});},showLabel:function(element,message){var label=this.errorsFor(element);if(label.length){label.removeClass().addClass(this.settings.errorClass);label.attr("generated")&&label.html(message);}else{label=$("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(element),generated:true}).addClass(this.settings.errorClass).html(message||"");if(this.settings.wrapper){label=label.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();}if(!this.labelContainer.append(label).length)this.settings.errorPlacement?this.settings.errorPlacement(label,$(element)):label.insertAfter(element);}if(!message&&this.settings.success){label.text("");typeof this.settings.success=="string"?label.addClass(this.settings.success):this.settings.success(label);}this.toShow=this.toShow.add(label);},errorsFor:function(element){var name=this.idOrName(element);return this.errors().filter(function(){return $(this).attr('for')==name;});},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name);},checkable:function(element){return/radio|checkbox/i.test(element.type);},findByName:function(name){var form=this.currentForm;return $(document.getElementsByName(name)).map(function(index,element){return element.form==form&&element.name==name&&element||null;});},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case'select':return $("option:selected",element).length;case'input':if(this.checkable(element))return this.findByName(element.name).filter(':checked').length;}return value.length;},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true;},dependTypes:{"boolean":function(param,element){return param;},"string":function(param,element){return!!$(param,element.form).length;},"function":function(param,element){return param(element);}},optional:function(element){return!$.validator.methods.required.call(this,$.trim(element.value),element)&&"dependency-mismatch";},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;this.pending[element.name]=true;}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[element.name];if(valid&&this.pendingRequest==0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false;}else if(!valid&&this.pendingRequest==0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false;}},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,"remote")});}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){className.constructor==String?this.classRuleSettings[className]=rules:$.extend(this.classRuleSettings,className);},classRules:function(element){var rules={};var classes=$(element).attr('class');classes&&$.each(classes.split(' '),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this]);}});return rules;},attributeRules:function(element){var rules={};var $element=$(element);for(method in $.validator.methods){var value=$element.attr(method);if(value){rules[method]=value;}}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength;}return rules;},metadataRules:function(element){if(!$.metadata)return{};var meta=$.data(element.form,'validator').settings.meta;return meta?$(element).metadata()[meta]:$(element).metadata();},staticRules:function(element){var rules={};var validator=$.data(element.form,'validator');if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};}return rules;},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return;}if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break;}if(keepRule){rules[prop]=val.param!==undefined?val.param:true;}else{delete rules[prop];}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter;});$.each(['minlength','maxlength','min','max'],function(){if(rules[this]){rules[this]=Number(rules[this]);}});$.each(['rangelength','range'],function(){if(rules[this]){rules[this]=[Number(rules[this][0]),Number(rules[this][1])];}});if($.validator.autoCreateRanges){if(rules.min&&rules.max){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max;}if(rules.minlength&&rules.maxlength){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength;}}if(rules.messages){delete rules.messages;}return rules;},normalizeRule:function(data){if(typeof data=="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true;});data=transformed;}return data;},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!=undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name));}},methods:{required:function(value,element,param){if(!this.depend(param,element))return"dependency-mismatch";switch(element.nodeName.toLowerCase()){case'select':var val=$(element).val();return val&&val.length>0;case'input':if(this.checkable(element))return this.getLength(value,element)>0;default:return $.trim(value).length>0;}},remote:function(value,element,param){if(this.optional(element))return"dependency-mismatch";var previous=this.previousValue(element);if(!this.settings.messages[element.name])this.settings.messages[element.name]={};previous.originalMessage=this.settings.messages[element.name].remote;this.settings.messages[element.name].remote=previous.message;param=typeof param=="string"&&{url:param}||param;if(previous.old!==value){previous.old=value;var validator=this;this.startRequest(element);var data={};data[element.name]=value;$.ajax($.extend(true,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){validator.settings.messages[element.name].remote=previous.originalMessage;var valid=response===true;if(valid){var submitted=validator.formSubmitted;validator.prepareElement(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.showErrors();}else{var errors={};var message=(previous.message=response||validator.defaultMessage(element,"remote"));errors[element.name]=$.isFunction(message)?message(value):message;validator.showErrors(errors);}previous.valid=valid;validator.stopRequest(element,valid);}},param));return"pending";}else if(this.pending[element.name]){return"pending";}return previous.valid;},minlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)>=param;},maxlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)<=param;},rangelength:function(value,element,param){var length=this.getLength($.trim(value),element);return this.optional(element)||(length>=param[0]&&length<=param[1]);},min:function(value,element,param){return this.optional(element)||value>=param;},max:function(value,element,param){return this.optional(element)||value<=param;},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1]);},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(value);},url:function(value,element){return this.optional(element)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value);},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value));},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(value);},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(value);},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value);},creditcard:function(value,element){if(this.optional(element))return"dependency-mismatch";if(/[^0-9-]+/.test(value))return false;var nCheck=0,nDigit=0,bEven=false;value=value.replace(/\D/g,"");for(var n=value.length-1;n>=0;n--){var cDigit=value.charAt(n);var nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9)nDigit-=9;}nCheck+=nDigit;bEven=!bEven;}return(nCheck%10)==0;},accept:function(value,element,param){param=typeof param=="string"?param.replace(/,/g,'|'):"png|jpe?g|gif";return this.optional(element)||value.match(new RegExp(".("+param+")$","i"));},equalTo:function(value,element,param){var target=$(param).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(element).valid();});return value==target.val();}}});$.format=$.validator.format;})(jQuery);;(function($){var ajax=$.ajax;var pendingRequests={};$.ajax=function(settings){settings=$.extend(settings,$.extend({},$.ajaxSettings,settings));var port=settings.port;if(settings.mode=="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}return(pendingRequests[port]=ajax.apply(this,arguments));}return ajax.apply(this,arguments);};})(jQuery);;(function($){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){$.each({focus:'focusin',blur:'focusout'},function(original,fix){$.event.special[fix]={setup:function(){this.addEventListener(original,handler,true);},teardown:function(){this.removeEventListener(original,handler,true);},handler:function(e){arguments[0]=$.event.fix(e);arguments[0].type=fix;return $.event.handle.apply(this,arguments);}};function handler(e){e=$.event.fix(e);e.type=fix;return $.event.handle.call(this,e);}});};$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate)){return handler.apply(target,arguments);}});}});})(jQuery);$.validator.setDefaults({errorElement:'span',onfocusout:false,onkeyup:false,onclick:false,highlight:function(element,errorClass){$(element).addClass(errorClass);$(element.form).find("label[for="+element.id+"]").addClass(errorClass);},unhighlight:function(element,errorClass){$(element).removeClass(errorClass);$(element.form).find("label[for="+element.id+"]").removeClass(errorClass);}});$.validator.addMethod("spaces",function(value,element){return this.optional(element)||value.indexOf(' ')==-1;},"Spaces are not allowed");$.validator.addMethod("multipleEmails",function(value,element){if(this.optional(element)){return true;}
var friendsEmails=value.split(",");var isEmail=true;$.each(friendsEmails,function(){var patternTest=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test($.trim(this));if(patternTest==false){isEmail=false;};});return isEmail;},"One of these is not a valid e-mail address");

new function(settings){var $separator=settings.separator||'&';var $spaces=settings.spaces===false?false:true;var $suffix=settings.suffix===false?'':'[]';jQuery.query=new function(){var queryObject=function(a){var self=this;self.keys={};if(a.queryObject){jQuery.each(a.keys,function(key,val){self.destructiveSet(key,val);});}else{var q=""+a;q=q.replace(/^\?/,'');q=q.replace(/[;&]$/,'');if($spaces)q=q.replace('+',' ');jQuery.each(q.split(/[&;]/),function(){var key=this.split('=')[0];var val=this.split('=')[1];var temp,hashKey=null,type=null;if(/^-?[0-9]+\.[0-9]+$/.test(val))
val=parseFloat(val);else if(/^-?[0-9]+$/.test(val))
val=parseInt(val);if(/\[([^\] ]+)\]$/.test(key))
type=Object,hashkey=key.replace(/^.+\[([^\] ]+)\]$/,"$1"),key=key.replace(/\[([^\] ]+)\]$/,"");else if(/\[\]$/.test(key))
type=Array,key=key.replace(/\[\]$/,"");val=val||true;if(!type&&self.has(key))
type=Array,self.destructiveSet(key,self.has(key,Array)?self.keys[key]:[self.keys[key]]);if(!type)
self.destructiveSet(key,val);else
if(type==Object)
temp=self.keys[key]||{},temp[hashkey]=val,self.destructiveSet(key,temp);else if(type==Array)
temp=self.keys[key]||[],temp.push(val),self.destructiveSet(key,temp);});}
return self;};queryObject.prototype={queryObject:true,has:function(key,type){var keys=this.keys;return!!type?keys[key]!=undefined&&keys[key]!==null&&keys[key].constructor==type:keys[key]!=undefined&&keys[key]!==null;},get:function(key){var value=(key==undefined)?this.keys:this.keys[key];if(value.constructor==Array)
return value.slice(0);else if(value.constructor==Object)
return jQuery.extend({},value);else
return value;},destructiveSet:function(key,val){if(val==undefined||val===null)
this.destructiveRemove(key);else
this.keys[key]=val;return this;},set:function(key,val){return this.copy().destructiveSet(key,val);},destructiveRemove:function(key){if(typeof this.keys[key]!='undefined')
delete this.keys[key];return this;},remove:function(key){return this.copy().destructiveRemove(key);},destructiveEmpty:function(){var self=this;jQuery.each(self.keys,function(key,value){delete self.keys[key];});return self;},copy:function(){return new queryObject(this);},empty:function(destructive){return this.copy().destructiveEmpty();},toString:function(){var i=0,queryString=[],self=this,addFields=function(o,key,value){o.push(key);if(value!==true){o.push("=");o.push(encodeURIComponent(value));}};jQuery.each(this.keys,function(key,value){var o=[];if(value!==false){if(i++==0)
o.push("?");if(self.has(key,Object)){var _o=[]
jQuery.each(value,function(_key,_value){var __o=[];addFields(__o,key+"["+_key+"]",_value);_o.push(__o.join(""));});o.push(_o.join($separator));}else if(self.has(key,Array)){var _o=[]
jQuery.each(value,function(_key,_value){var __o=[];addFields(__o,key+$suffix,_value);_o.push(__o.join(""));});o.push(_o.join($separator));}else{addFields(o,key,value);}}
queryString.push(o.join(""));});return queryString.join($separator);}};return new queryObject(location.search);};}(jQuery.query||{});

(function($){$.widget("ui.dropdown",{_init:function(){this.options.title=this.options.title||this.element.find('option.select-title').text();if(parseInt($.ui.version.charAt(2))>=8){this.options=$.extend(true,$[this.namespace][this.widgetName].defaults,this.options);}
this.list=$.ui.dropdown.buildList(this.element,this.options);this.element.after(this.list);this.css={position:this.element.css('position'),left:this.element.css('left')};this.element.hide();if(this.element.attr('disabled')){this.disable();}else{this.enable();}},enable:function(){var $this=this;this.options.disabled=false;this.element.removeAttr('disabled');this.list.find('.disabled').removeClass('disabled');var handle=this.list.find('dt a');handle.mousedown(function(){$.ui.dropdown.hideDropDowns();$this.list.find('.fly-dd').show();$(this).parent('.fly-dt').addClass('active');$('body').bind("mousedown",$.ui.dropdown.bodyClicked);return false;});return this.element;},disable:function(){this.options.disabled=true;this.element.attr('disabled','disabled');this.list.find('dt').addClass('disabled');var handle=this.list.find('dt a');handle.unbind('mousedown');return this.element;},destroy:function(){this.element.removeData("dropdown");this.list.remove();this.element.show();},reset:function(){this.list.remove();this.options.title=this.element.find('option.select-title').text();this.list=$.ui.dropdown.buildList(this.element,this.options);this.element.after(this.list);},select:function(){if(this.element.get(0).selectedIndex>-1){var html='<em></em><span>'+this.element.get(0)[this.element.get(0).selectedIndex].text+'</span>';this.list.find('.fly-dt a').html(html);}}});$.ui.dropdown.buildList=function(element,options){select=element.get(0);option=select.selectedIndex>-1?select[select.selectedIndex]:false;var selected=option?option.text:'';var classNames='ui-dropdown '+element.get(0).className;var ddList='<dl class="'+classNames+'">';ddList+=options.disabled?'<dt class="fly-dt disabled">':'<dt class="fly-dt">';ddList+='<a><em></em><span>'+selected+'</span></a></dt>';var ddClassName=options.ddClassName?options.ddClassName+' fly-dd ':'fly-dd ';ddList+='<dd style="display: none;" class="'+ddClassName+'">';ddList+='<div class="fly-hd"></div>';ddList+='<div class="fly-bd">';ddList+='<a class="close"></a>';if(options.title){ddList+='<h3>'+options.title+'</h3>';}
ddList+='</div>';ddList+='<div class="fly-ft"></div>';ddList+='</dd>';ddList+='</dl>';ddList=$(ddList);ddList.find('.close').click(function(){$.ui.dropdown.hideDropDowns();return false;});var list=$('<ul class="fly-ul"></ul>');element.children('option:not(.select-title)').each(function(index){var linkText=$(this).text();var link=$('<a href="#">'+linkText+'</a>');var isSelected=element[0].options[element[0].selectedIndex].text==linkText;link.click(function(){$('li',list).removeClass("selected");$(this).parent().addClass("selected");if(!isSelected){ddList.find('.fly-dt a').html('<em></em><span>'+linkText+'</span>');element.find('option:not(.select-title)')[index].selected=true;$.ui.dropdown.hideDropDowns();element.trigger('change');}else{$.ui.dropdown.hideDropDowns();}
return false;});var item=$('<li class="fly-li'+(isSelected?' selected':'')+'"></li>').append(link);list.append(item);});ddList.find('.fly-bd').append(list);return ddList;};$.ui.dropdown.hideDropDowns=function(event){$('dl.ui-dropdown .fly-dd').hide();$('dl.ui-dropdown .active').removeClass('active');$('body').unbind("mousedown",$.ui.dropdown.bodyClicked);return true;};$.ui.dropdown.bodyClicked=function(event){var element=$(event.target);if(element.parents().is('.ui-dropdown')){return false;}
$.ui.dropdown.hideDropDowns();};$.ui.dropdown.defaults={title:'',disabled:false,ddClassName:'flyout'};$.fn.extend({dependent_dropdowns:function(options,data){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){if(typeof options=="string"){var dependent_dropdowns=$.data(this,"ui-dependent-dropdowns");dependent_dropdowns[options].apply(dependent_dropdowns,args);}else if(!$(this).is(".ui-dependent-dropdowns")){$.data(this,"ui-dependent-dropdowns",new $.ui.dependent_dropdowns(this,options));}});}});$.ui.dependent_dropdowns=function(container,options){this.element=$(container);this.options=options=$.extend({},$.ui.dependent_dropdowns.defaults,options);this.dropdowns=this.options.dropdowns||this.element.find('select');this.data=this.options.data;this.element.addClass("ui-dependent-dropdowns");var dd=this;$.each(this.dropdowns,function(i,val){$(val).dropdown();$(val).bind("change",function(){index=$.inArray(this,dd.dropdowns);if(index!=-1){dd._updateValues(index+1);}});});this.enable();};$.ui.dependent_dropdowns.prototype={enable:function(){this._updateValues(0);this.defaults();},disable:function(){},destroy:function(){$.each(this.dropdowns,function(key,value){$(value).destroy();});this.element.removeClass("ui-dependent-dropdowns");$.removeData(this.element,"ui-dependent-dropdowns");},defaults:function(){if(this.data.defaults){var now=new Date();var hours=now.getHours()<10?'0'+now.getHours():now.getHours();var minutes=now.getMinutes()<10?'0'+now.getMinutes():now.getMinutes();var time=hours.toString()+minutes.toString();var dd=this;$.each(this.data.defaults,function(key,values){times=key.split('-');if(dd._checkTime(times[0],times[1],time)){index=0;$.each(values,function(k,v){if(select=dd.dropdowns[index]){$(select).find('option').each(function(){if($(this).val()==v){this.selected=true;$(select).dropdown('select');$(select).trigger('change');}});}
index++;});}});}},_updateValues:function(index){if(index==null){index=0;}
if(dropdown=this.dropdowns[index]){values=this._findValues(this.data.values,0,index);previous_value=$(dropdown).val()||false;if(this.data.titles&&this.data.titles[index]){options='<option value="" class="select-title">'+this.data.titles[index]+'</option>';}else{options='';}
if(values){$.each(values,function(key,val){options+='<option value="'+key+'"';if(previous_value&&previous_value==key){options+=' selected="selected"';}
options+='>'+val.label+'</option>';});}
if(!values){$(dropdown).dropdown('disable');}
$(dropdown).html(options);$(dropdown).dropdown('reset');if(values){$(dropdown).dropdown('enable');}
this._updateValues(index+1);}},_findValues:function(values,start_index,end_index){if(start_index==end_index){return values;}else{values=values[$(this.dropdowns[start_index]).val()];if(values){return this._findValues(values.values,start_index+1,end_index);}else{return null;}}},_updateDropdown:function(dropdown){if(index=$.inArray(dropdown,this.dropdowns)){this._updateValues(index+1);}},_checkTime:function(from_time,to_time,time){if(to_time<from_time){if(time>=from_time&&time<2400){return true;}else if(time<to_time&&time>=0){return true;}}else if(time>=from_time&&time<to_time){return true;}
return false;}};})(jQuery);
/*
 * jQuery UserIntent plugin
 *
	Author: Robert Eilam

 */

(function($){$.fn.userIntent=function(options){var settings=$.extend({'target':'div#sister_sites_popup','delay':'250'},options);return this.each(function(){var triggerElement=$(this);var myTimeout,myClearTimeout,myflyTimeout;var userIntent={};triggerElement.click(function(){return false});userIntent.flyOut=$(settings.target);userIntent.flyOutTrigger=triggerElement;userIntent.showFlyout=function(){userIntent.flyOut.show();};userIntent.hideFlyout=function(){userIntent.flyOut.hide();};userIntent.flyOutTrigger.mouseover(function(){clearTimeout(myflyTimeout);myTimeout=setTimeout(userIntent.showFlyout,settings.delay);});userIntent.flyOutTrigger.mouseleave(function(){clearTimeout(myTimeout);userIntent.flyOut.hide();});userIntent.flyOut.mouseover(function(){clearTimeout(myflyTimeout);myClearTimeout=clearTimeout(userIntent.hideFlyout);myflyTimeout=setTimeout(userIntent.showFlyout,settings.delay);userIntent.flyOut.show();});userIntent.flyOut.mouseleave(function(){myClearTimeout=clearTimeout(myflyTimeout);myflyTimeout=setTimeout(userIntent.hideFlyout,350);clearTimeout(myClearTimeout);});});};})(jQuery);


/*** sni-functionality ***/

if(typeof(SNI.Omniture)=='undefined'){SNI.Omniture={};}
SNI.Omniture.timeout=null;SNI.Omniture.queue=[];SNI.Omniture.getLinkText=function($elt){var linkText="";linkText=$.trim($elt.closest("a").text());if(linkText==''&&$elt.is("img")){linkText='Photo : '+$elt.attr("alt");}
return linkText;};SNI.Omniture.MultiVar=function(jsel,module,searchKey){var $el=$(jsel);if($el.length==0||$el.data('events.click.omniture')){return;}
$el.bind('click.omniture',function(e){SNI.Omniture.ClickTrackFire(e.target,module,searchKey);e.stopPropagation();});};SNI.Omniture.SingleVar=function(jsel,module,section){var $el=$(jsel);var sv=this;sv.getLinkText=SNI.Omniture.getLinkText;if($el.length==0||$el.data('events.click.omniture')){return;}
$el.bind('click.omniture',function(e){var $clicked=$(e.target);if($clicked.is("a")||$clicked.parent().is("a")){var linkText=sv.getLinkText($clicked);var s={};s.linkTrackVars=SNI.Config.omnitureSingleVariable;s.prop26=section+" : "+module+" : "+linkText;s.element=this;SNI.Omniture.ClickTrackTrigger(s);e.stopPropagation();}});};SNI.Omniture.CrossLinkTrack=function(jsel){var $el=$(jsel);if($el.length==0||$el.data('events.click.omniture')){return;}
SNI.Omniture.SetCrossLinkTermsToMD($el);$el.delegate("a.crosslink","click.omniture",function(e){var s=SNI.Omniture.CrossLinkTrackFire(this);SNI.Omniture.ClickTrackTrigger(s);e.stopPropagation();});};SNI.Omniture.SetCrossLinkTermsToMD=function(el){var $el=jQuery(el);var result="";var prefix=";";$el.find('a.crosslink').each(function(index,element){result+=prefix+$(this).text();prefix=',;';});result=result.toLowerCase();if(result.length>0){mdManager.addParameter("crossLinkTerms",result);return true;}
return false;}
SNI.Omniture.dynamicSingleVar=function(omnitureValues){if(omnitureValues){var s={};s.linkTrackVars=SNI.Config.omnitureSingleVariable;s.prop26=omnitureValues.section+" : "+omnitureValues.module+" : "+omnitureValues.linkText;s.element=omnitureValues.element;SNI.Omniture.ClickTrackTrigger(s);}}
SNI.Omniture.ClickTrackFire=function(element,module,searchKey){var site;var originalElement=element;var element=$(element);var isLink=element.is("a");this.getLinkText=SNI.Omniture.getLinkText;if(isLink){var formId=element.parents().filter('form').attr("id");if(formId=='hgSearchForm'||formId=='hgFtSearchForm'){return;}}
var parentElement=element.parent();var isParentLink=parentElement.is("a");var isSubmit=element.attr("type")=="submit";if(isLink||isParentLink||isSubmit){if(isSubmit){site=SNI.Config.site+" : "+element.parents().filter('form').attr("name");}else{site=SNI.Config.site+" : "+module;}
var s={};s.linkTrackVars=SNI.Config.omnitureMultiVariable;s.prop14=site;s.eVar16=s.prop14;var linkText=this.getLinkText(element);s.prop15=site+" : "+linkText;s.eVar18=s.prop15;var relid="relid?";var linkUrl=element.attr("href");if(isLink){relid=element.attr("rel");}else if(isParentLink){relid=parentElement.attr("rel");linkUrl=parentElement.attr("href");}
s.prop16=site+" : "+relid;s.eVar17=s.prop16;s.prop17=site+" : "+linkUrl;s.eVar19=s.prop17;s.prop18=site+" : "+mdManager.getParameter("Url");if(typeof(searchKey)!=='undefined'){s.prop19="endeca: "+mdManager.getParameter(searchKey+"_name"," ");s.eVar20=s.prop19;s.prop20="endeca: "+mdManager.getParameter(searchKey+"_style"," ");}
s.element=originalElement;SNI.Omniture.ClickTrackTrigger(s);}};SNI.Omniture.CrossLinkTrackFire=function(el,linkTerm){var elem=el||this;var _linkTerm=linkTerm||SNI.Omniture.getLinkText(jQuery(elem));var s={};s.element=elem;_linkTerm=_linkTerm.toLowerCase();s.linkTrackVars="products,events";s.linkTrackEvents="event33";s.events="event33";s.products=";"+_linkTerm+";1;0.00";s.linkName=_linkTerm;return s;}
SNI.Omniture.ClickTrackTrigger=function(data){if(typeof data=='object'){SNI.Omniture.queue.push(data);}
if(typeof s_gi=='function'){if(SNI.Omniture.timeout!==null){clearTimeout(SNI.Omniture.timeout);SNI.Omniture.timeout=null;}}else{SNI.Omniture.timeout=setTimeout(function(){clearTimeout(SNI.Omniture.timeout);SNI.Omniture.timeout=null;SNI.Omniture.ClickTrackTrigger();},1000);return false;}
while(SNI.Omniture.queue.length>0){var d=SNI.Omniture.queue.pop();d.linkName=d.linkName||'Link Name';var s=s_gi(s_account);$.each(d,function(key,value){if(key!='element'||key!='linkName'){s[key]=value;}});s.tl(d.element,'o',d.linkName);}};
if(typeof(SNI.Player)=="undefined")
{SNI.Player={};}
if(typeof(SNI.Player.Settings)=="undefined")
{SNI.Player.Settings={snap_swf_url:SNI.Config.snapBinary,flash_express_install_url:"http://common.scrippsnetworks.com/common/flash-express-install/expressInstall.swf",flash_minimum_version:"9",subscriber_authentication_config:"http://common.scrippsnetworks.com/common/snap/configs/mvpdconfig.xml"};}
if(typeof(SNI.Player.UserInterfaceConfigs)=="undefined")
{SNI.Player.UserInterfaceConfigs={FullSize:{enableSyncAdFix:1,dimensions:{width:'576',height:'636'},flashvars:{config:"http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-style.xml,http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-config-std.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent",bgcolor:"#ffffff"}},FullSizeNoPlaylist:{enableSyncAdFix:1,dimensions:{width:'576',height:'460'},flashvars:{showCarousel:"false",config:"http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-style.xml,http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-config-std.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}},RightRail:{enableSyncAdFix:0,dimensions:{width:'320',height:'360'},flashvars:{config:"http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-style.xml,http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-config-rr.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}},RightRailNoPlaylist:{enableSyncAdFix:0,dimensions:{width:'320',height:'263'},flashvars:{showCarousel:"false",config:"http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-style.xml,http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-config-rr.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}},Blog:{enableSyncAdFix:1,dimensions:{width:'320',height:'263'},flashvars:{showCarousel:"false",config:"http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-style.xml,http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-config-std.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}},BlogNoPlaylist:{enableSyncAdFix:1,dimensions:{width:'320',height:'263'},flashvars:{showCarousel:"false",config:"http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-style.xml,http://frontend.scrippsnetworks.com/~jhung/snap2/configs/snap-config-std.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}}};}
SNI.Player.getPlayerContainerDivId=function()
{return this.container_div_id;};SNI.Player.getPlayerInstanceId=function()
{return this.instance_id;};SNI.Player.wantsHTML5=function(){if(!!SNI.Config.DEBUG&&!!SNI.Config.DEBUG.fmt&&!!SNI.Config.snapEnableHTML5)return true;return(!!SNI.Config.snapEnableHTML5&&/iphone|ipad|ipod/i.test(window.navigator.userAgent));};SNI.Player.loadPlaylist=function(channelId,playlistTitle,videoId)
{if(channelId=="undefined"){channelId='';}
if(playlistTitle=="undefined"){playlistTitle='';}else{playlistTitle=escape(playlistTitle);}
if(videoId=="undefined"){videoId='';}
var that=this;var playlistUrl=that.getPlaylistUrl(channelId);function loadPlaylistFlash(channelId,playlistUrl,playlistTitle,videoId){var fl=document.getElementById(that.instance_id);if(fl!="undefined")
{fl.setPlaylist(channelId,playlistUrl,escape(playlistTitle),videoId);}}
SNI.Player.doLoadPlaylist=SNI.Player.doLoadPlaylist||loadPlaylistFlash;SNI.Player.doLoadPlaylist(channelId,playlistUrl,playlistTitle,videoId);};SNI.Player.SNAP=function(config)
{if(typeof(config)=="undefined")
{alert("Error loading video player");return null;}
else
{if(config.container_div_id=="undefined")
{alert("Error loading video player");return null;}
else
{this.container_div_id=config.container_div_id;this.instance_id=config.container_div_id+'-instance';}
if(config.ui_config=="undefined")
{alert("Error loading video player configuration");return null;}
else
{this.ui_config=config.ui_config;}
if(typeof(config.fcn_build_playlist_url)=="undefined"||config.fcn_build_playlist_url=='')
{this.getPlaylistUrl=SNI.Player.getPlaylistUrl;}
else
{this.getPlaylistUrl=config.fcn_build_playlist_url;}
this.loadPlaylist=SNI.Player.loadPlaylist;if(typeof(config.channel_id)=="undefined")
{alert("No playlist specified.");return null;}
else
{this.channel_id=config.channel_id;this.channel_url=this.getPlaylistUrl(this.channel_id);}
this.video_id=SNI.Player.getUrlParam('videoId');if(this.video_id=="")
{if(typeof(config.video_id)!="undefined")
{this.video_id=config.video_id;}}
this.play=function()
{var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{if(!fl.playerPlay){alert('play() not yet implemented');return;}
fl.playerPlay();}}
this.pause=function()
{var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{if(!fl.playerPause){alert('pause() not yet implemented');return;}
fl.playerPause();}}
this.seek=function(mins,secs)
{if(mins=="undefined"){mins=0;}
if(secs=="undefined"){secs=0;}
var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{if(!fl.playerSeek){alert('seek() not yet implemented');return;}
fl.playerSeek((mins*60)+secs);}}
this.nextVideo=function()
{var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{if(!fl.nextVideo){alert('nextVideo() not yet implemented');return;}
fl.nextVideo();}}
this.prevVideo=function()
{var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{if(!fl.prevVideo){alert('prevVideo() not yet implemented');return;}
fl.prevVideo();}}
this.mute=function()
{var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{if(!fl.mute){alert('mute() not yet implemented');return;}
fl.mute();}}
this.unmute=function()
{var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{if(!fl.unmute){alert('unmute() not yet implemented');return;}
fl.unmute();}}
this.setPlaylistChannel=function(chId,url){if(chId=="undefined"){chId='';}
if(url=="undefined"){url='';}
var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{fl.setPlaylistChannel(chId,url);}}
this.setPlaylistTitle=function(ttl){if(ttl=="undefined"){ttl='';}
var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{fl.setPlaylistTitle(ttl);}}
this.setPlaylistVideo=function(videoId){if(videoId=="undefined"){videoId='';}
var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{fl.setPlaylistVideo(videoId);}}
this.fullScreen=function()
{var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{if(!fl.fullScreen){alert('fullScreen() not yet implemented');return;}
fl.fullScreen();}}
this.showMenu=function(tab)
{if(tab=="undefined"){tab='';}
var fl=document.getElementById(this.instance_id);if(fl!="undefined")
{if(!fl.showMenu){alert('showMenu() not yet implemented');return;}
fl.showMenu(tab);}}}
if(typeof(mdManager)!="undefined")
{if(SNI.Player.wantsHTML5()){mdManager.addParameter("VideoPlayer","SNAPHTML5");}else{mdManager.addParameter("VideoPlayer","SNAP");}}
var attributes={id:this.instance_id,name:this.instance_id+' Player'};var flashvars=this.ui_config.flashvars;flashvars.minimumFlashVersion=flashvars.minimumFlashVersion||SNI.Player.Settings.flash_minimum_version;flashvars.channel=this.channel_id,flashvars.channelurl=this.channel_url,flashvars.videoId=this.video_id,flashvars.snapDivId=this.container_div_id
if(typeof(config.playlist_title)!="undefined")
{flashvars.playlistTitle=escape(config.playlist_title);}
if(typeof(config.fcn_callback_system)!="undefined"){flashvars.systemEventHandler=config.fcn_callback_system;}
else if(this.ui_config.enableSyncAdFix!="undefined"&&this.ui_config.enableSyncAdFix){flashvars.systemEventHandler="SNI.Player.callbackSystem";}
if(typeof(config.fcn_callback_user)!="undefined")
{flashvars.userEventHandler=config.fcn_callback_user;}
if(flashvars.enableSubscriberAuth){flashvars.autoPlay="false";flashvars.playerSWF=SNI.Player.Settings.snap_swf_url;flashvars.subscriberId="SNI";flashvars.subscriberResourceId="CookingChannel";flashvars.subscriberProvidersSWF="http://cooktv.sndimg.com/common/snap/snap-saproviders-1.1.5.swf";SNI.Player.Settings.snap_swf_url="http://cooktv.sndimg.com/common/snap/snap-sawrapper-1.1.5.swf";flashvars.mvpdConfig=flashvars.mvpdConfig||SNI.Player.Settings.subscriber_authentication_config;flashvars.mvpdLogoConfig="http://cooktv.sndimg.com/webcook/snap-configs/mvpdlogos.xml";flashvars.selectedProviderCallback="handleSelectedProvider";flashvars.convivaServiceURL="http://livepass.conviva.com";flashvars.convivaCustomerId="c3.ScrippsNetwork-Test";}

flashvars.minimumFlashVersion=flashvars.minimumFlashVersion||SNI.Player.Settings.flash_minimum_version;if(mdManager.getParameter("VideoPlayer")==="SNAP")
{swfobject.embedSWF(SNI.Player.Settings.snap_swf_url,this.container_div_id,this.ui_config.dimensions.width,this.ui_config.dimensions.height,flashvars.minimumFlashVersion,SNI.Player.Settings.flash_express_install_url,flashvars,this.ui_config.params,attributes);}else if(mdManager.getParameter("VideoPlayer")==="SNAPHTML5"){this.ui_config.alternativeContent='<p>The video player is starting up...</p>';SNI.Player.SNAPHTML5.init({cfgArgs:flashvars,dimensions:this.ui_config.dimensions,enableSyncAdFix:this.ui_config.enableSyncAdFix});}
var div_content=document.getElementById(this.container_div_id);if($(div_content).contents().length==0){$(div_content).html(this.ui_config.alternativeContent||'<p>Can\'t see the video?<br /><a href="http://www.adobe.com/go/getflashplayer"><img src="http://www.adobe.com/macromedia/style_guide/images/160x41_Get_Flash_Player.jpg" alt="Get Adobe Flash Player" width="160" height="41" /></a>');}};SNI.Player.getPlaylistUrl=function(channelId)
{return SNI.Config.snapPlayListUrl+'/channel/xml/0,,'+channelId+',00.xml';};SNI.Player.getUrlParam=function(paramName)
{paramName=paramName.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");var regexS="[\\?&]"+paramName+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(window.location.href);if(results==null){return"";}else{return results[1];}};SNI.Player.getJSON=function(json)
{return eval('('+json+')');};SNI.Player.callbackSystem=function(eventType,eventInfo)
{var eventJson=SNI.Player.getJSON(eventInfo);if(eventType=='playerReady')
{var isAutoPlay=eventJson.isAutoPlay;var hasPreroll=eventJson.hasPreroll;if(isAutoPlay=='false'||hasPreroll=='false')
{if(typeof(setDefaultBigboxAd)=="function")
{setDefaultBigboxAd();}}}}
SNI.Player.FullSize=function(divId,channelId,videoId,callback,ui_config)
{return new SNI.Player.SNAP({"container_div_id":divId,"ui_config":SNI.Util.mergeObjects(SNI.Player.UserInterfaceConfigs.FullSize,ui_config,true),"channel_id":channelId,"video_id":videoId,"fcn_callback_user":callback});};SNI.Player.FullSizeNoPlaylist=function(divId,channelId,videoId,callback,ui_config)
{return new SNI.Player.SNAP({"container_div_id":divId,"ui_config":SNI.Util.mergeObjects(SNI.Player.UserInterfaceConfigs.FullSizeNoPlaylist,ui_config,true),"channel_id":channelId,"video_id":videoId,"fcn_callback_user":callback});};SNI.Player.RightRail=function(divId,channelId,videoId,callback,ui_config)
{return new SNI.Player.SNAP({"container_div_id":divId,"ui_config":SNI.Util.mergeObjects(SNI.Player.UserInterfaceConfigs.RightRail,ui_config,true),"channel_id":channelId,"video_id":videoId,"fcn_callback_user":callback});};SNI.Player.RightRailNoPlaylist=function(divId,channelId,videoId,callback,ui_config)
{return new SNI.Player.SNAP({"container_div_id":divId,"ui_config":SNI.Util.mergeObjects(SNI.Player.UserInterfaceConfigs.RightRailNoPlaylist,ui_config,true),"channel_id":channelId,"video_id":videoId,"fcn_callback_user":callback});};SNI.Player.Blog=function(divId,channelId,videoId,callback,ui_config)
{getPlaylistUrlForBlogs=function(channelId){return SNI.Config.snapPlayListUrl+'/channel/xml/0,,'+channelId+',00.xml';};return new SNI.Player.SNAP({"container_div_id":divId,"ui_config":SNI.Util.mergeObjects(SNI.Player.UserInterfaceConfigs.FullSizeNoPlaylist,ui_config,true),"channel_id":channelId,"video_id":videoId,"fcn_callback_user":getPlaylistUrlForBlogs});};
if(typeof SNI.Player=="undefined")SNI.Player={};SNI.Player.SNAPHTML5=(function($){return new function(){var O=this;O.state={curVidIdx:0,playcount:0,embed:false,playbackQ:[],corspxy:"http://frontend.scrippsnetworks.com/~clewis/corspxy.php?url="};O.data={};O.data.eff={cfgArgs:{},config:{},styles:{},Omniture:{},channel:{}};O.data.extrn={};O.data.defa={config:{enableSubscriberAuth:false,enableHomePageMode:false,playerSize:"",showCarousel:true,fullscreen:true,autoPlay:false,overrideAutoplay:false,enableRepeateMode:true,enableNextVideoOverlay:true,enableRelatedInfoIcon:true,enableStaticOverlayPlayIcon:true,enableNowPlayingOverlay:true,omnitureConfig:"",omnitureVersion:"default",shuffle:false,showPlaylistTitle:true,showAds:true,enableShare:true,enableEmail:true,enableRelatedMenu:true,showMenuButton:true,enableInteractiveMenu:false,enableAutoOpenInteractiveSteps:false,interactiveDataURL:"data/",showEmbedMenu:true,moreVideoURL:"http://www.foodnetwork.com/video-library/index.html",relatedOverlayDelay:"2",relatedOverlayInitialOpenTime:"4",enableEndFrame:false,endFrameText:"",endFrameURL:"",vendorsURL:"",jsSurveyHandler:"",convivaServiceURL:"",convivaCustomerId:"",email:{server:"http://www.foodnetwork.com/app/emailservice/sendEmail.html",params:{senderEmail:"from_email",senderName:"from_name",recipient:"to_emails",subject:"subject",message:"body",securityToken:"security_token"},paramValues:{securityToken:"68-91-143-161-245-213-218-70-154-90-195-249-151-254-139-24-214-245-53-141-94-96-245-11",senderEmail:"donotreply@foodnetwork.com"},texts:{subject:"$$SENDER_NAME$$ has sent you a FoodNetwork.com video",message:"$$SENDER_NAME$$ thought you might enjoy this FoodNetwork.com video:\n$$VIDEO_TITLE$$\n$$VIDEO_URL$$.\n\n$$COMMENTS$$\nView more FoodNetwork.com videos at http://www.foodnetwork.com/video-library/",comments:"Comments from $$SENDER_NAME$$:\n$$USER_MESSAGE$$"}}},styles:{config:{textButton:{bg:{normal:"",hover:"",press:"",disabled:""},textColors:{normal:"#81092C",hover:"#FF0012",press:"#FF0012",disabled:"#999999"}},playlistCarousel:{rightArrow:{normal:"",hover:"",press:"",disabled:""},leftArrow:{normal:"",hover:"",press:"",disabled:""},isBackground:false,bgURL:"",thumbnailBorder:"small",textColors:{normal:"#006699",hover:"#990000",selected:"#999999",secondary:"#CCCCCC"},borderColors:{normal:"#999999",hover:"#990000",selected:"#FFD65D"},paginationIcon:{normal:"",selected:""},paginationText:{color:"#000000",size:"11",font:"Trebuchet"},playlistTitle:{color:"#000000",font:"Trebuchet",size:"14"}},controlButtons:{buttonColors:{normal:"#454545",hover:"#b50938",press:"#6B0521",disabled:"#CCCCCC"}},overlayMenu:{textColors:{title:"#B50938",secondary:"#666666",body:"#FFFFFF"}},recallButton:{normal:"",hover:"",press:""},closeButton:{normal:"",hover:"",press:""},endFrameTextColor:"#53A8D5",endFrameHoverColor:"#53A8D5"}},Omniture:{accountName:"scrippsfoodnetnew",vars:{variable:[{name:"Channel","default":""},{name:"Brand","default":"scrippsfoodnetnew"},{name:"PlayerName","default":"SNAP"},{name:"SiteID","default":"FOODNETWORK"},{name:"SlotNumber","default":""},{name:"OriginalSite","default":""},{name:"VideoTitle","default":""},{name:"PlayType","default":""},{name:"LCStation","default":""},{name:"DARTStation","default":""},{name:"PlayerAction","default":"PUP Video Play"},{name:"AssetID","default":""},{name:"VideoSearchKeyword","default":""},{name:"VideoScreenType","default":""},{name:"Sponsor","default":""},{name:"ShowName","default":""},{name:"MVPDId","default":""},{name:"Duration","default":""}]},formats:{customVars:{props:{prop:[{number:"4",value:"$PlayerAction$"},{number:"37",value:"$VideoTitle$"},{number:"38",value:"$VideoTitle$"}]},eVars:{eVar:[{number:"21",value:"$PlayerAction$"},{number:"22",value:"$VideoTitle$"},{number:"23",value:"$ShowName$"},{number:"24",value:"$PlayerName$"},{number:"25",value:"$Channel$"},{number:"26",value:"$MVPDId$"},{number:"27",value:"$OriginalSite$"},{number:"28",value:"$PlayType$"},{number:"29",value:"$DARTStation$"},{number:"30",value:"$AssetID$"},{number:"33",value:"$Duration$"},{number:"34",value:"$VideoScreenType$"},{number:"35",value:"$Sponsor$"},{number:"39",value:"$PlayerAction$"}]},hiers:{hier:[{number:"1",value:"$Brand$|$PlayerName$|$Channel$|$VideoTitle$"}]}}},events:{event:[{number:"2",name:"VideoAdStart"},{number:"3",name:"VideoAdStart2"},{number:"4",name:"VideoAdComplete"},{number:"5",name:"VideoContentStart"},{number:"6",name:"VideoContent10%"},{number:"7",name:"VideoContent50%"},{number:"8",name:"VideoContent90%"},{number:"9",name:"VideoContent100%"},{number:"51",name:"VideoNotFound"},{number:"63",name:"VideoPause"},{number:"64",name:"VideoResume"},{number:"65",name:"VideoMenuOpen"},{number:"66",name:"VideoFullScreenOpen"}]}},ads:{}};O.Util={cleanStrForAdParam:function(inStr){return inStr.replace(/[^a-zA-Z0-9]/g,'_');},sss2mmmdec:function(inSSS){return Math.round(100*inSSS/60,0).toString().replace(/(\d*)(\d\d)$/,'$1_$2');},hhmmss2sss:function(inHHMMSS){var sss=0;$.each(inHHMMSS.split(':'),function(i,v){sss*=60;sss+=+v;});return sss;},boolify:function(o){if(typeof o==="object"){$.each(Object.getOwnPropertyNames(o),function(i,v){if(typeof o[v]==="string"){if(o[v].toLowerCase()=="true"){o[v]=true;}else if(o[v].toLowerCase()=="false"){o[v]=false;}}});}
return;},getCORSProxyURL:function(url){if(SNI.Config.env.toLowerCase()=="dev")url=O.state.corspxy+encodeURIComponent(url);return url;},fixStrForXML:function(str){str=$.trim(str);if(/up:channel/.test(str)){str=str.replace(/<title>(.+?)<\/title>/,"<title><![CDATA[$1]]><\/title>");}
return str;},parseXML:function(xmlStr){var xmlDoc="";try{if(window.DOMParser){parser=new DOMParser();xmlDoc=parser.parseFromString(xmlStr,"text/xml");}else if(window.ActiveXObject){xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.loadXML(xmlStr);}}catch(e){}
return xmlDoc;},deviceAutoPlay:function(){return!/iphone|ipad|ipod/i.test(window.navigator.userAgent);},getAdDescriptorURL:function(){var url="";if(typeof getDartEnterpriseUrl==="function"){url=getDartEnterpriseUrl("VIDEO_XML_DESCRIPTOR",1);}
if(url.length==0){url="http://adsremote.scrippsnetworks.com/html.ng/site=FOOD&adtype=VIDEO_XML_DESCRIPTOR&Pagepos=1";}
var parmEmbed="";if(O.state.embed)parmEmbed="&embed=true";return[url,'&',"channelid=",O.state.channelId,'&',"duration=",O.Util.sss2mmmdec(O.data.eff.channel.video[0].length_sss),'&',"snapDivId=",O.state.containerID,'&',"psaPlayerId=",O.data.eff.channel.playerId,'&',"psaPlayerTitle=",O.Util.cleanStrForAdParam(O.data.eff.channel.psaPlayerTitle),'&',"playertype=",O.state.playertype,'&',"domain=",escape(window.location.href.toString()),'&',"playerSize=",O.state.playerSize,'&',"playerWidth=",O.state.dimensions.width,'&',"rand=",(new Date()).valueOf().toString(),parmEmbed].join('');},getAdURLbyType:function(inType){if(!!SNI.Config.DEBUG&&!!SNI.Config.DEBUG.cannedAds){return"/sites/sandbox/video/content/ads/cc_VAST_tmp.xml";}
var url="";if(typeof getDartEnterpriseUrl==="function"){url=getDartEnterpriseUrl(inType,1);}
if(url.length==0){url="http://adsremote.scrippsnetworks.com/html.ng/site=FOOD&adtype="+inType+" &Pagepos=1";}
var parmEmbed="";if(O.state.embed)parmEmbed="&embed=true";return[url,'&',"playcount=",O.state.playcount,'&',"playertype=",O.state.playertype,'&',"title=",O.Util.cleanStrForAdParam(O.data.eff.channel.video[O.state.curVidIdx].clipName),'&',"channelid=",O.state.channelId,'&',"videoid=",O.data.eff.channel.video[O.state.curVidIdx].videoId,'&',"psaPlayerId=",O.data.eff.channel.playerId,'&',"psaPlayerTitle=",O.Util.cleanStrForAdParam(O.data.eff.channel.psaPlayerTitle),'&',"snapDivId=",O.state.containerID,'&',"domain=",escape(window.location.href.toString()),'&',"duration=",O.data.eff.channel.video[O.state.curVidIdx].length_sss,'&',"playerSize=",O.state.playerSize,'&',"playerWidth=",O.state.dimensions.width,'&',"rand=",(new Date()).valueOf().toString(),parmEmbed].join('');},getHLSvidURL:function(inAssetId){return"http://sni-i.akamaihd.net/i/"+inAssetId.substr(0,4)+'/'+inAssetId+"_,1,2,3,4,5,.mp4.csmil/master.m3u8";},getVideoUrlForDevice:function(inVideo){var url_eff=inVideo.videoUrl;if(SNI.Config.snapEnableHTML5&&/iphone|ipad|ipod/i.test(window.navigator.userAgent)){url_eff=O.Util.getHLSvidURL(inVideo.assetId);}else if(!!SNI.Config.DEBUG){SNI.Config.DEBUG.fmt=SNI.Config.DEBUG.fmt||"";if(SNI.Config.DEBUG.fmt==="prog"){if(/safari/i.test(window.navigator.userAgent.toString().toLowerCase())){url_eff=inVideo.videoUrlMp4;}else if(/firefox/i.test(window.navigator.userAgent.toString().toLowerCase())){url_eff=inVideo.videoUrlOgg;}}else if(SNI.Config.DEBUG.fmt==="allHLS"){url_eff=O.Util.getHLSvidURL(inVideo.assetId);}}
return url_eff;},parseXMLtoObj:function(dta,tgt,ppfn){if(!$.isXMLDoc(dta)){}else{var r=dta.documentElement.localName;console.log("parseXMLtoObj: "+r);if(typeof tgt[r]!="object")tgt[r]={};$.extend(tgt[r],$.xml2json(dta));if(typeof ppfn=="function")ppfn();return;}},loadXML:function(sets){function onComplete(jqXHR,stat){if(stat==="success"){try{O.Util.parseXMLtoObj($.parseXML(O.Util.fixStrForXML(jqXHR.responseText)),sets.tgt||O,sets.postProc);}finally{$(O).trigger(sets.ctrlID);return;}}}
$.ajax({url:sets.url,dataType:"text",complete:onComplete});return;},pixelBeacon:function(aURL){console.log("pixelBeacon "+aURL);aURL.forEach(function(_u){(new Image()).src=_u;});return;},getVidImageForHeight:function(inAssetId,inHeight,inDomain){if(typeof inHeight!="number")inHeight=500;if(typeof inDomain!="string")inDomain='';var dims=[[92,69],[120,90],[160,120],[266,200],[400,300],[480,360],[616,462]];var i=0;while(!!dims[i+1]&&dims[i][1]<inHeight)++i;return inDomain+"/up/images/"+inAssetId.substr(0,4)+'/'+inAssetId+"_"+dims[i][0]+"x"+dims[i][1]+".jpg";},getVideoMissingHTML:function(){return'<div><p>Oops!  We\'re sorry, but this video is not available for your location or device.  Select <a href="/food-network-top-food-videos/videos/index.html">here</a> to browse our top videos.</p></div>';},getLoadingHTML:function(){return'<div><p>Your video is loading.</p><span class="prog"></span></div><script>(function(O){O.Util.progressBar(O.VPlayer.elts.jVidWrap.find(".vid-over div span.prog"));})(SNI.Player.SNAPHTML5);</script>';},getEndframeHTML:function(){return'<div><p>Select <a href="#" class="r">here</a> to restart this playlist</p><p>or <a href="/food-network-top-food-videos/videos/index.html">here</a> to browse our top videos.</p></div><script>(function(O){O.VPlayer.elts.jVidWrap.find(".vid-over div a.r").bind(O.Util.getUIselectEvent(), function() { O.state.curVidIdx= 0; O.VPlayer.Playlist.readyToPlayVid(); return false;}).click(function(){return false;})})(SNI.Player.SNAPHTML5);</script>';},getUIselectEvent:function(inNS){if(typeof inNS==="undefined")inNS='';else inNS='.'+inNS;return(("ontouchend"in document?"touchend":"mouseup")+inNS);},progressBar:function(inSel){$(inSel).bind("transitionend webkitTransitionEnd oTransitionEnd",function(evt){$(evt.target).toggleClass("on")});setTimeout(function(){$(inSel).addClass("on");},500);}};O.StartUp={Tasks:{prepCfgArgsState:function(inCfg){O.data.extrn.cfgArgs=inCfg.cfgArgs;$.extend(O.data.eff.cfgArgs,O.data.extrn.cfgArgs);O.state.channelId=O.data.eff.cfgArgs.channel;delete O.data.eff.cfgArgs.channel;O.state.channelUrl=O.data.eff.cfgArgs.channelurl;delete O.data.eff.cfgArgs.channelurl;O.state.configFiles=O.data.eff.cfgArgs.config.split(',');delete O.data.eff.cfgArgs.config;O.state.containerID=O.data.eff.cfgArgs.snapDivId;delete O.data.eff.cfgArgs.snapDivId;O.state.playerSize=O.data.eff.cfgArgs.playerSize;delete O.data.eff.cfgArgs.playerSize;O.state.playertype=mdManager.getParameter("VideoPlayer");O.state.dimensions=inCfg.dimensions;O.state.enableSyncAdFix=inCfg.enableSyncAdFix;O.state.videoId=O.data.eff.cfgArgs.videoId;delete O.data.eff.cfgArgs.videoId;delete O.data.eff.cfgArgs.minimumFlashVersion;O.Util.boolify(O.data.eff.cfgArgs);return;},prepPlaylist:function(){O.data.eff.channel={}
$.extend(true,O.data.eff.channel,O.data.extrn.channel);if(!$.isArray(O.data.eff.channel.video)){O.data.eff.channel.video=[O.data.eff.channel.video];}
$.each(O.data.eff.channel.video,function(i,v){v.length_sss=O.Util.hhmmss2sss(v.length);v.cmpnRunTimes_sss=[];$.each(v.cmpnRunTimes.split(','),function(j,c){v.cmpnRunTimes_sss.push(O.Util.hhmmss2sss(c));});v.videoUrl_eff=O.Util.getVideoUrlForDevice(v);});return;},loadPlaylist:function(){console.log(">> loading Playlist");O.Util.loadXML({url:O.Util.getCORSProxyURL(O.state.channelUrl),tgt:O.data.extrn,postProc:this.prepPlaylist,ctrlID:"playlistLoaded"});return;},prepConfig:function(){console.log("prepConfig");$.extend(O.data.eff.config,O.data.defa.config,O.data.extrn.config);O.Util.boolify(O.data.eff.config);$.extend(O.data.eff.config,O.data.eff.cfgArgs);return;},loadConfig:function(){console.log(">> loading Config");O.Util.loadXML({url:O.state.configGenl,tgt:O.data.extrn,postProc:this.prepConfig,ctrlID:"configLoaded"});return;},prepStyles:function(){console.log("prepConfig");$.extend(O.data.eff.styles,O.data.defa.styles,O.data.extrn.styles);return;},loadStyles:function(){console.log(">> loading Styles");O.data.extrn.styles={};O.Util.loadXML({url:O.state.configStyles,tgt:O.data.extrn.styles,postProc:this.prepStyles,ctrlID:"stylesLoaded"});return;},loadOmniture:function(){console.log(">> loading Omniture");if(typeof O.data.extrn.Omniture=="undefined"&&typeof O.data.extrn.config.omnitureConfig=="string"&&O.data.extrn.config.omnitureConfig.length>0){O.Util.loadXML({url:O.data.extrn.config.omnitureConfig,tgt:O.data.extrn,postProc:null,ctrlID:"omnitureLoaded"});}
return;},procAdDesc:function(){var _t=O.data.eff.ads={};var _s=O.data.extrn.ads.video_descriptor;O.Util.boolify(_s.autoplay);if(O.data.eff.config.overrideAutoplay&&(typeof _s.autoplay.value==="boolean")){O.data.eff.config.autoPlay=_s.autoplay.value;}
_s=_s.ads.ad;if(!$.isArray(_s))_s=[_s];for(var i=0;i<_s.length;i++){if(_s[i].template.toLowerCase()=="preroll"){_t["preroll"]=true;}else if(_s[i].template.toLowerCase()=="overlay"){_t["overlay"]={};}else if(_s[i].template.toLowerCase()=="midroll"){}else if(_s[i].template.toLowerCase()=="postroll"){}}
return;},loadAdDesc:function(){console.log(">> loading Ad Desc");O.data.extrn.ads={};if(O.data.eff.config.showAds){O.Util.loadXML({url:O.Util.getAdDescriptorURL(),tgt:O.data.extrn.ads,postProc:this.procAdDesc,ctrlID:"adDescLoaded"});}else{$(O).trigger("adDescLoaded");}
return;}},Controller:{init:function(){var evtsCaught=[];var evtsAll=["initialLoad","playlistLoaded","configLoaded","stylesLoaded","omnitureLoaded","adDescLoaded"];var evtsNewChannel=["playlistLoaded","adDescLoaded"];var evtsToCk=evtsAll;function ckCaught(evt,cb){var aEvts=[];if(typeof evt==="string")aEvts.push(evt);else if($.isArray(evt))aEvts=evt;else return false;var bRet=true;$.each(aEvts,function(i,v){bRet=bRet&&(evtsCaught.indexOf(v)>-1)});if(bRet)cb();}
function attachEvents(){console.log("attaching events");$(O).bind({"initialLoad":onInitialLoad,"doLoadPlaylist":onLoadPlaylist,"doLoadConfig":onLoadConfig,"doLoadStyles":onLoadStyles,"doLoadOmniture":onLoadOmniture,"doLoadAdDesc":onLoadAdDesc,"playlistLoaded":onPlaylistLoaded,"configLoaded":onConfigLoaded,"stylesLoaded":onStylesLoaded,"omnitureLoaded":onOmnitureLoaded,"adDescLoaded":onAdDescLoaded,"allInitLoaded":onAllInitLoaded,"adLoaded":onAdLoaded,"loadNewPlaylist":onLoadNewPlaylist});return;}
function onInitialLoad(evt){console.log("C>>  "+evt.type+" "+evt.timeStamp);evtsCaught.push(evt.type);$(O).trigger("doLoadPlaylist");$(O).trigger("doLoadConfig");$(O).trigger("doLoadStyles");return;}
function onLoadNewPlaylist(evt){evtsCaught=["initialLoad","configLoaded","stylesLoaded","omnitureLoaded"];evtsToCk=evtsNewChannel;$(O).trigger("doLoadPlaylist");return;}
function onLoadPlaylist(evt){console.log("C>>  "+evt.type+" "+evt.timeStamp);O.StartUp.Tasks.loadPlaylist();return;}
function onLoadConfig(evt){console.log("C>>  "+evt.type+" "+evt.timeStamp);O.StartUp.Tasks.loadConfig();return;}
function onLoadStyles(evt){console.log("C>>  "+evt.type+" "+evt.timeStamp);O.StartUp.Tasks.loadStyles();return;}
function onLoadOmniture(evt){console.log("C>>  "+evt.type+" "+evt.timeStamp);O.StartUp.Tasks.loadOmniture();return;}
function onLoadAdDesc(evt){console.log("C>>  "+evt.type+" "+evt.timeStamp);O.StartUp.Tasks.loadAdDesc();return;}
function onPlaylistLoaded(evt){console.log("C>>  "+evt.type+" "+evt.timeStamp);evtsCaught.push(evt.type);ckCaught("configLoaded",function(){$(O).trigger("doLoadAdDesc");});ckCaught(evtsToCk,function(){O.initPlay();});return;}
function onConfigLoaded(evt){console.log("C>>  "+evt.type+" "+evt.timeStamp);evtsCaught.push(evt.type);$(O).trigger("doLoadOmniture");ckCaught("playlistLoaded",function(){$(O).trigger("doLoadAdDesc");});ckCaught(evtsToCk,function(){$(O).trigger("allInitLoaded");});return;}
function onStylesLoaded(evt){console.log("C>>  "+evt.type+" "+evt.timeStamp);evtsCaught.push(evt.type);ckCaught(evtsToCk,function(){$(O).trigger("allInitLoaded");});return;}
function onOmnitureLoaded(evt){console.log("C>>  "+evt.type);evtsCaught.push(evt.type);ckCaught(evtsToCk,function(){$(O).trigger("allInitLoaded");});return;}
function onAdDescLoaded(evt){console.log("C>>  "+evt.type);evtsCaught.push(evt.type);ckCaught(evtsToCk,function(){$(O).trigger("allInitLoaded");});return;}
function onAllInitLoaded(evt){console.log("C>>  "+evt.type+" "+evt.timeStamp);O.initPlay();return true;}
function onAdLoaded(evt){O.Ads.runAd();return;}
console.log("initializing events");attachEvents();return;}}};O.VPlayer=(function(){return{elts:{},Playlist:{init:function(){bReload=(typeof O.VPlayer.elts.jPlayerWrap==="object");if(!bReload){O.VPlayer.elts.jOuterWrap=$('#'+O.state.containerID);O.VPlayer.elts.jOuterWrap.attr("id",O.state.containerID+'-instance').removeAttr("class");O.VPlayer.elts.jOuterWrap.empty().append('<div class="vid-html '+O.state.playerSize.toLowerCase()+'"></div>');O.VPlayer.elts.jPlayerWrap=O.VPlayer.elts.jOuterWrap.find(".vid-html");O.VPlayer.elts.jPlayerWrap.width(O.state.dimensions.width).animate({"height":(O.state.dimensions.height)});O.VPlayer.elts.jTitle=O.VPlayer.elts.jPlayerWrap.find("h1");}
if(O.data.eff.config.showCarousel){if(bReload)O.VPlayer.elts.jChNav.remove();O.VPlayer.Playlist.fmtCarousel();O.VPlayer.Playlist.initPlaylistController();}
if(!bReload)O.VPlayer.VidElt.init();O.VPlayer.Playlist.findSelectedVid();O.VPlayer.Playlist.readyToPlayVid(true);return;},crslCfgLookUp:{"fullscreenwide":{crslItemsVisible:4,imgDims:{width:92,height:69}},"rightrail":{crslItemsVisible:2,imgDims:{width:60,height:45}},"recipe":{crslItemsVisible:4,imgDims:{width:92,height:69}}},crslCfg:{crslItemsVisible:3,imgDims:{width:92,height:69}},fmtCarousel:function(){var _this=this;_this.crslCfg=_this.crslCfgLookUp[O.state.playerSize.toLowerCase()]||_this.crslCfg;var _styles=O.data.eff.styles.config;var _rules=['.vid-html .crsl .prev-btn{background: transparent url('+_styles.playlistCarousel.leftArrow.normal+') no-repeat 0 0;}','.vid-html .crsl .prev-btn:hover{background: transparent url('+_styles.playlistCarousel.leftArrow.hover+') no-repeat 0 0}','.vid-html .crsl .prev-btn:active{background: transparent url('+_styles.playlistCarousel.leftArrow.press+') no-repeat 0 0}','.vid-html .crsl .prev-btn.disabled{background: transparent url('+_styles.playlistCarousel.leftArrow.disabled+') no-repeat 0 0}','.vid-html .crsl .next-btn{background: transparent url('+_styles.playlistCarousel.rightArrow.normal+') no-repeat 0 0}','.vid-html .crsl .next-btn:hover{background: transparent url('+_styles.playlistCarousel.rightArrow.hover+') no-repeat 0 0}','.vid-html .crsl .next-btn:active{background: transparent url('+_styles.playlistCarousel.rightArrow.press+') no-repeat 0 0}','.vid-html .crsl .next-btn.disabled{background: transparent url('+_styles.playlistCarousel.rightArrow.disabled+') no-repeat 0 0}','.vid-html .crsl li p{color:'+_styles.playlistCarousel.textColors.normal+';}','.vid-html .crsl li a:hover p{color:'+_styles.playlistCarousel.textColors.hover+';}','.vid-html .crsl li.sel p,.vid-html .crsl li.sel a:hover p{color:'+_styles.playlistCarousel.textColors.selected+';}','.vid-html .crsl li p .sec{color:'+_styles.playlistCarousel.textColors.secondary+';}','.vid-html .crsl .controls.btn-nav span{background-image: url('+_styles.playlistCarousel.paginationIcon.normal+');}','.vid-html .crsl .controls.btn-nav span.active,.vid-html .crsl .controls.btn-nav span:hover {background-image: url('+_styles.playlistCarousel.paginationIcon.selected+');}','.vid-html .crsl .controls{color:'+_styles.playlistCarousel.paginationText.color+';font-family:'+_styles.playlistCarousel.paginationText.font+';font-size:'+_styles.playlistCarousel.paginationText.size+'px;}'].join('');if(["fullscreenwide","recipe"].indexOf(O.state.playerSize.toLowerCase())>-1){_rules+=['.vid-html .crsl li img{border-color:'+_styles.playlistCarousel.borderColors.normal+';}','.vid-html .crsl li a:hover img{border-color:'+_styles.playlistCarousel.borderColors.hover+';}','.vid-html .crsl li.sel img, .vid-html .crsl li.sel a:hover img{border-color:'+_styles.playlistCarousel.borderColors.selected+';}'].join('');}else if(O.state.playerSize.toLowerCase()=="rightrail"){_rules+=['.vid-html .crsl li a{border-color:'+_styles.playlistCarousel.borderColors.normal+';}','.vid-html .crsl li a:hover{border-color:'+_styles.playlistCarousel.borderColors.hover+';}','.vid-html .crsl li.sel a, .vid-html .crsl li.sel a:hover{border-color:'+_styles.playlistCarousel.borderColors.selected+';}'].join('');}
$("head").append('<style id="vid-css" type="text/css">'+_rules+'</style>');var aHtml=[];aHtml.push('<div class="hd"></div>');aHtml.push('<div class="crsl-wrap"><ul>');$.each(O.data.eff.channel.video,function(i,c){aHtml.push('<li>');aHtml.push('<a href="#" class="clrfix"><img width="'+_this.crslCfg.imgDims.width+'" height="'+_this.crslCfg.imgDims.height+'" src="'+c.thumbnailUrl+'" /><span class="icn"></span>');aHtml.push('<p><span>'+c.clipName+'</span><span class="sec"> ('+c.length+')</span></p></a>');aHtml.push('</li>');});aHtml.push('</ul></div>');O.VPlayer.elts.jPlayerWrap.append('<div class="crsl">'+aHtml.join(' ')+'</div>');O.VPlayer.elts.jChNav=O.VPlayer.elts.jPlayerWrap.find(".crsl");O.VPlayer.elts.jCrsl=O.VPlayer.elts.jChNav.find(".crsl-wrap");O.VPlayer.elts.jCrsl.jCarouselLite({container:"#"+O.state.containerID+"-instance .crsl",btnNavigation:true,btnNext:".crsl .next-btn",btnPrev:".crsl .prev-btn",mouseWheel:true,visible:_this.crslCfg.crslItemsVisible,scroll:_this.crslCfg.crslItemsVisible,circular:false,displayPage:Math.ceil(O.VPlayer.elts.jCrsl.find("li").length/_this.crslCfg.crslItemsVisible)>3});O.VPlayer.elts.jCrslPrev=O.VPlayer.elts.jChNav.find(".prev-btn");O.VPlayer.elts.jCrslNext=O.VPlayer.elts.jChNav.find(".next-btn");return;},updtCrslForIdx:function(idx){var _this=this;O.VPlayer.elts.jCrsl.find("li").removeClass("sel").eq(idx).addClass("sel");var oldPg=-O.VPlayer.elts.jCrsl.children("ul").position().left/O.VPlayer.elts.jCrsl.width();var newPg=Math.floor(idx/_this.crslCfg.crslItemsVisible);var maxPg=Math.floor((O.VPlayer.elts.jCrsl.find(".crsl-item").length-1)/_this.crslCfg.crslItemsVisible);if(oldPg!=newPg){O.VPlayer.elts.jCrsl.find("ul").animate({left:(-O.VPlayer.elts.jCrsl.width()*newPg).toString()+"px"});if(newPg==0)O.VPlayer.elts.jCrslPrev.addClass("disabled");if(oldPg==0)O.VPlayer.elts.jCrslPrev.removeClass("disabled");if(newPg==maxPg)O.VPlayer.elts.jCrslNext.addClass("disabled");if(oldPg==maxPg)O.VPlayer.elts.jCrslNext.removeClass("disabled");var jCrslNav=O.VPlayer.elts.jChNav.find(".controls");if(jCrslNav.hasClass("btn-nav")){jCrslNav.children("span").eq(oldPg).removeClass("active").end().eq(newPg).addClass("active");}else{jCrslNav.text((newPg+1)+" of "+(maxPg+1));}}
return;},initPlaylistController:function(){O.VPlayer.elts.jChNav.delegate("li > a",O.Util.getUIselectEvent(),function(evt){if(!$(this).closest("li").hasClass("sel")){O.state.curVidIdx=O.VPlayer.elts.jCrsl.find("li > a").index(this);console.log("play new video: "+O.data.eff.channel.video[O.state.curVidIdx].assetId);O.VPlayer.Playlist.readyToPlayVid();}
return false;}).delegate("li > a","click",function(){return false});return;},playNext:function(){if(O.state.curVidIdx<O.data.eff.channel.video.length-1){++O.state.curVidIdx;O.VPlayer.Playlist.readyToPlayVid();}else{O.VPlayer.elts.jVidElt.one("canplay",function(){O.VPlayer.VidElt.removeOverlay();});if(O.VPlayer.elts.dVidElt.webkitDisplayingFullscreen)O.VPlayer.elts.dVidElt.webkitExitFullscreen();O.VPlayer.VidElt.showOverlay(O.Util.getEndframeHTML(),"endframe");}
return;},playVideoByIdx:function(vidIdx){O.state.mode="content";O.VPlayer.elts.jVidElt.trigger("playVideoByUrlSNI",{"url":O.data.eff.channel.video[O.state.curVidIdx].videoUrl_eff,"mode":O.state.mode,"channelId":O.state.channelId,"videoId":O.data.eff.channel.video[O.state.curVidIdx].videoId});},findSelectedVid:function(){if(O.state.videoId){$.each(O.data.eff.channel.video,function(i,v){console.log("looking for "+O.state.videoId+" "+i+" "+v);if(v.videoId==O.state.videoId){O.state.curVidIdx=i;return false;}});}
return;},readyToPlayVid:function(ckAutoplay){if(O.data.eff.config.showCarousel){O.VPlayer.Playlist.updtCrslForIdx(O.state.curVidIdx);}
O.Analytics.prepVideo();O.state.playbackQ=[O.VPlayer.Playlist.playNext];if(!O.data.eff.config.autoPlay||!O.Util.deviceAutoPlay()){O.VPlayer.VidElt.setPosterForVideo();}
if(ckAutoplay&&!O.data.eff.config.autoPlay&&O.Util.deviceAutoPlay()){O.VPlayer.elts.jVidElt.one("play.start",O.VPlayer.Playlist.playVid);}
if(!!O.state.enableSyncAdFix&&(!O.data.eff.config.autoPlay||!O.data.eff.ads.preroll||!O.Util.deviceAutoPlay())&&(typeof setDefaultBigboxAd==="function")){setDefaultBigboxAd();O.state.enableSyncAdFix=false;}
if(!ckAutoplay||O.data.eff.config.autoPlay||!O.Util.deviceAutoPlay()){O.VPlayer.elts.jVidElt.unbind("play.start");O.VPlayer.Playlist.playVid();}
return;},playVid:function(){O.state.playcount++;var cbNextAction=(function(vidIdx){return function(){O.VPlayer.Playlist.playVideoByIdx(vidIdx);};})(O.state.curVidIdx);if(O.data.eff.config.showAds&&O.data.eff.ads.preroll){console.log("playvid <<<<<<<<<");O.state.playbackQ.push(cbNextAction);O.Ads.doPreroll();}else{cbNextAction();}
return;}},VidElt:{init:function(){O.VPlayer.elts.jPlayerWrap.prepend('<div class="vid-wrap"><video></video></div>');O.VPlayer.elts.jVidWrap=O.VPlayer.elts.jOuterWrap.find(".vid-wrap");O.VPlayer.elts.jVidElt=O.VPlayer.elts.jOuterWrap.find("video");O.VPlayer.elts.dVidElt=O.VPlayer.elts.jVidElt.get(0);O.VPlayer.elts.jVidElt.attr("controls","controls");this.initMediaController();this.setVideoDims();if(typeof O.data.extrn.cfgArgs.userEventHandler==="function")O.TVL.UIevents();return;},setVideoDims:function(){var h_max=O.state.dimensions.height;if(O.data.eff.config.showCarousel){h_max-=O.VPlayer.elts.jChNav.outerHeight(true);}
O.VPlayer.elts.jVidElt.attr("height",h_max);return;},setPosterForVideo:function(){O.VPlayer.elts.jVidElt.attr("poster",O.Util.getVidImageForHeight(O.data.eff.channel.video[O.state.curVidIdx].assetId,O.VPlayer.elts.jVidElt.height(),O.data.eff.channel.video[O.state.curVidIdx].thumbnailUrl.match(/http:\/\/[^\/]*/)[0]));return;},showOverlay:function(inHTML,inType){if(O.VPlayer.elts.jVidWrap.children(".vid-over").length==0){O.VPlayer.elts.jVidWrap.prepend("<div class='vid-over'></div>");}
if(O.VPlayer.elts.jVidWrap.children(".vid-over").attr("data-msg")!=inType){O.VPlayer.elts.jVidWrap.children(".vid-over").html(inHTML).attr("data-msg",inType);O.VPlayer.elts.jVidWrap.addClass("overlay");}
return;},removeOverlay:function(){if(O.VPlayer.elts.dVidElt.src){O.VPlayer.elts.jVidWrap.removeClass("overlay");O.VPlayer.elts.jVidWrap.children(".vid-over").empty().removeAttr("data-msg");return;}},initMediaController:function(){var _v=O.VPlayer.elts.jVidElt;var _d=O.VPlayer.elts.dVidElt;var furthestPlay=0;_v.bind({"play":onPlay,"pause":onPause,"loadstart":onLoadStart,"loadedmetadata":onLoadedMetaData,"loadeddata":onLoadedData,"canplay":onCanPlay,"canplaythrough":onCanPlayThrough,"ended":onEnded,"playing":onPlaying,"seeking":onSeeking,"seeked":onSeeked,"durationchange":onDurationChange,"progress":onProgress,"timeupdate":onTimeUpdate,"suspend":onSuspend,"abort":onAbort,"error":onError,"emptied":onEmptied,"stalled":onStalled,"waiting":onWaiting,"togglePlaySNI":onTogglePlay_SNI,"goTimeSNI":onGoTime_SNI,"playVideoByUrlSNI":onPlayVideoByUrl_SNI,"startedSNI":onStarted_SNI,"completeSNI":onComplete_SNI});function onPlay(){console.log("M: video play event");}
function onPause(){console.log("M: video pause event");}
function onLoadStart(){console.log("M: video loadstart event");}
function onLoadedMetaData(){console.log("M: video loadedmetadata event");console.log("vid elt w/h "+$("video").width()+" / "+$("video").height()+" media w/h "+$("video")[0].videoWidth+" / "+$("video")[0].videoHeight);};function onLoadedData(){console.log("M: video loadeddata event");};function onCanPlay(){console.log("M: video canplay event");if(_d.src=="")_d.pause();};function onCanPlayThrough(){console.log("M: video canplaythrough event |"+_d.src+'|');};function onPlaying(){console.log("M: video playing event");};function onSeeking(){console.log("M: video seeking event");};function onSeeked(){console.log("M: video seeked event");};function onDurationChange(){console.log("M: video durationchange event >>"+_d.duration);};function onProgress(){console.log("M: video progress event");};function onTimeUpdate(){};function onEnded(){console.log("M: video ended event");_d.pause();_v.trigger("completeSNI",{"mode":O.state.mode,"channelId":O.state.channelId,"videoId":O.data.eff.channel.video[O.state.curVidIdx].videoId});}
function onSuspend(){console.log("M: suspend event");}
function onAbort(){console.log("M: abort event");}
function onError(e){console.log("M: error event "+(_d.error?_d.error.code:'')+" "+_d.networkState);if(!!_d.error&&_d.error.code==_d.error.MEDIA_ERR_SRC_NOT_SUPPORTED&&_d.networkState==_d.NETWORK_NO_SOURCE){if(_d.webkitDisplayingFullscreen)_d.webkitExitFullscreen();_v.one("startedSNI",function(){O.VPlayer.VidElt.removeOverlay();});O.VPlayer.VidElt.showOverlay(O.Util.getVideoMissingHTML(),"missing");}else{_v.attr("poster",'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==');}}
function onEmptied(){console.log("M: emptied event");}
function onStalled(){console.log("M: stalled event");if((_d.duration-_d.currentTime)<.1){_d.pause();_v.trigger("completeSNI",{"mode":O.state.mode,"channelId":O.state.channelId,"videoId":O.data.eff.channel.video[O.state.curVidIdx].videoId});}}
function onWaiting(){console.log("M: waiting event");}
function onTogglePlay_SNI(e){console.log("M: catch toggle play/pause");}
function onGoTime_SNI(evt,dta){console.log("M: catch go to time offset "+dta.os);}
function onStarted_SNI(evt,dta){console.log("M: catch custom SNI started handler: "+dta.mode);return;}
function onComplete_SNI(evt,dta){console.log("M: catch custom SNI complete handler: mode: |"+dta.mode+"|  src: |"+_v.attr("src")+"|");if(O.state.mode){O.state.mode="";_v.removeAttr("src");_d.pause();if(O.state.playbackQ.length>0){_v.one("startedSNI",function(){O.VPlayer.VidElt.removeOverlay();});O.VPlayer.VidElt.showOverlay(O.Util.getLoadingHTML(),"loading");(O.state.playbackQ.pop())();}}
return;}
function onPlayVideoByUrl_SNI(evt,dta){console.log("M: catch custom SNI play video by URL handler "+dta.url);_v.unbind(".vid");console.log("binding custom startedSNI");_v.one("playing",function(){console.log("triggering custom play->startedSNI networkstate: "+_d.networkState);if(!_d.error&&_d.networkState!=_d.NETWORK_NO_SOURCE){_v.trigger("startedSNI",{"mode":O.state.mode,"channelId":O.state.channelId,"videoId":O.data.eff.channel.video[O.state.curVidIdx].videoId});}});O.VPlayer.VidElt.playVideoByUrl(dta.url);return;}},playVideoByUrl:function(inUrl){console.log("M: loading new "+inUrl);O.VPlayer.elts.dVidElt.src=inUrl;O.VPlayer.elts.dVidElt.load();O.VPlayer.elts.dVidElt.play();return;}},init:function(){this.Playlist.init();return;}};})();O.Ads=(function(){return new function(){var Public=this;var doPreroll=function(){var url=O.Util.getAdURLbyType("preroll");O.data.extrn.ads.cur={};delete O.data.eff.ads.cur;O.Util.loadXML({url:url,tgt:O.data.extrn.ads.cur,ctrlID:"adLoaded",postProc:function(){O.Ads.parseAd();}});};Public.doPreroll=doPreroll;var parseAd=function(){var _o={};try{var _i,_j,_m;var _a=O.data.extrn.ads.cur.VAST.Ad.InLine.Creatives.Creative;for(_i=0;_i<_a.length;_i++){if(typeof _a[_i].Linear!="undefined"){_m=_a[_i].Linear.MediaFiles.MediaFile;if(!$.isArray(_m))_m=[_m];for(_j=0;_j<_m.length;_j++){if((new RegExp(O.state.adMediaFmt)).test(_m[_j].type)){_o.video=_m[_j].text;break;}}
_o.dur=O.Util.hhmmss2sss(_a[_i].Linear.Duration);if((typeof _a[_i].Linear.TrackingEvents!="undefined")&&(typeof _a[_i].Linear.TrackingEvents.Tracking!="undefined")){_m=_a[_i].Linear.TrackingEvents.Tracking;if(!$.isArray(_m))_m=[_m];_o.tracking={};for(_j=0;_j<_m.length;_j++){if(typeof _m[_j].text==="string"){_o.tracking[_m[_j].event]=_m[_j].text;}}}}else if(typeof _a[_i].CompanionAds!="undefined"){var _m=_a[_i].CompanionAds.Companion;_o.sync=_m.IFrameResource;}}
_a=O.data.extrn.ads.cur.VAST.Ad.InLine;if(typeof _a.Impression!="undefined"){if(!$.isArray(_a.Impression))_a.Impression=[_a.Impression];_o.impression=[];_a.Impression.forEach(function(_v){if(_v.toString()!=""){_o.impression.push(_v.toString());}});}}
finally{O.data.eff.ads.cur=_o;return;}};Public.parseAd=parseAd;var runAd=function(){try{if(typeof O.data.eff.ads.cur.video!=="string")throw"noVideo";O.VPlayer.elts.jVidElt.trigger("pause");O.state.mode="ad";O.VPlayer.elts.jVidElt.unbind(".ads");O.VPlayer.elts.jVidElt.one("play.ads",function(){if(!O.VPlayer.elts.dVidElt.webkitDisplayingFullscreen)setDartEnterpriseBanner('BIGBOX',SNI.Player.SNAPHTML5.data.eff.ads.cur.sync);});setAdEvents();O.VPlayer.elts.jVidElt.trigger("playVideoByUrlSNI",{"url":O.data.eff.ads.cur.video,"mode":O.state.mode,"channelId":O.state.channelId,"videoId":O.data.eff.channel.video[O.state.curVidIdx].videoId});}catch(e){O.VPlayer.elts.jVidElt.unbind(".ads");(O.state.playbackQ.pop())();}finally{return;}};Public.runAd=runAd;var trackpts=[];Public.trackpts=trackpts;var setAdEvents=function(){var _v=O.VPlayer.elts.jVidElt;trackpts=[];function ckPctEvent(evt){var tp,curTimeOS=O.VPlayer.elts.dVidElt.currentTime;while(trackpts.length>0&&trackpts[0].sss<curTimeOS){tp=trackpts.shift();O.Util.pixelBeacon(tp.urls);}
return;}
if(!!O.data.eff.ads.cur.impression||!!O.data.eff.ads.cur.tracking["start"]){_v.one("play.ads",(function(url){return function(){O.Util.pixelBeacon(url);return;};})([].concat(O.data.eff.ads.cur.impression||[]).concat([O.data.eff.ads.cur.tracking["start"]]||[])));}
if(!!O.data.eff.ads.cur.tracking["complete"]){_v.one("completeSNI.ads",(function(url){return function(){O.Util.pixelBeacon(url);_v.unbind(".ads");return;};})([O.data.eff.ads.cur.tracking["complete"]]));}
if(!!O.data.eff.ads.cur.tracking["midpoint"]){trackpts.push({sss:O.data.eff.ads.cur.dur*.5,urls:[O.data.eff.ads.cur.tracking["midpoint"]]});}
if(!!O.data.eff.ads.cur.tracking["firstQuartile"]){trackpts.push({sss:O.data.eff.ads.cur.dur*.25,urls:[O.data.eff.ads.cur.tracking["firstQuartile"]]});}
if(!!O.data.eff.ads.cur.tracking["thirdQuartile"]){trackpts.push({sss:O.data.eff.ads.cur.dur*.75,urls:[O.data.eff.ads.cur.tracking["thirdQuartile"]]});}
if(trackpts.length>0){trackpts=trackpts.sort(function(a,b){return a.sss-b.sss;});_v.bind("timeupdate.ads",ckPctEvent);}
return;}};})();O.Analytics=(function(){return new function(){var Public=this;var _s,_t;var ThingsToTrack=[];if(!O.state.embed){ThingsToTrack=[{internalName:"VideoSelect",eVars:[21,22,23,24,25,27,28,29,30,33,34,35],props:[37,38],hiers:[1]},{internalName:"VideoAdStart",cfgNames:["VideoAdStart","VideoAdStart2"]},{internalName:"VideoAdComplete"},{internalName:"VideoContentStart"},{internalName:"VideoContentComplete",cfgNames:["VideoContent100%"]},{internalName:"VideoNotFound"},{internalName:"VideoPause"},{internalName:"VideoResume"},{internalName:"VideoScrollLft",eVars:[39],props:[4]},{internalName:"VideoScrollRt",eVars:[39],props:[4]}];}else{ThingsToTrack=[{internalName:"VideoSelect",eVars:[27,28,33,34,35],props:[37,38],hiers:[1]},{internalName:"VideoPause"},{internalName:"VideoResume"}];}
Public.ThingsToTrack=ThingsToTrack;var trackpts={saved:[],working:[]};Public.trackpts=trackpts;var init=function(){_s=$.isEmptyObject(O.data.extrn.Omniture)?O.data.defa.Omniture:O.data.extrn.Omniture;_t=O.data.eff.Omniture;_t.accountName=_s.accountName;_t.vars={};if(!$.isArray(_s.vars.variable)){_s.vars.variable=[_s.vars.variable];}
$.each(_s.vars.variable,function(i,_this){_t.vars[_this.name]={cur:"",defa:_this["default"]};});_t.evars={};if(!$.isArray(_s.formats.customVars.eVars.eVar)){_s.formats.customVars.eVars.eVar=[_s.formats.customVars.eVars.eVar];}
$.each(_s.formats.customVars.eVars.eVar,function(i,_this){_t.evars[_this.number]={cur:"",templ:_this.text};});_t.props={};if(!$.isArray(_s.formats.customVars.props.prop)){_s.formats.customVars.props.prop=[_s.formats.customVars.props.prop];}
$.each(_s.formats.customVars.props.prop,function(i,_this){_t.props[_this.number]={cur:"",templ:_this.text};});_t.hiers={};if(!$.isArray(_s.formats.customVars.hiers.hier)){_s.formats.customVars.hiers.hier=[_s.formats.customVars.hiers.hier];}
$.each(_s.formats.customVars.hiers.hier,function(i,_this){_t.hiers[_this.number]={cur:"",templ:_this.text};});_t.events={};if(!$.isArray(_s.events.event)){_s.events.event=[_s.events.event];}
$.each(_s.events.event,function(i,_this){_t.events[_this.name]={number:_this.number};});var pctEvents=Object.getOwnPropertyNames(_t.events).filter(function(_this,i,a){return/VideoContent\d\d?%/.test(_this);})
if(pctEvents.length>0){$.each(pctEvents,function(i,_this){trackpts.saved.push({pct:/VideoContent(\d\d?)%/.exec(_this)[1]});});trackpts.saved=trackpts.saved.sort(function(a,b){return a.pct-b.pct;});}
return;};Public.init=init;var prepVideo=function(){var _c=O.data.eff.channel;var _v=_c.video[O.state.curVidIdx];_t.vars["Brand"].cur=_t.accountName;_t.vars["Channel"].cur=_c.title;_t.vars["PlayerName"].cur=_c.psaPlayerTitle;_t.vars["OriginalSite"].cur=_v.sourceNetwork;_t.vars["VideoTitle"].cur=_v.clipName;_t.vars["PlayType"].cur="manual";_t.vars["DARTStation"].cur=_c.adLevel;_t.vars["PlayerAction"].cur="HTML5 Video Play";_t.vars["AssetID"].cur=_v.assetId;_t.vars["Sponsor"].cur=_c.sponsorshipValue;_t.vars["ShowName"].cur=_v.showName;_t.vars["Duration"].cur=_v.length;$.each(_t.vars,function(i,_this){if(_this.cur==""){_this.cur=_this.defa;}});$.each(_t.evars,function(i,_this){_this.cur=_t.vars[/\$(\w+)\$/.exec(_this.templ)[1]].cur;});$.each(_t.props,function(i,_this){_this.cur=_t.vars[/\$(\w+)\$/.exec(_this.templ)[1]].cur;});$.each(_t.hiers,function(i,_this){_this.cur="";$.each(_this.templ.split('|'),function(i,__this){if(i>0)_this.cur+='|';_this.cur+=_t.vars[/\$(\w+)\$/.exec(__this)[1]].cur;});});$.each(ThingsToTrack,function(i,_this){_this.cleared=false;});trackpts.working=[];$.each(trackpts.saved,function(_i,_this){trackpts.working[_i]={pct:_this.pct,sss:_this.pct*_v.length_sss/100};});setOmniEvents();return;};Public.prepVideo=prepVideo;var setOmniEvents=function(){var _v=O.VPlayer.elts.jVidElt;function ckPctEvent(evt){var tp,tps=trackpts.working,curTimeOS=O.VPlayer.elts.dVidElt.currentTime;if(O.state.mode!="content")return;while(tps.length>0&&tps[0].sss<curTimeOS){tp=tps.shift();}
if(typeof tp==="object"){sendOmnitureEvent({events:[_t.events["VideoContent"+tp.pct+"%"].number],linkName:"Video Content",eVars:[],props:[],hiers:[]});}
return;}
_v.unbind(".omni");if(O.data.eff.config.showCarousel)O.VPlayer.elts.jChNav.unbind(".omni");for(var _i=0,itm;itm=ThingsToTrack[_i];_i++){itm.cleared=false;var events=[],linkname="";if(!$.isArray(itm.cfgNames)){itm.cfgNames=[itm.internalName];}
for(var _j=0;_j<itm.cfgNames.length;_j++){if(typeof _t.events[itm.cfgNames[_j]]==="object"){events.push(_t.events[itm.cfgNames[_j]].number);}}
var omniEvent={idx:_i,events:events,linkName:"",eVars:itm.eVars||[],props:itm.props||[],hiers:itm.hiers||[]};switch(itm.internalName){case"VideoSelect":omniEvent.linkName="Video Select";_v.one("startedSNI.omni",(function(omniEvent){return function(evt,dta){if(!O.Analytics.ThingsToTrack[omniEvent.idx].cleared){O.Analytics.ThingsToTrack[omniEvent.idx].cleared=true;sendOmnitureEvent(omniEvent);}};})(omniEvent));break;case"VideoAdStart":omniEvent.linkName="Video Ad";_v.bind("startedSNI.omni",(function(omniEvent){return function(evt,dta){if(dta.mode=="ad"&&!O.Analytics.ThingsToTrack[omniEvent.idx].cleared){O.Analytics.ThingsToTrack[omniEvent.idx].cleared=true;sendOmnitureEvent(omniEvent);}};})(omniEvent));break;case"VideoAdComplete":omniEvent.linkName="Video Ad";_v.bind("completeSNI.omni",(function(omniEvent){return function(evt,dta){if(dta.mode=="ad"&&!O.Analytics.ThingsToTrack[omniEvent.idx].cleared){O.Analytics.ThingsToTrack[omniEvent.idx].cleared=true;sendOmnitureEvent(omniEvent);}};})(omniEvent));break;case"VideoContentStart":omniEvent.linkName="Video Content";_v.bind("startedSNI.omni",(function(omniEvent){return function(evt,dta){if(dta.mode=="content"&&!O.Analytics.ThingsToTrack[omniEvent.idx].cleared){O.Analytics.ThingsToTrack[omniEvent.idx].cleared=true;sendOmnitureEvent(omniEvent);}};})(omniEvent));break;case"VideoContentComplete":omniEvent.linkName="Video Content";_v.bind("completeSNI.omni",(function(omniEvent){return function(evt,dta){if(dta.mode=="content"&&!O.Analytics.ThingsToTrack[omniEvent.idx].cleared){O.Analytics.ThingsToTrack[omniEvent.idx].cleared=true;sendOmnitureEvent(omniEvent);}};})(omniEvent));break;case"VideoNotFound":break;case"VideoPause":break;case"VideoResume":break;case"VideoScrollLft":if(O.data.eff.config.showCarousel){omniEvent.linkName="Video Player: Arrow Scroll";omniEvent.varOverride={"PlayerAction":"Video Player: Arrow Scroll Left"};O.VPlayer.elts.jChNav.delegate(".prev-btn",O.Util.getUIselectEvent("omni"),(function(omniEvent){return function(evt,dta){if(!$(evt.currentTarget).hasClass("disabled"))sendOmnitureEvent(omniEvent);};})(omniEvent));}
break;case"VideoScrollRt":if(O.data.eff.config.showCarousel){omniEvent.linkName="Video Player: Arrow Scroll";omniEvent.varOverride={"PlayerAction":"Video Player: Arrow Scroll Right"};O.VPlayer.elts.jChNav.delegate(".next-btn",O.Util.getUIselectEvent("omni"),(function(omniEvent){return function(evt,dta){if(!$(evt.currentTarget).hasClass("disabled"))sendOmnitureEvent(omniEvent);};})(omniEvent));}
break;}}
if(trackpts.saved.length>0){_v.bind("timeupdate.omni",ckPctEvent);}
return;};var s_save={};var clearVars=function(s){function saveNclear(i,mem){s_save[mem]=s[mem];s[mem]="";}
$.each(["usePlugins","channel","pageName","pageURL","events"],saveNclear);for(var i=0;i<50;i++){saveNclear(i,"prop"+i);saveNclear(i,"eVar"+i);saveNclear(i,"hier"+i);}
s_save.trackingServer=s.trackingServer;s.trackingServer=s.trackingServer.replace(/\w+(\..*)/,_t.accountName+"$1");s.usePlugins=false;return;};var restoreVars=function(s){function putItBack(i,mem){s[mem]=s_save[mem];}
$.each(["usePlugins","channel","pageName","pageURL","events"],putItBack);for(var i=0;i<50;i++){putItBack(i,"prop"+i);putItBack(i,"eVar"+i);putItBack(i,"hier"+i);}
s.trackingServer=s_save.trackingServer;return;};var qOmni=[];var sendOmnitureEvent=function(omniDta){if(typeof omniDta==="object")qOmni.push(omniDta);ckQOmni();};Public.sendOmnitureEvent=sendOmnitureEvent;var ckQOmni=function(){function doOverride(){var _k;$.each(_t.props,function(_i,_v){_k=/\$(\w+)\$/.exec(_v.templ)[1];if(_k in _d.varOverride){_v.sav=_v.cur;_v.cur=_d.varOverride[_k];}});$.each(_t.evars,function(_i,_v){_k=/\$(\w+)\$/.exec(_v.templ)[1];if(_k in _d.varOverride){_v.sav=_v.cur;_v.cur=_d.varOverride[_k];}});return;}
function undoOverride(){$.each(_t.props,function(_i,_v){if(_v.sav){_v.cur=_v.sav;delete _v.sav;}});$.each(_t.evars,function(_i,_v){if(_v.sav){_v.cur=_v.sav;delete _v.sav;}});return;}
var _to;if(typeof s_gi!='function'){_to=setTimeout(function(){clearTimeout(_to);_to=null;ckQOmni();},1000);return false;}else{if(_to!==null){clearTimeout(_to);_to=null;}
while(qOmni.length>0){var _d=qOmni.pop();var s=s_gi(_t.accountName);var _name;clearVars(s);s.events=[];_d.events.forEach(function(_v){s.events.push("event"+_v);});s.events=s.events.join(',');if(s.events=="")s.events="None";s.linkTrackEvents=s.events;s.linkTrackVars=[];if(typeof _d.varOverride==="object")doOverride();_d.props.forEach(function(_v){_name="prop"+_v;s.linkTrackVars.push(_name);s[_name]=_t.props[_v].cur;});_d.eVars.forEach(function(_v){_name="eVar"+_v;s.linkTrackVars.push(_name);s[_name]=_t.evars[_v].cur;});_d.hiers.forEach(function(_v){_name="hier"+i;s.linkTrackVars.push(_name);s[_name]=_t.hiers[_v].cur;});s.linkTrackVars=s.linkTrackVars.join(',');if(s.linkTrackVars=="")s.linkTrackVars="None";console.log("OMNI: event "+s.events+" "+s.linkTrackVars);s.tl(true,'o',_d.linkName);if(typeof _d.varOverride==="object")undoOverride();restoreVars(s);}
return true;}};};})();O.TVL=(function(){return new function(){var Public=this;var UIevents=function(){if(typeof O.data.extrn.cfgArgs.userEventHandler!="function")return;var _v=O.VPlayer.elts.jVidElt;O.data.extrn.cfgArgs.userEventHandler("playerReady",{"itemType":O.state.mode,"channelId":O.state.channelId,"videoId":O.state.videoId});_v.bind("playVideoByUrlSNI",function(evt,dta){O.data.extrn.cfgArgs.userEventHandler("itemBegin",{"itemType":dta.mode||"ad","channelId":dta.channelId,"videoId":dta.videoId})});_v.bind("completeSNI",function(evt,dta){O.data.extrn.cfgArgs.userEventHandler("itemEnd",{"itemType":dta.mode||"ad","channelId":dta.channelId,"videoId":dta.videoId});});_v.bind("pause",function(){O.data.extrn.cfgArgs.userEventHandler("itemPause",{"itemType":O.state.mode||"ad","channelId":O.state.channelId,"videoId":O.data.eff.channel.video[O.state.curVidIdx].videoId});});_v.bind("play",function(){O.data.extrn.cfgArgs.userEventHandler("itemResume",{"itemType":O.state.mode||"ad","channelId":O.state.channelId,"videoId":O.data.eff.channel.video[O.state.curVidIdx].videoId});});};Public.UIevents=UIevents;};})();O.init=function(inCfg){if(typeof $.parseXML!=="function"){$.parseXML=O.Util.parseXML;}
if(!SNI.Config.DEBUG||!SNI.Config.DEBUG.log){console.log=function(){return;};}else if(!!SNI.Config.DEBUG&&SNI.Config.DEBUG.log==="server"){$.get("http://frontend.scrippsnetworks.com/~clewis/log/cel_log.php",{msg:window.navigator.userAgent+" : log started",mode:'w'});console.log=function(x){$.get("http://frontend.scrippsnetworks.com/~clewis/log/cel_log.php",{msg:window.navigator.userAgent+" : "+x});};}
console.log(inCfg);O.StartUp.Controller.init();O.StartUp.Tasks.prepCfgArgsState(inCfg);if(/safari/i.test(window.navigator.userAgent)){O.state.adMediaFmt="mp4";}else if(/firefox/i.test(window.navigator.userAgent)){O.state.adMediaFmt="ogg";}
O.state.configStyles=O.state.configFiles.filter(function(v){return/-style/.test(v);})[0];O.state.configGenl=O.state.configFiles.filter(function(v){return!/-style/.test(v);})[0];SNI.Player.doLoadPlaylist=O.setPlaylist;$(O).trigger("initialLoad");};O.initPlay=function(){console.log("Ready to Play!!");O.Analytics.init();SNI.Player.loadPlaylist=O.loadNewChannel;O.VPlayer.init();return;};O.setPlaylist=function(inChannelId,inChannelUrl,inTitle,inVideoId){console.log("set playlist HTML5");O.state.videoId=!!inVideoId?inVideoId:'';O.state.mode='';console.log("setPlaylist: "+inChannelId+' | '+inChannelUrl+' | '+inTitle+' | '+inVideoId);if(!!inChannelId&&O.state.channelId!=inChannelId){O.state.channelId=inChannelId;O.state.channelUrl=inChannelUrl;$(O).trigger("loadNewPlaylist");}else{O.VPlayer.Playlist.findSelectedVid();O.VPlayer.Playlist.readyToPlayVid();}
return;};};})(jQuery);SNI.Player.getEmbed=function(videoId,width,height){var flashEmbed="",htmlEmbed="",allEmbed="";var channelurl=SNI.Player.getPlaylistUrl(videoId+"-VIDEO");var html5templ="embedplayer.html";flashEmbed+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"';flashEmbed+=' codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,124,0"';flashEmbed+=' width="'+width+'" height="'+height+'">';flashEmbed+='<param name="movie" value="';flashEmbed+=SNI.Config.snapBinaryEmbed+'?channelurl='+encodeURIComponent(channelurl)+"&channel="+videoId+'"/>';flashEmbed+='<param name="allowFullScreen" value="true"/><param name="allowscriptaccess" value="always"/><param name="bgcolor" value="#FFFFFF"/>';flashEmbed+='<embed src="';flashEmbed+=SNI.Config.snapBinaryEmbed+'?channelurl='+encodeURIComponent(channelurl)+"&channel="+videoId+'"';flashEmbed+=' type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" bgcolor="#FFFFFF"';flashEmbed+=' width="'+width+'" height="'+height+'"/>';flashEmbed+='</object>';if(SNI.Config.snapEnableHTML5){htmlEmbed+='<iframe';htmlEmbed+=' width="'+width+'" height="'+height+'"';htmlEmbed+=' src="'+html5templ;htmlEmbed+='?width='+width+'&height='+height+' '+'&channelurl='+encodeURIComponent(channelurl)+'">';htmlEmbed+='</iframe>';}
if(!SNI.Config.snapEnableHTML5){return flashEmbed;}else{allEmbed+='<script type="text/javascript">if (/iphone|ipad|ipod/i.test(window.navigator.userAgent)) {'
allEmbed+="document.write('"+htmlEmbed+"');";allEmbed+='} else {';allEmbed+="document.write('"+flashEmbed+"')";allEmbed+='}';allEmbed+='</script>';return allEmbed;}};  

(function($){var hitCountQueue=[];SNI.Config=$.extend(true,{},{Nielsen:{ci:"us-200639h",autoTrackPages:false,useIframeTracking:true,hitCountIframeContainer:"hitCountIframeContainer",hitCountHtmlUrl:((location.host=="www.hgtv.com")?"http://img.hgtv.com/webhgtv/hg20/html/fixHits.html":"http://frontend.scrippsnetworks.com/hgtv/fixHits.html")}},SNI.Config);var config=SNI.Config.Nielsen;config.element=$("<div id=\""+config.hitCountIframeContainer+"\" style=\"display: none;\"></div>");$.extend(true,SNI,{Nielsen:{hitCount:function(){hitCountQueue.push(true);},trackPageView:function(){return false;var d=new Image(1,1);d.onerror=d.onload=function(){d.onerror=d.onload=null;};d.src=["//secure-us.imrworldwide.com/cgi-bin/m?ci=",SNI.Config.Nielsen.ci,"&cg=0&cc=1&si=",escape(window.location.href),"&rp=",escape(document.referrer),"&ts=compact&rnd=",(new Date()).getTime()].join('');},trackNSE:function(){if(config.useIframeTracking){SNI.Nielsen.hitCount();}
var d=new Image(1,1);d.src=["//secure-us.imrworldwide.com/cgi-bin/m?ci=",SNI.Config.Nielsen.ci,"&cg=0&cc=1&si=",escape(window.location.href),"&rp=",escape(document.referrer),"&c0=usergen,1&rnd=",(new Date()).getTime()].join('');}}});$(document).ready(function(){$(document.body).append(config.element);if(config.autoTrackPages){SNI.Nielsen.trackPageView();}
SNI.Nielsen.hitCount=function(){var cacheBuster=new Date();$(config.element).append('<iframe class="hitCounter" src="'+config.hitCountHtmlUrl+"?t="+cacheBuster.getTime()+'" width="0" height="0" frameborder="0" style="height:0; width:0; display:none;"></iframe>');return;};$.each(hitCountQueue,function(){SNI.Nielsen.hitCount();});});})(jQuery);
SNI=SNI||{};SNI.DynamicAds=(function($){var DynamicAds=function(){var d=this;d.descr={active:true,refreshRate:3,interstitial:false,intFreqCap:0,globalSession:false};d.iparm={iURL:"",iFmt:"",iHREF:"",iHeight:"",iWidth:"",iTrackURL:"",bURL:""};d.ixState={imgViews:1,impTot:0,refreshTot:0,bRefreshed:true};d.ixCfg={descriptor:"PHOTO_DESCRIPTOR",param_styles:'photoGallery',container:".photo-gallery4",dismiss_elts:".photo-gallery4 .pg-navigation .pg-next, .photo-gallery4 .pg-navigation .pg-previous",insert_tgt:".photo-gallery4 .pg-viewport .pg-photo-display-wrapper",inter_elt:""};d.init=function(oDynAdCfg){if(typeof oDynAdCfg!="undefined"){if(oDynAdCfg.descriptor!=null){d.ixCfg.descriptor=oDynAdCfg.descriptor}
if(oDynAdCfg.param_styles!=null){d.ixCfg.param_styles=oDynAdCfg.param_styles}
if(oDynAdCfg.container!=null){d.ixCfg.container=oDynAdCfg.container;}
if(oDynAdCfg.dismiss_elts!=null){d.ixCfg.dismiss_elts=oDynAdCfg.dismiss_elts;}
if(oDynAdCfg.insert_tgt!=null){d.ixCfg.insert_tgt=oDynAdCfg.insert_tgt;}}
var myJSON=getDartEnterpriseUrl(d.ixCfg.descriptor,1)+"&params.styles="+d.ixCfg.param_styles+"&callback=?";window.onerror=function(msg,url,linenumber){window.onerror=function(msg,url,linenumber){return false;};return true;};$.getJSON(myJSON,d.cback_descrJSON);return;};d.cback_descrJSON=function(oJSON){if(typeof oJSON!="object"){return false;}
if(oJSON.photo_descriptor==undefined){return false;}
oJSON=oJSON.photo_descriptor;if((oJSON.active==undefined)||(oJSON.active!="true")){d.descr.active=false;return false;}
d.descr.active=true;if(oJSON.refreshRate!=undefined){tmp=parseInt(oJSON.refreshRate);if(!isNaN(tmp)&&(tmp>0&&tmp<=100)){d.descr.refreshRate=tmp;}}
if(oJSON.interstitial=="true"){d.descr.interstitial=true;}
if(oJSON.intFreqCap!=undefined){tmp=parseInt(oJSON.intFreqCap);if(!isNaN(tmp)&&(tmp>0)){d.descr.intFreqCap=tmp;}}
if((oJSON.globalSession!=undefined)&&(oJSON.globalSession=="yes")){d.descr.globalSession=true;var sCookie=SNI.Util.Cookie.get('dynads');if(sCookie!=null){aCookie=sCookie.split(',');var nTmpCt=aCookie[0];if(nTmpCt!=null){d.ixState.impTot=parseInt(nTmpCt);}
var nTmpCt=aCookie[1];if(nTmpCt!=null){d.ixState.refreshTot=parseInt(nTmpCt);}}}
window.onerror=function(msg,url,linenumber){return false;};return true;};d.refresh=function(){retval=false;if(!d.descr.active){return retval;}
if(adManager){var now=new Date(),ad_ord=now.getTime()%10000000000;adManager.setParameter("ord",ad_ord);}
$(d.ixCfg.inter_elt).remove();if(d.ixState.imgViews>=d.descr.refreshRate){d.ixState.imgViews=1;d.ixState.refreshTot++;d.saveSessState();if((!d.descr.interstitial)||((d.descr.intFreqCap>0)&&(d.ixState.impTot>=d.descr.intFreqCap))){setDartEnterpriseBanner("BIGBOX",getDartEnterpriseUrl("BIGBOX",5));}else{var myJSON=getDartEnterpriseUrl("PHOTO_INTERSTITIAL",1)+"&params.styles=photoGallery&refreshCount="+(d.ixState.refreshTot)+"&callback=?";window.onerror=function(msg,url,linenumber){setDartEnterpriseBanner("BIGBOX",getDartEnterpriseUrl("BIGBOX",5));window.onerror=function(msg,url,linenumber){return false;};return true;};$.getJSON(myJSON,d.cback_interJSON);retval=true;}}else{d.ixState.imgViews++;}
return retval;};d.saveSessState=function(){if(d.descr.globalSession){var sCookie=d.ixState.impTot+','+d.ixState.refreshTot;SNI.Util.Cookie.set('dynads',sCookie);}
return;}
d.cback_interJSON=function(oJSON){$.each(d.iparm,function(key,val){d.iparm[key]="";});if(typeof oJSON!="object"){return false;}
if(typeof oJSON.scrippsads!="object"){return false;}
if(typeof oJSON.scrippsads.ad!="object"){return false;}
for(i=0;i<oJSON.scrippsads.ad.length;++i){if(typeof oJSON.scrippsads.ad[i].position!="object"){return false;}
with(oJSON.scrippsads.ad[i].position){if((d.iparm.iURL=="")&&(id=="interstitial")){d.iparm.iURL=media.src;d.iparm.iFmt=media.format;d.iparm.iHREF=media.href;d.iparm.iHeight=media.height;d.iparm.iWidth=media.width;if(typeof media.tracking.audit=="object"){d.iparm.iTrackURL=media.tracking.audit.src;}}
if((d.iparm.bURL=="")&&(id=="300syncBanner")){d.iparm.bURL=media.src;}}}
if(d.ixState.bRefreshed&&(d.iparm.iURL!="")&&(d.iparm.iFmt!="")){d.ixState.bRefreshed=false;setTimeout(function(){d.ixState.bRefreshed=true;},5000);d.gen_interstitial();d.ixState.impTot++;}
if(d.iparm.bURL!=""){setDartEnterpriseBanner("BIGBOX",d.iparm.bURL);}else{setDartEnterpriseBanner("BIGBOX",getDartEnterpriseUrl("BIGBOX",5));}
window.onerror=function(msg,url,linenumber){return false;};d.saveSessState();return;};d.fmt_interstitial=function(){var hRet="";hRet+='<div class="interwrap">';hRet+='<a href="#" class="close"><span></span>Continue to Next Photo</a>';hRet+='<h6 class="mrec">Advertisement</h6>';hRet+='<div class="inter-container">';if(d.iparm.iFmt.toLowerCase()=="swf"){hRet+='<div id="interad">'
+'<a class="no-flash-message" href="http://www.adobe.com/go/getflashplayer">'
+'<img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />'
+'</a>'
+'</div>';}else{if(d.iparm.iHREF!=""){hRet+='<a href="'+d.iparm.iHREF+'">';}
hRet+='<img src ="'+d.iparm.iURL+'" />';if(d.iparm.iHREF!=""){hRet+='</a>';}}
hRet+='<iframe class="tracker" width="0" height="0" frameborder="0"></iframe>';hRet+='</div>';hRet+='</div>';return hRet;};d.gen_interstitial=function(){var hRet=d.fmt_interstitial();d.ixCfg.inter_elt=$(hRet).appendTo(d.ixCfg.insert_tgt);var dismiss_fn=function(e){e.stopImmediatePropagation();$(d.ixCfg.dismiss_elts).each(function(i){$(this).unbind('click',dismiss_fn).data("block","no");});$(d.ixCfg.container).removeClass("interstitial-show");$(d.ixCfg.inter_elt).remove()
return false;};$(d.ixCfg.inter_elt).find(".close").click(dismiss_fn);$(d.ixCfg.dismiss_elts).each(function(i){$(this).data("block","yes").click(dismiss_fn);});if(d.iparm.iFmt.toLowerCase()=="swf"){swfobject.embedSWF(d.iparm.iURL,"interad",d.iparm.iWidth,d.iparm.iHeight,"9","http://common.scrippsnetworks.com/common/flash-express-install/expressInstall.swf",null,{wmode:"transparent",allowScriptAccess:"always",quality:"high"});}
$(d.ixCfg.container).addClass("interstitial-show");$(d.ixCfg.inter_elt).find(".tracker").attr("src",d.iparm.iTrackURL);$(d.ixCfg.container).removeClass("loading");return;};d.reset_cap=function(){if(!d.descr.globalSession){d.ixState.imgViews=1;d.ixState.impTot=0;d.ixState.refreshTot=0;}
return;};};return new DynamicAds();})(jQuery);
if(typeof(SNI.Pixel)==="undefined"){SNI.Pixel={};}
SNI.Pixel.init=function(url){if(url){SNI.Pixel.asyncLoad(url);}};SNI.Pixel.asyncLoad=function(url){var s=document.createElement('script');s.type='text/javascript';s.async=true;s.src=url;var x=document.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};




C.coreReady();